function xContentTimeline(){let e=function(e,t){let n=!1,i=!1,l=!1,o=!1,r,c,a,m,s,x,u,f,y,d=window.innerHeight,g,h;function q(e,t,n,i,l){n+t<t+l/(c=2)-i/2?(e.classList.add("x-content-timeline_active"),e.dispatchEvent(new Event("x_timeline_item:active"))):(e.classList.remove("x-content-timeline_active"),e.dispatchEvent(new Event("x_timeline_item:inactive")))}function S(e,t,l){let o=e.querySelector(".x-content-timeline_item:first-of-type"),r=e.querySelector(".x-content-timeline_item:last-of-type"),g=e.querySelector(".x-content-timeline_line"),h=e.querySelector(".x-content-timeline_line-active");if(!r){let q=e.querySelectorAll(".x-content-timeline_item");r=q[q.length-1]}if(o&&r&&g&&h){if(!1===i&&(f=o.querySelector(".x-content-timeline_marker-inner").offsetHeight,y=r.querySelector(".x-content-timeline_marker-inner").offsetHeight,d=window.innerHeight,i=!0),c=2,a=t+o.querySelector(".x-content-timeline_marker-inner").getBoundingClientRect().top+y-2,m=1/(t+r.querySelector(".x-content-timeline_marker-inner").getBoundingClientRect().top+y-2-a),u=100*(x=(s=t-a+d/c)*m),x<0||isNaN(parseFloat(x))?e.style.setProperty("--x-timeline-progress","0"):0<=x&&x<=1?e.style.setProperty("--x-timeline-progress",u):e.style.setProperty("--x-timeline-progress","100"),n&&"scroll"===l)return;n=!0,"resize"===l&&(n=!1),setTimeout(()=>{g.style.opacity="0",g.style.top=o.querySelector(".x-content-timeline_marker").getBoundingClientRect().top+o.querySelector(".x-content-timeline_marker").offsetHeight/2-e.getBoundingClientRect().top+"px",g.style.bottom=e.getBoundingClientRect().bottom-r.querySelector(".x-content-timeline_marker").getBoundingClientRect().bottom+r.querySelector(".x-content-timeline_marker").offsetHeight/2+"px",g.style.left=o.querySelector(".x-content-timeline_marker").getBoundingClientRect().left+o.querySelector(".x-content-timeline_marker").offsetWidth/2-e.getBoundingClientRect().left+"px",g.style.opacity="1",n=!1,i=!1},50)}}function p(){r=window.scrollY,document.querySelectorAll('.brxe-xcontenttimeline[data-x-horizontal="false"]').forEach(e=>{S(e,r,"scroll")}),!l&&(l=!0,setTimeout(()=>{d=window.innerHeight,document.querySelectorAll('.brxe-xcontenttimeline[data-x-horizontal="false"][data-x-scroll="true"] .x-content-timeline_item').forEach(e=>{h=e.querySelector(".x-content-timeline_marker-inner").getBoundingClientRect().top,g=e.querySelector(".x-content-timeline_marker-inner").offsetHeight,q(e,r,h,g,d)}),l=!1},150))}function _(){r=window.scrollY,document.querySelectorAll('.brxe-xcontenttimeline[data-x-horizontal="false"]').forEach(e=>{S(e,r,"resize")}),!o&&(o=!0,setTimeout(()=>{d=window.innerHeight,document.querySelectorAll('.brxe-xcontenttimeline[data-x-horizontal="false"][data-x-scroll="true"] .x-content-timeline_item').forEach(e=>{h=e.getBoundingClientRect().top,g=e.offsetHeight,q(e,r,h,g,d)}),o=!1},250))}window.addEventListener("scroll",function e(t){requestAnimationFrame(p)},!1),window.addEventListener("resize",function e(t){requestAnimationFrame(_)},!1),e.querySelectorAll('.brxe-xcontenttimeline[data-x-horizontal="false"]').forEach(e=>{setTimeout(()=>{e.querySelector(".x-content-timeline_list").classList.add("x-content-timeline_ready"),S(e)},200)})};e(document,ajax=!1),xExtrasRegisterAJAXHandler("doExtrasTimeline"),window.doExtrasTimeline=e}document.addEventListener("DOMContentLoaded",function(e){bricksIsFrontend&&xContentTimeline()});