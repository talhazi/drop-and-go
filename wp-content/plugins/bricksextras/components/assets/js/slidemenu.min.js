function xSlideMenu(){let e=function(e){e.querySelectorAll(".brxe-xslidemenu").forEach(e=>{let l=e.getAttribute("data-x-slide-menu"),r=l?JSON.parse(l):{},i=document.querySelector(".brx-body.iframe"),o=r.slideDuration;if(e.querySelectorAll(".menu-item-has-children > a").forEach(t=>{t.querySelector(".x-slide-menu_dropdown-icon")&&t.querySelector(".x-slide-menu_dropdown-icon").remove();var n=document.createElement("button");n.setAttribute("aria-expanded","false"),n.setAttribute("class","x-slide-menu_dropdown-icon"),n.setAttribute("aria-label",r.subMenuAriaLabel),t.append(n),e.querySelector(".x-sub-menu-icon")?n.innerHTML+=e.querySelector(".x-sub-menu-icon").innerHTML:n.innerHTML+='<svg class="x-slide-menu_dropdown-icon-svg" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"/>',n.addEventListener("click",function e(t){t.preventDefault(),t.stopPropagation();let n=this.closest(".menu-item-has-children");this.setAttribute("aria-expanded","true"===this.getAttribute("aria-expanded")?"false":"true"),n.lastElementChild.xslideToggle(o);Array.from(n.parentElement.children).filter(e=>e.textContent!==n.textContent).forEach(e=>{e.classList.contains("menu-item-has-children")&&(e.lastElementChild.xslideUp(o),e.children[0].lastElementChild.setAttribute("aria-expanded","false"))})})}),r.maybeExpandActive&&e.querySelector(".current-menu-ancestor > a > .x-slide-menu_dropdown-icon")&&e.querySelectorAll(".current-menu-ancestor").forEach(e=>{e&&e.querySelector(".sub-menu")&&e.querySelector("a > .x-slide-menu_dropdown-icon")&&(e.querySelector(".sub-menu").xslideDown(0),e.querySelector("a > .x-slide-menu_dropdown-icon").setAttribute("aria-expanded","true"))}),e.querySelectorAll('.menu-item-has-children > a[href*="#"]').forEach(t=>{t.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),t.querySelector(".x-slide-menu_dropdown-icon").click()}),null!=r.clickSelector&&document.querySelectorAll(r.clickSelector).length&&e.querySelectorAll('.menu-item:not(.menu-item-has-children) > a[href*="#"]').forEach(e=>{!i&&e.addEventListener("click",function(e){document.querySelector(r.clickSelector).click()})})}),null!=r.clickSelector&&document.querySelectorAll(r.clickSelector).length){let d=!1;function a(e){if("Escape"===e.key||"Esc"===e.key){document.querySelector(r.clickSelector).click();return}e.target.closest(".x-slide-menu_open")||e.target.closest(r.clickSelector)||document.querySelector(r.clickSelector).click()}i||document.querySelectorAll(r.clickSelector).forEach(l=>{l.addEventListener("click",function(l){l.preventDefault(),l.stopPropagation(),(d=!d)?(e.classList.add("x-slide-menu_open"),t(e.getAttribute("data-x-id")),document.addEventListener("keydown",a),document.addEventListener("click",a)):(e.classList.remove("x-slide-menu_open"),n(e.getAttribute("data-x-id")),document.removeEventListener("keydown",a),document.removeEventListener("click",a))})})}let c=e.querySelectorAll(".menu-item > a");c.forEach((e,t)=>{e.addEventListener("keydown",t=>{if("ArrowUp"===t.key||"ArrowDown"===t.key||"Home"===t.key||"End"===t.key){t.preventDefault();let n=[];if(c.forEach(e=>{let t=e.closest(".menu-item"),l=t.closest(".sub-menu");(!l||l&&l.offsetHeight>0&&"none"!==l.style.display)&&n.push(e)}),0===n.length)return;let l;if("Home"===t.key)l=0;else if("End"===t.key)l=n.length-1;else{let r=n.indexOf(e);if(-1===r)return;l="ArrowUp"===t.key?0===r?n.length-1:r-1:r===n.length-1?0:r+1}n[l].focus()}})})})};function t(e){let t=document.querySelector('.brxe-xslidemenu[data-x-id="'+e+'"]');if(!t)return;let n=t.getAttribute("data-x-slide-menu"),l=n?JSON.parse(n):{};t.xslideDown(l.slideDuration),t.dispatchEvent(new Event("x_slide_menu:expand"))}function n(e){let t=document.querySelector('.brxe-xslidemenu[data-x-id="'+e+'"]');if(!t)return;let n=t.getAttribute("data-x-slide-menu"),l=n?JSON.parse(n):{};t.xslideUp(l.slideDuration),t.dispatchEvent(new Event("x_slide_menu:collapse"))}e(document),xExtrasRegisterAJAXHandler("doExtrasSlideMenu"),window.doExtrasSlideMenu=e,window.xOpenSlideMenu=t,window.xCloseSlideMenu=n,"undefined"!=typeof bricksextras&&(bricksextras.slidemenu={expand(e){let n=e?.target||!1;n&&n.hasAttribute("data-x-id")&&"none"===window.getComputedStyle(n,null).display&&t(n.getAttribute("data-x-id"))},collapse(e){let t=e?.target||!1;t&&t.hasAttribute("data-x-id")&&"none"!==window.getComputedStyle(t,null).display&&n(t.getAttribute("data-x-id"))},toggle(e){let l=e?.target||!1;l&&l.hasAttribute("data-x-id")&&("none"===window.getComputedStyle(l,null).display?t(l.getAttribute("data-x-id")):n(l.getAttribute("data-x-id")))}})}document.addEventListener("DOMContentLoaded",function(e){bricksIsFrontend&&xSlideMenu()});