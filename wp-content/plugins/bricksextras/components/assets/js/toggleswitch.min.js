function xToggleSwitch(){function t(t,e){t&&(t.style.left=`${e.offsetLeft}px`,t.style.width=`${e.offsetWidth+1}px`,t.style.height=`${e.offsetHeight+1}px`,t.style.top=`${e.offsetTop}px`)}let e=function(e){e.querySelectorAll(".x-toggle-switch").forEach(o=>{if(o.hasAttribute("data-x-ready"))return;o.setAttribute("data-x-ready","true");let c=o.getAttribute("data-x-switch"),r,l;if(document.querySelector("body > .brx-body.iframe")){let n=c.match(/{[^{}]*}/g)||[];r=n.length?JSON.parse(n[n.length-1]):{}}else r=c?JSON.parse(c):{};let s=null!=r.isLooping;s&&(l=r.isLooping,!document.querySelector(".brxe-"+l)&&r.isLoopingComponent&&(l=r.isLoopingComponent));let i="section"!==r.contentSwitcher&&"component"!==r.contentSwitcher&&r.contentSwitcher,a;if(i?a="true"===r.componentScope?o.closest(".brxe-"+r.parentComponent)?.querySelectorAll(i+" .x-content-switcher_content")||[]:e.querySelectorAll(i+" .x-content-switcher_content"):s?o.closest(".brxe-"+l)&&(a=o.closest(".brxe-"+l).querySelectorAll(".x-content-switcher_content")):"component"===r.contentSwitcher&&r.parentComponent?a=o.closest(".brxe-"+r.parentComponent)?.querySelectorAll(".x-content-switcher_content"):o.closest("section")&&(a=o.closest("section").querySelectorAll(".x-content-switcher_content")),a.forEach(t=>{let e=t.parentElement.getAttribute("data-x-id");t.querySelectorAll(".x-content-switcher_block").forEach((t,c)=>{t.hasAttribute("id")||t.setAttribute("id",e+"_"+c),"multiple"===r.type&&(t.setAttribute("role","tabpanel"),t.setAttribute("tabindex","0"),o.querySelectorAll(".x-toggle-switch_labels .x-toggle-switch_label").forEach((e,o)=>{c===o&&(e.setAttribute("aria-controls",(e.getAttribute("aria-controls")||"")+" "+t.id),t.setAttribute("aria-labelledby",e.id))}))})}),"double"===r.type){function g(t){!document.querySelector("body > .brx-body.iframe")&&(i?a="true"===r.componentScope?o.closest(".brxe-"+r.parentComponent)?.querySelectorAll(i+" .x-content-switcher_content")||[]:e.querySelectorAll(i+" .x-content-switcher_content"):s?"component"===r.contentSwitcher&&r.parentComponent?a=t.target.closest(".brxe-"+r.parentComponent).querySelectorAll(".x-content-switcher_content"):t.target.closest(".brxe-"+l)&&(a=t.target.closest(".brxe-"+l).querySelectorAll(".x-content-switcher_content")):"component"===r.contentSwitcher&&r.parentComponent?a=t.target.closest(".brxe-"+r.parentComponent).querySelectorAll(".x-content-switcher_content"):t.target.closest("section")&&(a=t.target.closest("section").querySelectorAll(".x-content-switcher_content")),a.forEach(t=>{t.hasAttribute("data-x-switcher")&&t.removeAttribute("data-x-switcher"),t.classList.contains("x-content-switcher_toggled")?t.classList.remove("x-content-switcher_toggled"):t.classList.add("x-content-switcher_toggled")}))}o.querySelector(".x-toggle-switch_switch")&&o.querySelector(".x-toggle-switch_switch").addEventListener("click",t=>{o.dispatchEvent(new Event("x_toggle_switch:change")),o.querySelector(".x-toggle-switch_switch").classList.contains("x-toggle-switch_toggled")?(o.dispatchEvent(new Event("x_toggle_switch:unchecked")),o.querySelector(".x-toggle-switch_switch").classList.remove("x-toggle-switch_toggled")):(o.querySelector(".x-toggle-switch_switch").classList.add("x-toggle-switch_toggled"),o.dispatchEvent(new Event("x_toggle_switch:checked"))),g(t)}),o.querySelectorAll('input[type="radio"]').forEach(t=>{t.addEventListener("keydown",t=>{("Space"===t.code||"ArrowRight"===t.key||"ArrowUp"===t.key||"ArrowLeft"===t.key||"ArrowDown"===t.key)&&(t.preventDefault(),o.dispatchEvent(new Event("x_toggle_switch:change")),o.querySelector(".x-toggle-switch_switch").classList.contains("x-toggle-switch_toggled")?(o.dispatchEvent(new Event("x_toggle_switch:unchecked")),o.querySelector(".x-toggle-switch_switch").classList.remove("x-toggle-switch_toggled"),o.querySelector("input.x-toggle-switch_left-input").checked=!0,o.querySelector("input.x-toggle-switch_left-input").focus()):(o.querySelector(".x-toggle-switch_switch").classList.add("x-toggle-switch_toggled"),o.dispatchEvent(new Event("x_toggle_switch:checked")),o.querySelector("input.x-toggle-switch_right-input").checked=!0,o.querySelector("input.x-toggle-switch_right-input").focus()),g(t))})})}else{let h=0,x=o.querySelectorAll(".x-toggle-switch_label");o.querySelector(".x-toggle-switch_labels")&&o.querySelector(".x-toggle-switch_labels").addEventListener("keydown",t=>{(39===t.keyCode||37===t.keyCode)&&(x[h].setAttribute("tabindex",-1),39===t.keyCode?++h>=x.length&&(h=0):37===t.keyCode&&--h<0&&(h=x.length-1),x[h].setAttribute("tabindex",0),x[h].focus(),"switch"===r.arrowKeyNavigation&&x[h].click())}),o.addEventListener("click",c=>{if(!c.target||"x-toggle-switch_label"==!c.target.className||"BUTTON"!==c.target.tagName)return;o.dispatchEvent(new Event("x_toggle_switch:change"));let n=c.target.closest(".x-toggle-switch_labels");for(let g of n.children)g.classList.contains("x-toggle-switch_label")&&(g.classList.remove("x-toggle-switch_label-active"),g.setAttribute("aria-selected","false"),g.setAttribute("tabindex","-1"));c.target.classList.add("x-toggle-switch_label-active"),c.target.setAttribute("aria-selected","true"),c.target.setAttribute("tabindex","0"),t(n.parentNode.querySelector(".x-toggle-switch_multiple-slider"),c.target);let h=Array.prototype.indexOf.call(c.target.parentNode.children,c.target)+1;if(document.querySelector("body > .brx-body.iframe"))return;i?a="true"===r.componentScope?o.closest(".brxe-"+r.parentComponent)?.querySelectorAll(i+" .x-content-switcher_content")||[]:e.querySelectorAll(i+" .x-content-switcher_content"):s?c.target.closest(".brxe-"+l)&&(a=c.target.closest(".brxe-"+l).querySelectorAll(".x-content-switcher_content")):"component"===r.contentSwitcher&&r.parentComponent?a=c.target.closest(".brxe-"+r.parentComponent).querySelectorAll(".x-content-switcher_content"):c.target.closest("section")&&(a=c.target.closest("section").querySelectorAll(".x-content-switcher_content"));let x=c.target.closest(".x-toggle-switch").getAttribute("data-x-id");o.dispatchEvent(new Event("x_toggle_switch:toggled_"+h)),a.forEach(t=>{t.classList.contains("x-content-switcher_toggled")?t.classList.remove("x-content-switcher_toggled"):t.setAttribute("data-x-switcher",h+"_"+x)})}),t(o.querySelector(".x-toggle-switch_multiple-slider"),o.querySelector(".x-toggle-switch_label-active"))}if(o.querySelector("button.x-toggle-switch_label")&&"function"==typeof ResizeObserver){let w=new ResizeObserver(e=>{for(let c of e)t(o.querySelector(".x-toggle-switch_multiple-slider"),o.querySelector(".x-toggle-switch_label-active"))});w.observe(o.querySelector(".x-toggle-switch_labels"),{box:"border-box"})}o.querySelector("template[data-brx-loop-start]")&&o.querySelector("template[data-brx-loop-start]").remove()})};e(document),xExtrasRegisterAJAXHandler("doExtrasToggleSwitch"),window.doExtrasToggleSwitch=e}document.addEventListener("DOMContentLoaded",function(t){!document.querySelector("body > .brx-body.iframe")&&bricksIsFrontend&&xToggleSwitch()});