function xProAccordion(){if(document.querySelector("body > .brx-body.iframe"))return;let e=(e,t)=>{var o;return t=t||100,function r(){clearTimeout(o);var c=arguments,i=this;o=setTimeout(function t(){e.apply(i,c)},t)}};function t(e){xToggleAccordionItem(e.target.closest(".x-accordion_header"),xProAccordionConfig(e.target.closest(".x-accordion")))}let o=function(o){o.querySelectorAll(".x-accordion").forEach(r=>{let c=xProAccordionConfig(r),i=r.getAttribute("data-x-id"),n;if(c.hashLink){let a=r.childNodes;if([...a].forEach((e,t)=>{e.id||(n=void 0!==c.loopIndex?c.loopIndex+"_":"",r.parentElement&&r.parentElement.closest(".x-accordion")?""===n?e.id=r.id+"-"+n+(t+1):r.parentElement.closest(".x-accordion").parentElement.closest(".x-accordion")?e.id=r.parentElement.closest(".x-accordion").parentElement.closest(".x-accordion").id+"-"+n+(t+1):e.id=r.parentElement.closest(".x-accordion").id+"-"+n+(t+1):e.id=r.id+"-"+n+(t+1))}),null!=location.hash&&""!=location.hash){let l=0,d=0;setTimeout(()=>{if(document.querySelector(location.hash)){let e=document.querySelector(location.hash);e.closest(".x-accordion").parentElement.closest(".x-accordion")&&(l=1,e.closest(".x-accordion").parentElement.closest(".x-accordion").parentElement.closest(".x-accordion")&&(l=2)),document.querySelector(location.hash).classList.contains("x-accordion_item")?document.querySelector(location.hash).querySelector(".x-accordion_header")&&(1===l?(xOpenAccordionItem(document.querySelector(location.hash).parentElement.closest(".x-accordion_item").querySelector(".x-accordion_header"),xProAccordionConfig(r)),d=50):2===l&&(xOpenAccordionItem(document.querySelector(location.hash).parentElement.closest(".x-accordion_item").parentElement.closest(".x-accordion_item").querySelector(".x-accordion_header"),xProAccordionConfig(r)),setTimeout(()=>{xOpenAccordionItem(document.querySelector(location.hash).parentElement.closest(".x-accordion_item").querySelector(".x-accordion_header"),xProAccordionConfig(r))},50),d=100),setTimeout(()=>{xOpenAccordionItem(document.querySelector(location.hash).querySelector(".x-accordion_header"),xProAccordionConfig(r))},d)):xOpenAccordionItem(document.querySelector(location.hash),xProAccordionConfig(r))}setTimeout(()=>{document.querySelector(location.hash)&&window.scrollTo({top:document.querySelector(location.hash).getBoundingClientRect().top+window.scrollY-c.scrollOffset,left:0,behavior:"smooth"})},100)},50)}bricksQuerySelectorAll(o,[".x-accordion_link",".x-accordion_link > a"]).forEach(e=>{let t=e.getAttribute("href");null!=t&&e.addEventListener("click",function(e){document.querySelector(t)&&(e.preventDefault(),window.scrollTo({top:r.querySelector(t).getBoundingClientRect().top+window.scrollY-c.scrollOffset,left:0,behavior:"smooth"}),setTimeout(()=>{xOpenAccordionItem(document.querySelector(t),xProAccordionConfig(r))},50))})})}let s=[];r.querySelectorAll(".x-accordion_header").forEach(e=>{r===e.closest(".x-accordion")&&s.push(e)}),s.forEach((e,o)=>{let n=null!=e.nextSibling?e.nextSibling:!!e.closest(".x-accordion_item")&&!!e.closest(".x-accordion_item").querySelector(".x-accordion_content")&&e.closest(".x-accordion_item").querySelector(".x-accordion_content");(!e.id||e.id.startsWith("x-accordion_header_"))&&(e.id="x-accordion_header_"+i+"_"+o),n&&((!n.id||n.id.startsWith("x-accordion_content_"))&&(n.id="x-accordion_content_"+i+"_"+o),c.expandFirst&&0===o||c.expandAll?(e.setAttribute("aria-expanded","true"),n.xslideDown(0),e.closest(".x-accordion_item")&&e.closest(".x-accordion_item").classList.add("x-accordion_item-active")):e.setAttribute("aria-expanded","false"),e.setAttribute("aria-controls",n.id),n.setAttribute("aria-labelledby",e.id),n.setAttribute("role","region")),e.removeEventListener("click",t,!0),e.addEventListener("click",t,!0),"BUTTON"!=e.tagName&&e.addEventListener("keypress",function(t){("Enter"===t.code||"Space"===t.code)&&(t.preventDefault(),xToggleAccordionItem(e,xProAccordionConfig(r)))}),c.navKeys&&e.addEventListener("keydown",e=>{"ArrowDown"===e.key?s.length-1===o?(e.preventDefault(),s[0].focus()):(e.preventDefault(),s[o+1].focus()):"ArrowUp"===e.key?0===o?(e.preventDefault(),s[s.length-1].focus()):(e.preventDefault(),s[o-1].focus()):"Home"===e.key?(e.preventDefault(),s[0].focus()):"End"===e.key&&(e.preventDefault(),s[s.length-1].focus())})});let x=!0;function u(){"true"===getComputedStyle(r).getPropertyValue("--x-disable-accordion").split(" ").join("")?x&&(r.querySelectorAll(".x-accordion_item-active").forEach(e=>{e.classList.remove("x-accordion_item-active")}),s.forEach(e=>{e.removeAttribute("tabindex"),e.removeAttribute("role"),e.removeAttribute("aria-expanded"),e.hasAttribute("aria-controls")&&(e.setAttribute("data-controls",e.getAttribute("aria-controls")),e.removeAttribute("aria-controls")),e.removeEventListener("click",t,!0)}),r.querySelectorAll(".x-accordion_content").forEach(e=>{e.style.removeProperty("display"),e.removeAttribute("role"),e.hasAttribute("aria-labelledby")&&(e.setAttribute("data-labelledby",e.getAttribute("aria-labelledby")),e.removeAttribute("aria-labelledby"))}),r.dispatchEvent(new Event("x_accordion_item:destroy")),x=!1):(s.forEach((e,t)=>{e.setAttribute("tabindex","0")}),x||(s.forEach((e,o)=>{if(e.setAttribute("tabindex","0"),e.setAttribute("role","button"),e.hasAttribute("data-controls")&&(e.setAttribute("aria-controls",e.getAttribute("data-controls")),e.removeAttribute("data-controls")),c.expandFirst&&0===o||c.expandAll){let r=null!=e.nextSibling?e.nextSibling:!!e.closest(".x-accordion_item")&&!!e.closest(".x-accordion_item").querySelector(".x-accordion_content")&&e.closest(".x-accordion_item").querySelector(".x-accordion_content");r&&r.xslideDown(0),e.setAttribute("aria-expanded","true"),e.closest(".x-accordion_item")&&e.closest(".x-accordion_item").classList.add("x-accordion_item-active")}else e.setAttribute("aria-expanded","false");e.removeEventListener("click",t,!0),e.addEventListener("click",t,!0)}),r.querySelectorAll(".x-accordion_content").forEach(e=>{e.setAttribute("role","region"),e.hasAttribute("data-labelledby")&&(e.setAttribute("aria-labelledby",e.getAttribute("data-labelledby")),e.removeAttribute("data-labelledby"))}),r.dispatchEvent(new Event("x_accordion_item:reinit")),x=!0))}c.conditional&&(u(),window.addEventListener("resize",e(()=>{u()},0)))})};function r(e){if(void 0===e.detail.queryId){if(void 0===e.detail.popupElement)return;o(e.detail.popupElement)}setTimeout(()=>{if(document.querySelector(".brxe-"+e.detail.queryId))document.querySelector(".brxe-"+e.detail.queryId).closest(".x-accordion")?o(document.querySelector(".brxe-"+e.detail.queryId).closest(".x-accordion").parentElement):document.querySelector(".brxe-"+e.detail.queryId).querySelector(".x-accordion")&&o(document.querySelector(".brxe-"+e.detail.queryId).parentElement);else{let t=document.createTreeWalker(document.body,NodeFilter.SHOW_COMMENT,null,!1);for(;t.nextNode();){let r=t.currentNode;r.nodeValue.includes("brx-loop-start-"+e.detail.queryId)&&(r.parentNode.closest(".x-accordion")?o(r.parentNode.closest(".x-accordion").parentElement):r.parentNode.querySelector(".x-accordion")&&o(r.parentNode))}}},0)}o(document),document.addEventListener("bricks/ajax/load_page/completed",r),document.addEventListener("bricks/ajax/pagination/completed",r),document.addEventListener("bricks/ajax/popup/loaded",r),document.addEventListener("bricks/ajax/end",r),window.doExtrasAccordion=o,"undefined"!=typeof bricksextras&&(bricksextras.accordion={open(e,t){let o=e?.target||!1,r=t?parseInt(t):0;o&&o.querySelector(".x-accordion_item")&&o.querySelectorAll(".x-accordion_item")[r].querySelector(".x-accordion_header")&&"false"===o.querySelectorAll(".x-accordion_item")[r].querySelector(".x-accordion_header").getAttribute("aria-expanded")&&o.querySelectorAll(".x-accordion_item")[r].querySelector(".x-accordion_header").click()},close(e,t){let o=e?.target||!1,r=t?parseInt(t)-1:0;o&&o.querySelector(".x-accordion_item")&&o.querySelectorAll(".x-accordion_item")[r].querySelector(".x-accordion_header")&&"false"!==o.querySelectorAll(".x-accordion_item")[r].querySelector(".x-accordion_header").getAttribute("aria-expanded")&&o.querySelectorAll(".x-accordion_item")[r].querySelector(".x-accordion_header").click()},toggle(e,t){let o=e?.target||!1,r=t?parseInt(t)-1:0;o&&o.querySelector(".x-accordion_item")&&o.querySelectorAll(".x-accordion_item")[r].querySelector(".x-accordion_header")&&o.querySelectorAll(".x-accordion_item")[r].querySelector(".x-accordion_header").click()},closeall(e){let t=e?.target||!1;t&&t.querySelector(".x-accordion_item-active")&&t.querySelectorAll(".x-accordion_item-active").forEach(e=>{e.classList.remove("x-accordion_item-active"),e.querySelector(".x-accordion_header")&&e.querySelector(".x-accordion_header").setAttribute("aria-expanded","false"),e.querySelector(".x-accordion_content")&&(e.querySelector(".x-accordion_content").style.display="none")})},openall(e){let t=e?.target||!1;t&&t.querySelector(".x-accordion_item")&&t.querySelectorAll(".x-accordion_item").forEach(e=>{e.classList.add("x-accordion_item-active"),e.querySelector(".x-accordion_header")&&e.querySelector(".x-accordion_header").setAttribute("aria-expanded","true"),e.querySelector(".x-accordion_content")&&(e.querySelector(".x-accordion_content").style.display="flex")})}})}function xOpenAccordionItem(e,t){e.setAttribute("aria-expanded","true");let o=null!=e.nextSibling?e.nextSibling:!!e.closest(".x-accordion_item")&&!!e.closest(".x-accordion_item").querySelector(".x-accordion_content")&&e.closest(".x-accordion_item").querySelector(".x-accordion_content");if(o&&o.xslideDown(t.duration),e.closest(".x-accordion_item")&&e.closest(".x-accordion_item").classList.add("x-accordion_item-active"),!t.closeSibling){let r=e.closest(".x-accordion_item");if(r){let c=Array.from(r.parentElement.children).filter(e=>e!==r&&e.classList.contains("x-accordion_item")),i=c.map(e=>e.querySelector(".x-accordion_header"));i.forEach((o,r)=>{let c=null!=o.nextSibling?o.nextSibling:o.closest(".x-accordion_item").querySelector(".x-accordion_content");o!=e&&(o.setAttribute("aria-expanded","false"),c.xslideUp(t.duration),o.closest(".x-accordion_item")&&o.closest(".x-accordion_item").classList.remove("x-accordion_item-active"))})}}}function xToggleAccordionItem(e,t){if(!t.closeSibling){let o=e.closest(".x-accordion_item");if(o){let r=Array.from(o.parentElement.children).filter(e=>e!==o&&e.classList.contains("x-accordion_item")),c=r.map(e=>e.querySelector(".x-accordion_header"));c.forEach((o,r)=>{let c=null!=o.nextSibling?o.nextSibling:o.closest(".x-accordion_item").querySelector(".x-accordion_content");o!=e&&("true"===o.getAttribute("aria-expanded")&&o.dispatchEvent(new Event("x_accordion_item:collapse")),o.setAttribute("aria-expanded","false"),c.xslideUp(t.duration),o.closest(".x-accordion_item")&&o.closest(".x-accordion_item").classList.remove("x-accordion_item-active"))})}}let i=null!=e.nextSibling?e.nextSibling:!!e.closest(".x-accordion_item")&&!!e.closest(".x-accordion_item").querySelector(".x-accordion_content")&&e.closest(".x-accordion_item").querySelector(".x-accordion_content"),n=e.closest(".x-accordion");if(n.dispatchEvent(new Event("x_accordion:expand")),e.closest(".x-accordion_item")&&e.closest(".x-accordion_item").parentElement){let a=[...e.closest(".x-accordion_item").parentElement.children].indexOf(e.closest(".x-accordion_item"));"false"===e.getAttribute("aria-expanded")&&n.dispatchEvent(new Event("x_accordion:expand_"+a))}i&&("true"!==e.getAttribute("aria-expanded")?(e.setAttribute("aria-expanded","true"),i.xslideDown(t.duration),i.closest(".brx-has-megamenu")||window.dispatchEvent(new Event("resize")),i.querySelector(".x-read-more_content")&&(i.querySelector(".x-read-more_content").style.maxHeight="",setTimeout(()=>{doExtrasReadmore(i),i.closest(".brx-has-megamenu")||window.dispatchEvent(new Event("resize"))},0)),e.closest(".x-accordion_item")&&e.closest(".x-accordion_item").classList.add("x-accordion_item-active"),e.dispatchEvent(new Event("x_accordion_item:expand"))):(e.setAttribute("aria-expanded","false"),i.xslideUp(t.duration),e.closest(".x-accordion_item")&&e.closest(".x-accordion_item").classList.remove("x-accordion_item-active"),e.dispatchEvent(new Event("x_accordion_item:collapse"))))}function xProAccordionConfig(e){let t=e.getAttribute("data-x-accordion");return t?JSON.parse(t):{}}document.addEventListener("DOMContentLoaded",function(e){bricksIsFrontend&&xProAccordion()});