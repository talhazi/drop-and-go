function xCopyToClipBoard(){let e=function(e){let t,o=!1;e.querySelectorAll(".brxe-xcopytoclipboard").forEach(e=>{let r=e.getAttribute("data-x-copy-to-clipboard"),c=r?JSON.parse(r):{},a="true"===c.componentScope&&c.parentComponent?e.closest(".brxe-"+c.parentComponent):document,l=null!=c.buttonDelay?c.buttonDelay:3e3,i=null;if(null!=c.isLooping&&(i=c.isLooping,document.querySelector(".brxe-"+c.isLooping)||null==c.isLoopingComponent||(i=c.isLoopingComponent),a="true"===c.componentScope&&c.parentComponent?e.closest(".brxe-"+c.parentComponent):e.closest(".brxe-"+i)),e.querySelector("[data-x-copied]")&&(o=!0,e.querySelector("[data-x-copied]").setAttribute("data-x-copy",e.querySelector("[data-x-copied]").innerHTML)),e.hasAttribute("data-x-copy-text"))t=e.getAttribute("data-x-copy-text");else{let p=!!c.copySelector&&a.querySelector(c.copySelector);if(!p&&!document.querySelector(".brx-body.iframe")){console.log("BricksExtras: Element to copy not found, check the selector is correct."),e.dispatchEvent(new Event("x_copy:failed"));return}document.querySelector(".brx-body.iframe")||(t="TEXTAREA"==p.tagName?p.value:"INPUT"==p.tagName?p.value:p.textContent)}t&&c.hideEmpty&&(e.style.display="block"),e.querySelector("button").addEventListener("click",r=>{if(r.preventDefault(),document.querySelector(".brx-body.iframe")&&(e.querySelector("button").setAttribute("aria-pressed","true"),e.querySelector("button").classList.add("x-copy-to-clipboard_copied")),e.hasAttribute("data-x-copy-text"))t=e.getAttribute("data-x-copy-text");else{let i=!!c.copySelector&&a.querySelector(c.copySelector);if(!i&&!document.querySelector(".brx-body.iframe")){console.log("BricksExtras: Element to copy not found, check the selector is correct."),e.dispatchEvent(new Event("x_copy:failed"));return}document.querySelector(".brx-body.iframe")||(t="TEXTAREA"==i.tagName?i.value:"INPUT"==i.tagName?i.value:i.textContent)}let p=document.createElement("textarea");p.value=t,p.select(),p.setSelectionRange(0,99999),navigator.clipboard.writeText(t).then(()=>{t?(e.querySelector("button").setAttribute("aria-pressed","true"),e.querySelector("button").classList.add("x-copy-to-clipboard_copied"),e.dispatchEvent(new Event("x_copy:copied")),o&&e.querySelector("[data-x-copied]")&&(e.querySelector("[data-x-copied]").innerHTML=e.querySelector("[data-x-copied]").getAttribute("data-x-copied")),c.selectText&&window.getSelection().selectAllChildren(a.querySelector(c.copySelector))):(e.dispatchEvent(new Event("x_copy:empty")),console.log("BricksExtras: Copy text empty"))},()=>{e.dispatchEvent(new Event("x_copy:failed")),console.log("BricksExtras: Copy failed")}),setTimeout(()=>{e.querySelector("button").setAttribute("aria-pressed","false"),e.querySelector("button").classList.remove("x-copy-to-clipboard_copied"),e.dispatchEvent(new Event("x_copy:reset")),o&&e.querySelector("[data-x-copied]")&&(e.querySelector("[data-x-copied]").innerHTML=e.querySelector("[data-x-copy]").getAttribute("data-x-copy"))},l)})})};e(document),xExtrasRegisterAJAXHandler("doExtrasCopyToClipBoard"),window.doExtrasCopyToClipBoard=e}document.addEventListener("DOMContentLoaded",function(e){bricksIsFrontend&&xCopyToClipBoard()});