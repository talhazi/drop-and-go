function xCountdown(){var e=function(e=0,[n=0,t=0,o=0,r=0]){let i=new Date(function e(n){let t=new Date(parseInt(n)),o=t.toISOString();return o}(e));return i.setTime(i.getTime()+864e5*n),i.setTime(i.getTime()+36e5*t),i.setTime(i.getTime()+6e4*o),i.setTime(i.getTime()+1e3*r),i},n=function(n,t,o,r){let i,a=0;if("evergreen"!==t.mode){if(t.hasOwnProperty("date")){let c=6e4*(("+"===t.timezone[3]?1:-1)*(60*parseInt(t.timezone.substring(4,6))+parseInt(t.timezone.substring(7,9)))),s=-(6e4*new Date().getTimezoneOffset()),d=t.date.replace(" ","T");a=new Date(d).getTime()+s-c-new Date().getTime()}}else{let u={days:0,hours:0,minutes:0,seconds:0};t.fields.forEach(function(e,n){e.value&&(u[e.type]=parseFloat(e.value))}),i=e(r,Object.values(u)),a=new Date(i).getTime()-new Date().getTime()}if(a<=0&&"countUp"!==t.action){if(!document.querySelector("body > .brx-body.iframe")){if(n.dispatchEvent(new Event("x_countdown:ended")),clearInterval(n.dataset.bricksCountdownId),"hide"===t.action)return void(n.innerHTML="");if("text"===t.action)return void(n.innerHTML=t.actionText);"sync"===t.action&&(n.closest(".x-modal")&&"function"==typeof xCloseModal&&xCloseModal(n.closest(".x-modal").id),n.closest(".brxe-xnotificationbar")&&"function"==typeof xCloseNotification&&xCloseNotification("#"+n.closest(".brxe-xnotificationbar").id)),"redirect"!==t.action||("disable"===t.preventRedirect?window.location.href=t.redirectURL:document.querySelector("body.admin-bar")||(window.location.href=t.redirectURL))}}else{o&&(n.innerHTML="",t.fields.forEach(function(e){if(e.format){var o=document.createElement("div");if(o.classList.add("x-countdown_item"),e.prefix){var r=document.createElement("span");r.classList.add("x-countdown_prefix"),r.innerHTML=e.prefix,o.appendChild(r)}var i=document.createElement("span");if(i.classList.add("x-countdown_format"),o.appendChild(i),e.suffix){var a=document.createElement("span");a.classList.add("x-countdown_suffix"),a.innerHTML=e.suffix,o.appendChild(a)}if(n.appendChild(o),null!=t.seperator){var c=document.createElement("div");c.classList.add("x-countdown_seperator"),c.innerHTML=t.seperator,o.before(c),n.querySelector(".x-countdown_seperator:first-child")&&n.querySelector(".x-countdown_seperator:first-child").remove()}}}));var f=bricksQuerySelectorAll(n,".x-countdown_item"),l=Math.floor(a/864e5),m=Math.floor(a%864e5/36e5),$=Math.floor(a%36e5/6e4),w=Math.floor(a%6e4/1e3);"countUp"===t.action&&a<0&&(l=Math.round(a/864e5),m=Math.round(a%864e5/36e5),$=Math.round(a%36e5/6e4),w=Math.round(a%6e4/1e3),l=Math.abs(l),m=Math.abs(m),$=Math.abs($),w=Math.abs(w)),l=isNaN(l)?0:l,m=isNaN(m)?0:m,$=isNaN($)?0:$,w=isNaN(w)?0:w,t.fields.forEach(function(e,n){if(e.format){var o=e.format.toLowerCase();o.includes("%d")?(e.format.includes("%D")&&l<=9&&(l="0".concat(l)),f[n].querySelector(".x-countdown_format").innerHTML=o.replace("%d",a<=0&&"countUp"!==t.action?0:"<span class=x-countdown_number>"+l+"</span>")):o.includes("%h")?(e.format.includes("%H")&&m<=9&&(m="0".concat(m)),f[n].querySelector(".x-countdown_format").innerHTML=o.replace("%h",a<=0&&"countUp"!==t.action?0:"<span class=x-countdown_number>"+m+"</span>")):o.includes("%m")?(e.format.includes("%M")&&$<=9&&($="0".concat($)),f[n].querySelector(".x-countdown_format").innerHTML=o.replace("%m",a<=0&&"countUp"!==t.action?0:"<span class=x-countdown_number>"+$+"</span>")):o.includes("%s")&&(e.format.includes("%S")&&w<=9&&(w="0".concat(w)),f[n].querySelector(".x-countdown_format").innerHTML=o.replace("%s",a<=0&&"countUp"!==t.action?0:"<span class=x-countdown_number>"+w+"</span>"))}})}};let t=function(t){let o=new Date().getTime();bricksQuerySelectorAll(t,".brxe-xcountdown").forEach(t=>{let r=t.getAttribute("data-x-id"),i;localStorage&&localStorage["x-countdown-"+r+"-first-shown-time"]?i=JSON.parse(localStorage["x-countdown-"+r+"-first-shown-time"]):(localStorage&&(localStorage["x-countdown-"+r+"-first-shown-time"]=JSON.stringify(o)),i=JSON.stringify(o)),document.querySelector(".brx-body.iframe")&&(localStorage&&(localStorage["x-countdown-"+r+"-first-shown-time"]=JSON.stringify(o)),i=JSON.stringify(new Date().getTime()));var a=t.getAttribute("data-x-countdown");try{a=JSON.parse(a)}catch(c){return!1}if(localStorage){let s,d={days:0,hours:0,minutes:0,seconds:0};a.fields.forEach(function(e,n){e.value&&(d[e.type]=parseFloat(e.value))}),s=e(i,Object.values(d)),localStorage&&(localStorage["x-countdown-"+r+"-end-times"]=new Date(s).getTime())}if(a.hasOwnProperty("fields")){var u=t.dataset.XCountdownId;u&&clearInterval(u),n(t,a,!0,i),u=setInterval(n,1e3,t,a,!1,i),t.dataset.XCountdownId=u,t.addEventListener("x_countdown:ended",()=>{clearInterval(u)})}})};t(document),xExtrasRegisterAJAXHandler("doExtrasCountdown"),window.doExtrasCountdown=t}document.addEventListener("DOMContentLoaded",function(e){bricksIsFrontend&&xCountdown()});