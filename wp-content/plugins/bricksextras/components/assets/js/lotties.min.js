function xLottie(){let e=function(e,t=!1){e.querySelectorAll(".brxe-xlottie").forEach(e=>{if(document.querySelector("body > .brx-body.iframe"))n();else{let r=(t,r)=>{for(let i of t)i.isIntersecting&&(n(),r.unobserve(e))},i=window.xLottieAnimation&&window.xLottieAnimation.Lazy?window.xLottieAnimation.Lazy:"200px",o=new IntersectionObserver(r,{root:null,rootMargin:"0px 0px "+i+" 0px",threshold:1});o.observe(e)}function n(){let r=e.getAttribute("data-x-lottie"),i=r?JSON.parse(r):{};(t||document.querySelector("body > .brx-body.iframe"))&&lottie.destroy(e.getAttribute("data-x-id"));let o=parseInt(i.start),n=parseInt(i.end),a=parseInt(i.offsetB)/100,l=1-parseInt(i.offsetT)/100,c=lottie.loadAnimation({container:e,name:e.getAttribute("data-x-id"),renderer:"svg",loop:null!=i.loop&&i.loop,autoplay:null!=i.autoPlay&&i.autoPlay,initialSegment:[o,n],path:i.url});c.setSpeed(parseFloat(i.speed));let s=!1;if("click"===i.trigger||"clickSelector"===i.trigger){let d=e;"clickSelector"===i.trigger&&(d=document.querySelector(i.clickSelector)),d&&(!0!==i.rev?"clickSelector"!==i.trigger?LottieInteractivity.create({player:c,mode:"cursor",actions:[{type:"click"}]}):d.addEventListener("click",function(e){e.preventDefault(),c.goToAndPlay(o)}):d.addEventListener("click",function(e){e.preventDefault(),(s=!s)?(c.setDirection(1),c.play()):(c.setDirection(-1),c.play())}))}if("scroll"===i.trigger||"scrollSelector"===i.trigger){let u="scroll"===i.trigger?e:i.scrollSelector;LottieInteractivity.create({mode:"scroll",player:c,container:u,actions:[{visibility:[0,a],type:"stop",frames:[o]},{visibility:[a,l],type:"seek",frames:[o,n]},{visibility:[l,1],type:"stop",frames:[n]}]})}if("hover"===i.trigger){let y=i.hoverReverse?"hold":"hover";LottieInteractivity.create({player:c,mode:"cursor",actions:[{type:y}]})}"hoverSelector"===i.trigger&&(document.querySelector(i.hoverSelector)&&document.querySelector(i.hoverSelector).addEventListener("mouseenter",function(e){c.setDirection(1),c.goToAndPlay(o)}),i.hoverReverse&&document.querySelector(i.hoverSelector)&&document.querySelector(i.hoverSelector).addEventListener("mouseleave",function(e){c.setDirection(-1),c.play()})),"cursor"===i.trigger&&LottieInteractivity.create({player:c,mode:"cursor",actions:[{position:{x:[0,1],y:[0,1]},type:"seek",frames:[o,n]}]}),c.addEventListener("complete",()=>{e.dispatchEvent(new Event("x_lottie:complete"))}),window.xLottieAnimation&&(window.xLottieAnimation.Instances[e.dataset.xId]=c)}})};e(document),xExtrasRegisterAJAXHandler("doExtrasLottie",!0),window.doExtrasLottie=e,"undefined"!=typeof bricksextras&&(bricksextras.lottie={play(e){let t=e?.target||!1;t&&null!=window.xLottieAnimation.Instances[t.getAttribute("data-x-id")]&&(window.xLottieAnimation.Instances[t.getAttribute("data-x-id")].setDirection(1),lottie.play(t.getAttribute("data-x-id")))},reverse(e){let t=e?.target||!1;t&&null!=window.xLottieAnimation.Instances[t.getAttribute("data-x-id")]&&(window.xLottieAnimation.Instances[t.getAttribute("data-x-id")].setDirection(-1),lottie.play(t.getAttribute("data-x-id")))},stop(e){let t=e?.target||!1;t&&null!=window.xLottieAnimation.Instances[t.getAttribute("data-x-id")]&&lottie.stop(t.getAttribute("data-x-id"))}})}document.addEventListener("DOMContentLoaded",function(e){bricksIsFrontend&&xLottie()});