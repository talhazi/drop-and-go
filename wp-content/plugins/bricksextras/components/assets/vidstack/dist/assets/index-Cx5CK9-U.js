const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=[xMediaPlayer.vidstackDir + "assets/vidstack-audio-DrEIoyzG.js",xMediaPlayer.vidstackDir + "assets/vidstack-Bq6c3Bam-7tqdLV_8.js",xMediaPlayer.vidstackDir + "assets/vidstack-DqAw8m9J-CWxtVwm-.js",xMediaPlayer.vidstackDir + "assets/vidstack-video-CirBhRgq.js",xMediaPlayer.vidstackDir + "assets/vidstack-hls-DLMCvkx9.js",xMediaPlayer.vidstackDir + "assets/vidstack-dash-D0o9dEoW.js",xMediaPlayer.vidstackDir + "assets/vidstack-vimeo-B0WLTXFM.js",xMediaPlayer.vidstackDir + "assets/vidstack-DDXt6fpN-DtdrIfjf.js",xMediaPlayer.vidstackDir + "assets/vidstack-krOAtKMi-C3UUF7YD.js",xMediaPlayer.vidstackDir + "assets/vidstack-youtube-B0BGS2Ge.js",xMediaPlayer.vidstackDir + "assets/vidstack-Dm1xEU9Q-qchDHvRd.js"])))=>i.map(i=>d[i]);
var uS=Object.defineProperty;var xp=n=>{throw TypeError(n)};var dS=(n,s,t)=>s in n?uS(n,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[s]=t;var g=(n,s,t)=>dS(n,typeof s!="symbol"?s+"":s,t),hc=(n,s,t)=>s.has(n)||xp("Cannot "+t);var r=(n,s,t)=>(hc(n,s,"read from private field"),t?t.call(n):s.get(n)),u=(n,s,t)=>s.has(n)?xp("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(n):s.set(n,t),d=(n,s,t,e)=>(hc(n,s,"write to private field"),e?e.call(n,t):s.set(n,t),t),o=(n,s,t)=>(hc(n,s,"access private method"),t);var kp=(n,s,t,e)=>({set _(i){d(n,s,i,t)},get _(){return r(n,s,e)}});(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))e(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const h of a.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&e(h)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function e(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();const ks=Symbol(0);let il=!1,wc=!1,ts=null,_r=null,Oe=null,we=0,Vr=[],_d={};const pS=()=>{},Qa=0,yf=1,nl=2,zl=3;function fS(){il=!0,queueMicrotask(bf)}function bf(){if(!Vr.length){il=!1;return}wc=!0;for(let n=0;n<Vr.length;n++)Vr[n].$st!==Qa&&mS(Vr[n]);Vr=[],il=!1,wc=!1}function mS(n){let s=[n];for(;n=n[ks];)n.$e&&n.$st!==Qa&&s.push(n);for(let t=s.length-1;t>=0;t--)Ud(s[t])}function gS(n){const s=rl();return mh(s,n.length?n.bind(null,Ha.bind(s)):n,null)}function T(n){return mh(ts,n,null)}function fo(n){return mh(null,n,null)}function fi(){wc||bf()}function Yl(){return ts}function de(n,s){try{return mh(s,n,null)}catch(t){Nd(s,t);return}}function $f(n,s=ts){return s==null?void 0:s.$cx[n]}function yS(n,s,t=ts){t&&(t.$cx={...t.$cx,[n]:s})}function B(n){if(!n||!ts)return n||pS;const s=ts;return s.$d?Array.isArray(s.$d)?s.$d.push(n):s.$d=[s.$d,n]:s.$d=n,function(){s.$st!==zl&&(n.call(null),Xl(s.$d)?s.$d=null:Array.isArray(s.$d)&&s.$d.splice(s.$d.indexOf(n),1))}}function Ha(n=!0){if(this.$st!==zl){if(this.$h)if(Array.isArray(this.$h))for(let s=this.$h.length-1;s>=0;s--)Ha.call(this.$h[s]);else Ha.call(this.$h);if(n){const s=this[ks];s&&(Array.isArray(s.$h)?s.$h.splice(s.$h.indexOf(this),1):s.$h=null),bS(this)}}}function bS(n){n.$st=zl,n.$d&&wf(n),n.$s&&vc(n,0),n[ks]=null,n.$s=null,n.$o=null,n.$h=null,n.$cx=_d,n.$eh=null}function wf(n){try{if(Array.isArray(n.$d))for(let s=n.$d.length-1;s>=0;s--){const t=n.$d[s];t.call(t)}else n.$d.call(n.$d);n.$d=null}catch(s){Nd(n,s)}}function mh(n,s,t){const e=ts,i=_r;ts=n,_r=t;try{return s.call(n)}finally{ts=e,_r=i}}function Nd(n,s){if(!n||!n.$eh)throw s;let t=0,e=n.$eh.length,i=s;for(t=0;t<e;t++)try{n.$eh[t](i);break}catch(a){i=a}if(t===e)throw i}function Hd(){return this.$st===zl?this.$v:(_r&&!this.$e&&(!Oe&&_r.$s&&_r.$s[we]==this?we++:Oe?Oe.push(this):Oe=[this]),this.$c&&Ud(this),this.$v)}function vf(n){const s=Xl(n)?n(this.$v):n;if(this.$ch(this.$v,s)&&(this.$v=s,this.$o))for(let t=0;t<this.$o.length;t++)xf(this.$o[t],nl);return this.$v}const Fd=function(){this[ks]=null,this.$h=null,ts&&ts.append(this)},Pr=Fd.prototype;Pr.$cx=_d;Pr.$eh=null;Pr.$c=null;Pr.$d=null;Pr.append=function(n){n[ks]=this,this.$h?Array.isArray(this.$h)?this.$h.push(n):this.$h=[this.$h,n]:this.$h=n,n.$cx=n.$cx===_d?this.$cx:{...this.$cx,...n.$cx},this.$eh&&(n.$eh=n.$eh?[...n.$eh,...this.$eh]:this.$eh)};Pr.dispose=function(){Ha.call(this)};function rl(){return new Fd}const Tf=function(s,t,e){Fd.call(this),this.$st=t?nl:Qa,this.$i=!1,this.$e=!1,this.$s=null,this.$o=null,this.$v=s,t&&(this.$c=t),e&&e.dirty&&(this.$ch=e.dirty)},Bd=Tf.prototype;Object.setPrototypeOf(Bd,Pr);Bd.$ch=$S;Bd.call=Hd;function Wd(n,s,t){return new Tf(n,s,t)}function $S(n,s){return n!==s}function Xl(n){return typeof n=="function"}function Ud(n){if(n.$st===yf)for(let s=0;s<n.$s.length&&(Ud(n.$s[s]),n.$st!==nl);s++);n.$st===nl?Sf(n):n.$st=Qa}function wS(n){n.$h&&Ha.call(n,!1),n.$d&&wf(n),n.$eh=n[ks]?n[ks].$eh:null}function Sf(n){let s=Oe,t=we;Oe=null,we=0;try{wS(n);const e=mh(n,n.$c,n);Ep(n),!n.$e&&n.$i?vf.call(n,e):(n.$v=e,n.$i=!0)}catch(e){Ep(n),Nd(n,e)}finally{Oe=s,we=t,n.$st=Qa}}function Ep(n){if(Oe){if(n.$s&&vc(n,we),n.$s&&we>0){n.$s.length=we+Oe.length;for(let t=0;t<Oe.length;t++)n.$s[we+t]=Oe[t]}else n.$s=Oe;let s;for(let t=we;t<n.$s.length;t++)s=n.$s[t],s.$o?s.$o.push(n):s.$o=[n]}else n.$s&&we<n.$s.length&&(vc(n,we),n.$s.length=we)}function xf(n,s){if(!(n.$st>=s)&&(n.$e&&n.$st===Qa&&(Vr.push(n),il||fS()),n.$st=s,n.$o))for(let t=0;t<n.$o.length;t++)xf(n.$o[t],yf)}function vc(n,s){let t,e;for(let i=s;i<n.$s.length;i++)t=n.$s[i],t.$o&&(e=t.$o.indexOf(n),t.$o[e]=t.$o[t.$o.length-1],t.$o.pop())}function al(...n){}function Ss(n){return n===null}function es(n){return typeof n>"u"}function uE(n){return Ss(n)||es(n)}function vS(n){return(n==null?void 0:n.constructor)===Object}function qe(n){return typeof n=="number"&&!Number.isNaN(n)}function V(n){return typeof n=="string"}function TS(n){return typeof n=="boolean"}function mi(n){return typeof n=="function"}function jt(n){return Array.isArray(n)}const SS=Event,kf=Symbol("DOM_EVENT");var of,hf;class ot extends(hf=SS,of=kf,hf){constructor(t,...e){var a,h;super(t,e[0]);g(this,of,!0);g(this,"detail");g(this,"triggers",new xS);this.detail=(a=e[0])==null?void 0:a.detail;const i=(h=e[0])==null?void 0:h.trigger;i&&this.triggers.add(i)}get trigger(){return this.triggers.source}get originEvent(){return this.triggers.origin}get isOriginTrusted(){var t;return((t=this.triggers.origin)==null?void 0:t.isTrusted)??!1}}class xS{constructor(){g(this,"chain",[])}get source(){return this.chain[0]}get origin(){return this.chain[this.chain.length-1]}add(s){this.chain.push(s),kS(s)&&this.chain.push(...s.triggers)}remove(s){return this.chain.splice(this.chain.indexOf(s),1)[0]}has(s){return this.chain.some(t=>t===s)}hasType(s){return!!this.findType(s)}findType(s){return this.chain.find(t=>t.type===s)}walk(s){for(const t of this.chain){const e=s(t);if(e)return[t,e]}}[Symbol.iterator](){return this.chain.values()}}function kS(n){return!!(n!=null&&n[kf])}class Ef extends EventTarget{constructor(){super(...arguments);g(this,"$ts__events")}addEventListener(t,e,i){return super.addEventListener(t,e,i)}removeEventListener(t,e,i){return super.removeEventListener(t,e,i)}}function qt(n,s,t,e){return n.addEventListener(s,t,e),B(()=>n.removeEventListener(s,t,e))}var Hr,Fr;class ht{constructor(s){u(this,Hr);u(this,Fr);d(this,Hr,s),d(this,Fr,new AbortController),B(this.abort.bind(this))}get signal(){return r(this,Fr).signal}add(s,t,e){if(this.signal.aborted)throw Error("aborted");return r(this,Hr).addEventListener(s,t,{...e,signal:e!=null&&e.signal?ES(this.signal,e.signal):this.signal}),this}remove(s,t){return r(this,Hr).removeEventListener(s,t),this}abort(s){r(this,Fr).abort(s)}}Hr=new WeakMap,Fr=new WeakMap;function ES(...n){const s=new AbortController,t={signal:s.signal};function e(i){s.abort(i.target.reason)}for(const i of n){if(i.aborted){s.abort(i.reason);break}i.addEventListener("abort",e,t)}return s.signal}function Cp(n){return!!(n!=null&&n.type.startsWith("pointer"))}function Rh(n){return!!(n!=null&&n.type.startsWith("touch"))}function CS(n){return/^(click|mouse)/.test((n==null?void 0:n.type)??"")}function Jl(n){return!!(n!=null&&n.type.startsWith("key"))}function AS(n){return Jl(n)&&n.key==="Enter"}function Cf(n){return Jl(n)&&(n.key==="Enter"||n.key===" ")}function PS(n){return n instanceof Node}function E(n,s,t){if(n)if(!t&&t!==""&&t!==0)n.removeAttribute(s);else{const e=t===!0?"":t+"";n.getAttribute(s)!==e&&n.setAttribute(s,e)}else return}function pe(n,s,t){if(n)!t&&t!==0?n.style.removeProperty(s):n.style.setProperty(s,t+"");else return}function D(n,s){const t=Wd(n,null,s),e=Hd.bind(t);return e[ks]=!0,e.set=vf.bind(t),e}function LS(n){return Xl(n)&&ks in n}function ss(n,s){const t=Wd(s==null?void 0:s.initial,n,s),e=Hd.bind(t);return e[ks]=!0,e}function MS(n,s){const t=Wd(null,function(){let i=n();return Xl(i)&&B(i),null},void 0);return t.$e=!0,Sf(t),Ha.bind(t,!0)}function OS(n){return LS(n)&&"set"in n}const y=MS;function Tn(n){return{id:Symbol(),provide:n}}function Te(n,s,t=Yl()){var i;const e=!es(s);yS(n.id,e?s:(i=n.provide)==null?void 0:i.call(n),t)}function dt(n){return $f(n.id)}function Se(n){return!es($f(n.id))}const ho=Symbol(0),lo=Symbol(0),Af=Symbol(0),lc={};var lf,Br,Wr,In,Ur,Cs,Pf,Lf,Mf,Of;lf=Af;class qS{constructor(s,t,e){u(this,Cs);g(this,"$ts__events");g(this,"$ts__vars");g(this,lf,null);g(this,"$el",D(null));g(this,"el",null);g(this,"scope",null);g(this,"attachScope",null);g(this,"connectScope",null);g(this,"component",null);g(this,"destroyed",!1);g(this,"props",lc);g(this,"attrs",null);g(this,"styles",null);g(this,"state");g(this,"$state");u(this,Br,[]);u(this,Wr,[]);u(this,In,[]);u(this,Ur,[]);var h;this.scope=t,e!=null&&e.scope&&e.scope.append(t);let i=s.state,a=s.props;if(i&&(this.$state=i.create(),this.state=new Proxy(this.$state,{get:(l,c)=>this.$state[c]()}),Te(i,this.$state)),a&&(this.props=IS(a),e!=null&&e.props))for(const l of Object.keys(e.props))(h=this.props[l])==null||h.set(e.props[l]);B(this.destroy.bind(this))}setup(){de(()=>{for(const s of r(this,Br))s()},this.scope)}attach(s){this.el||(this.el=s,this.$el.set(s),de(()=>{this.attachScope=rl(),de(()=>{for(const t of r(this,Wr))t(this.el);o(this,Cs,Pf).call(this),o(this,Cs,Lf).call(this)},this.attachScope)},this.scope),s.dispatchEvent(new Event("attached")))}detach(){var s;(s=this.attachScope)==null||s.dispose(),this.attachScope=null,this.connectScope=null,this.el=null,this.$el.set(null)}connect(){!this.el||!this.attachScope||!r(this,In).length||de(()=>{this.connectScope=rl(),de(()=>{for(const s of r(this,In))s(this.el)},this.connectScope)},this.attachScope)}disconnect(){var s;(s=this.connectScope)==null||s.dispose(),this.connectScope=null}destroy(){if(this.destroyed)return;this.destroyed=!0,de(()=>{for(const t of r(this,Ur))t(this.el)},this.scope);const s=this.el;this.detach(),this.scope.dispose(),r(this,Br).length=0,r(this,Wr).length=0,r(this,In).length=0,r(this,Ur).length=0,this.component=null,this.attrs=null,this.styles=null,this.props=lc,this.scope=null,this.state=lc,this.$state=null,s&&delete s.$}addHooks(s){s.onSetup&&r(this,Br).push(s.onSetup.bind(s)),s.onAttach&&r(this,Wr).push(s.onAttach.bind(s)),s.onConnect&&r(this,In).push(s.onConnect.bind(s)),s.onDestroy&&r(this,Ur).push(s.onDestroy.bind(s))}}Br=new WeakMap,Wr=new WeakMap,In=new WeakMap,Ur=new WeakMap,Cs=new WeakSet,Pf=function(){if(this.attrs)for(const s of Object.keys(this.attrs))mi(this.attrs[s])?y(o(this,Cs,Mf).bind(this,s)):E(this.el,s,this.attrs[s])},Lf=function(){if(this.styles)for(const s of Object.keys(this.styles))mi(this.styles[s])?y(o(this,Cs,Of).bind(this,s)):pe(this.el,s,this.styles[s])},Mf=function(s){E(this.el,s,this.attrs[s].call(this.component))},Of=function(s){pe(this.el,s,this.styles[s].call(this.component))};function IS(n){const s={};for(const t of Object.keys(n)){const e=n[t];s[t]=D(e,e)}return s}let co={$$:null};function RS(n,s){return gS(()=>{co.$$=new qS(n,Yl(),s);const t=new n;return co.$$.component=t,co.$$=null,t})}class He extends EventTarget{constructor(){super();g(this,"$$");co.$$&&this.attach(co)}get el(){return this.$$.el}get $el(){return this.$$.$el()}get scope(){return this.$$.scope}get attachScope(){return this.$$.attachScope}get connectScope(){return this.$$.connectScope}get $props(){return this.$$.props}get $state(){return this.$$.$state}get state(){return this.$$.state}attach({$$:t}){return this.$$=t,t.addHooks(this),this}addEventListener(t,e,i){this.listen(t,e,i)}removeEventListener(t,e,i){var a;(a=this.el)==null||a.removeEventListener(t,e,i)}setAttributes(t){this.$$.attrs||(this.$$.attrs={}),Object.assign(this.$$.attrs,t)}setStyles(t){this.$$.styles||(this.$$.styles={}),Object.assign(this.$$.styles,t)}setCSSVars(t){this.setStyles(t)}createEvent(t,...e){return new ot(t,e[0])}dispatch(t,...e){if(!this.el)return!1;const i=t instanceof Event?t:new ot(t,e[0]);return Object.defineProperty(i,"target",{get:()=>this.$$.component}),fo(()=>{var a,h;return(h=(a=this.$$)[Af])==null||h.call(a,i),this.el.dispatchEvent(i)})}dispatchEvent(t){return this.dispatch(t)}listen(t,e,i){return this.el?qt(this.el,t,e,i):al}}class M extends He{subscribe(s){return de(()=>y(()=>s(this.state)),this.$$.scope)}destroy(){this.$$.destroy()}}function H(n,s,t){n[ho]||(n[ho]=new Set),n[ho].add(s)}function gt(n,s,t){n[lo]||(n[lo]=new Set),n[lo].add(s)}var Kr;class Sn{constructor(s){g(this,"id",Symbol(0));g(this,"record");u(this,Kr);this.record=s,d(this,Kr,Object.getOwnPropertyDescriptors(s))}create(){const s={},t=new Proxy(s,{get:(e,i)=>s[i]()});for(const e of Object.keys(this.record)){const i=r(this,Kr)[e].get;s[e]=i?ss(i.bind(t)):D(this.record[e])}return s}reset(s,t){for(const e of Object.keys(s))!r(this,Kr)[e].get&&(!t||t(e))&&s[e].set(this.record[e])}}Kr=new WeakMap;function za(n){return dt(n)}function VS(n,s){for(const t of n)t(s)}function qf(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function DS(n){return n.replace(/-./g,s=>s[1].toUpperCase())}function _S(n){return n.charAt(0).toUpperCase()+n.slice(1)}function ol(n){return n?"true":"false"}function dE(n){return Object.keys(n)}function Tc(){let n,s;return{promise:new Promise((e,i)=>{n=e,s=i}),resolve:n,reject:s}}function NS(n){return new Promise(s=>setTimeout(s,n))}function Ya(n){let s=-1,t;function e(...i){t=i,!(s>=0)&&(s=window.requestAnimationFrame(()=>{n.apply(this,t),s=-1,t=void 0}))}return e}const HS=typeof window<"u"?"requestIdleCallback"in window?window.requestIdleCallback:n=>window.setTimeout(n,1):al;function FS(n,s){return new Promise(t=>{HS(e=>{n==null||n(e),t()},s)})}var me={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5,fullscreen:6},Ap=["webkitFullscreenEnabled","webkitFullscreenElement","webkitRequestFullscreen","webkitExitFullscreen","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],Pp=["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],Lp=["msFullscreenEnabled","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"],ue=typeof window<"u"&&typeof window.document<"u"?window.document:{},Pe="fullscreenEnabled"in ue&&Object.keys(me)||Ap[0]in ue&&Ap||Pp[0]in ue&&Pp||Lp[0]in ue&&Lp||[],wr={requestFullscreen:function(n){return n[Pe[me.requestFullscreen]]()},requestFullscreenFunction:function(n){return n[Pe[me.requestFullscreen]]},get exitFullscreen(){return ue[Pe[me.exitFullscreen]].bind(ue)},get fullscreenPseudoClass(){return":"+Pe[me.fullscreen]},addEventListener:function(n,s,t){return ue.addEventListener(Pe[me[n]],s,t)},removeEventListener:function(n,s,t){return ue.removeEventListener(Pe[me[n]],s,t)},get fullscreenEnabled(){return!!ue[Pe[me.fullscreenEnabled]]},set fullscreenEnabled(n){},get fullscreenElement(){return ue[Pe[me.fullscreenElement]]},set fullscreenElement(n){},get onfullscreenchange(){return ue[("on"+Pe[me.fullscreenchange]).toLowerCase()]},set onfullscreenchange(n){return ue[("on"+Pe[me.fullscreenchange]).toLowerCase()]=n},get onfullscreenerror(){return ue[("on"+Pe[me.fullscreenerror]).toLowerCase()]},set onfullscreenerror(n){return ue[("on"+Pe[me.fullscreenerror]).toLowerCase()]=n}},Lr=BS;function BS(n,s,t){var e=null,i=null,a=t&&t.leading,h=t&&t.trailing;a==null&&(a=!0),h==null&&(h=!a),a==!0&&(h=!1);var l=function(){e&&(clearTimeout(e),e=null)},c=function(){var f=i;l(),f&&f()},p=function(){var f=a&&!e,m=this,b=arguments;if(i=function(){return n.apply(m,b)},e||(e=setTimeout(function(){if(e=null,h)return i()},s)),f)return f=!1,i()};return p.cancel=l,p.flush=c,p}var Kd=WS;function WS(n,s,t){var e=null,i=null,a=function(){e&&(clearTimeout(e),i=null,e=null)},h=function(){var c=i;a(),c&&c()},l=function(){if(!s)return n.apply(this,arguments);var c=this,p=arguments,f=t&&!e;if(a(),i=function(){n.apply(c,p)},e=setTimeout(function(){if(e=null,!f){var m=i;return i=null,m()}},s),f)return i()};return l.cancel=a,l.flush=h,l}const Mp=n=>typeof n=="object"&&n!=null&&n.nodeType===1,Op=(n,s)=>(!s||n!=="hidden")&&n!=="visible"&&n!=="clip",Lh=(n,s)=>{if(n.clientHeight<n.scrollHeight||n.clientWidth<n.scrollWidth){const t=getComputedStyle(n,null);return Op(t.overflowY,s)||Op(t.overflowX,s)||(e=>{const i=(a=>{if(!a.ownerDocument||!a.ownerDocument.defaultView)return null;try{return a.ownerDocument.defaultView.frameElement}catch{return null}})(e);return!!i&&(i.clientHeight<e.scrollHeight||i.clientWidth<e.scrollWidth)})(n)}return!1},Mh=(n,s,t,e,i,a,h,l)=>a<n&&h>s||a>n&&h<s?0:a<=n&&l<=t||h>=s&&l>=t?a-n-e:h>s&&l<t||a<n&&l>t?h-s+i:0,US=n=>{const s=n.parentElement;return s??(n.getRootNode().host||null)},KS=(n,s)=>{var t,e,i,a;if(typeof document>"u")return[];const{scrollMode:h,block:l,inline:c,boundary:p,skipOverflowHiddenElements:f}=s,m=typeof p=="function"?p:Kt=>Kt!==p;if(!Mp(n))throw new TypeError("Invalid target");const b=document.scrollingElement||document.documentElement,$=[];let v=n;for(;Mp(v)&&m(v);){if(v=US(v),v===b){$.push(v);break}v!=null&&v===document.body&&Lh(v)&&!Lh(document.documentElement)||v!=null&&Lh(v,f)&&$.push(v)}const S=(e=(t=window.visualViewport)==null?void 0:t.width)!=null?e:innerWidth,k=(a=(i=window.visualViewport)==null?void 0:i.height)!=null?a:innerHeight,{scrollX:q,scrollY:F}=window,{height:st,width:yt,top:lt,right:Ce,bottom:xi,left:Ae}=n.getBoundingClientRect(),{top:os,right:hs,bottom:Fe,left:ki}=(Kt=>{const K=window.getComputedStyle(Kt);return{top:parseFloat(K.scrollMarginTop)||0,right:parseFloat(K.scrollMarginRight)||0,bottom:parseFloat(K.scrollMarginBottom)||0,left:parseFloat(K.scrollMarginLeft)||0}})(n);let Dt=l==="start"||l==="nearest"?lt-os:l==="end"?xi+Fe:lt+st/2-os+Fe,bt=c==="center"?Ae+yt/2-ki+hs:c==="end"?Ce+hs:Ae-ki;const Be=[];for(let Kt=0;Kt<$.length;Kt++){const K=$[Kt],{height:Gt,width:xt,top:Ds,right:Ei,bottom:Rr,left:Th}=K.getBoundingClientRect();if(h==="if-needed"&&lt>=0&&Ae>=0&&xi<=k&&Ce<=S&&(K===b&&!Lh(K)||lt>=Ds&&xi<=Rr&&Ae>=Th&&Ce<=Ei))return Be;const Sh=getComputedStyle(K),xh=parseInt(Sh.borderLeftWidth,10),kh=parseInt(Sh.borderTopWidth,10),Eh=parseInt(Sh.borderRightWidth,10),Ch=parseInt(Sh.borderBottomWidth,10);let Ci=0,Ai=0;const Ah="offsetWidth"in K?K.offsetWidth-K.clientWidth-xh-Eh:0,Ph="offsetHeight"in K?K.offsetHeight-K.clientHeight-kh-Ch:0,ac="offsetWidth"in K?K.offsetWidth===0?0:xt/K.offsetWidth:0,oc="offsetHeight"in K?K.offsetHeight===0?0:Gt/K.offsetHeight:0;if(b===K)Ci=l==="start"?Dt:l==="end"?Dt-k:l==="nearest"?Mh(F,F+k,k,kh,Ch,F+Dt,F+Dt+st,st):Dt-k/2,Ai=c==="start"?bt:c==="center"?bt-S/2:c==="end"?bt-S:Mh(q,q+S,S,xh,Eh,q+bt,q+bt+yt,yt),Ci=Math.max(0,Ci+F),Ai=Math.max(0,Ai+q);else{Ci=l==="start"?Dt-Ds-kh:l==="end"?Dt-Rr+Ch+Ph:l==="nearest"?Mh(Ds,Rr,Gt,kh,Ch+Ph,Dt,Dt+st,st):Dt-(Ds+Gt/2)+Ph/2,Ai=c==="start"?bt-Th-xh:c==="center"?bt-(Th+xt/2)+Ah/2:c==="end"?bt-Ei+Eh+Ah:Mh(Th,Ei,xt,xh,Eh+Ah,bt,bt+yt,yt);const{scrollLeft:Tp,scrollTop:Sp}=K;Ci=oc===0?0:Math.max(0,Math.min(Sp+Ci/oc,K.scrollHeight-Gt/oc+Ph)),Ai=ac===0?0:Math.max(0,Math.min(Tp+Ai/ac,K.scrollWidth-xt/ac+Ah)),Dt+=Sp-Ci,bt+=Tp-Ai}Be.push({el:K,top:Ci,left:Ai})}return Be},cc=n=>n===null?"":n+"",GS=n=>n===null?null:n+"",jS=n=>n===null?0:Number(n),If=n=>n!==null,QS=()=>null,zS=n=>n===null?[]:JSON.parse(n),YS=n=>n===null?{}:JSON.parse(n);function XS(n){if(n===null)return GS;switch(typeof n){case"undefined":return cc;case"string":return cc;case"boolean":return If;case"number":return jS;case"function":return QS;case"object":return jt(n)?zS:YS;default:return cc}}const Pi=Symbol(0),Rf=Symbol(0),vr=Symbol(0),Mn=Symbol(0);var gi;(function(n){n[n.Idle=0]="Idle";const t=1;n[n.Pending=t]="Pending";const e=2;n[n.Ready=e]="Ready"})(gi||(gi={}));function O(n,s){var e,i,a;class t extends n{constructor(...c){super(...c);g(this,"$");g(this,i,gi.Idle);g(this,e,null);g(this,"keepAlive",!1);g(this,"forwardKeepAlive",!0);if(this.$=de(()=>RS(s),null),this.$.$$.addHooks(this),s.props){const p=this.$props,f=Object.getOwnPropertyDescriptors(this);for(const m of Object.keys(f))m in s.props&&(p[m].set(this[m]),delete this[m])}}static get observedAttributes(){var c;if(!this[Pi]&&s.props){const p=new Map;for(const f of Object.keys(s.props)){let m=(c=this.attrs)==null?void 0:c[f],b=V(m)?m:m&&(m==null?void 0:m.attr);b!==!1&&(b||(b=qf(f)),p.set(b,{prop:f,converter:m&&!V(m)&&(m==null?void 0:m.converter)||XS(s.props[f])}))}this[Pi]=p}return this[Pi]?Array.from(this[Pi].keys()):[]}get scope(){return this.$.$$.scope}get attachScope(){return this.$.$$.attachScope}get connectScope(){return this.$.$$.connectScope}get $props(){return this.$.$$.props}get $state(){return this.$.$$.$state}get state(){return this.$.state}attributeChangedCallback(c,p,f){var $;const m=this.constructor;if(!m[Pi]){($=super.attributeChangedCallback)==null||$.call(this,c,p,f);return}const b=m[Pi].get(c);b&&(this[b.prop]=b.converter(f))}connectedCallback(){var f;const c=(f=this.$)==null?void 0:f.$$;if(!c||c.destroyed)return;if(this[vr]!==gi.Ready){ZS.call(this);return}if(!this.isConnected)return;this.hasAttribute("keep-alive")&&(this.keepAlive=!0),c.connect(),jt(this[Mn])&&VS(this[Mn],this),this[Mn]=null;const p=super.connectedCallback;p&&de(()=>p.call(this),this.connectScope)}disconnectedCallback(){var f;const c=(f=this.$)==null?void 0:f.$$;if(!c||c.destroyed)return;c.disconnect();const p=super.disconnectedCallback;p&&p.call(this),!this.keepAlive&&!this.hasAttribute("keep-alive")&&setTimeout(()=>{requestAnimationFrame(()=>{this.isConnected||c.destroy()})},0)}[(a=Pi,i=vr,e=Mn,Rf)](){const c=this.$.$$,p=this.constructor;if(c.destroyed)return;const f=p[Pi];if(f)for(const m of this.attributes){let b=f.get(m.name);b&&b.converter&&c.props[b.prop].set(b.converter(this.getAttribute(m.name)))}c.setup(),c.attach(this),this[vr]=gi.Ready,this.connectedCallback()}subscribe(c){return this.$.subscribe(c)}destroy(){this.disconnectedCallback(),this.$.destroy()}}return g(t,"attrs"),g(t,a,null),JS(t,s),t}function JS(n,s){const t=n.prototype,e=s.prototype;if(s.props)for(const i of Object.keys(s.props))Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get(){return this.$props[i]()},set(a){this.$props[i].set(a)}});if(e[ho])for(const i of e[ho])Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get(){return this.$[i]},set(a){this.$[i]=a}});if(e[lo])for(const i of e[lo])t[i]=function(...a){return this.$[i](...a)}}function ZS(){if(this[vr]!==gi.Idle)return;this[vr]=gi.Pending;const n=e0(this),s=n&&window.customElements.get(n.localName),t=n&&n[vr]===gi.Ready;if(n&&(!s||!t)){t0.call(this,n);return}Vf.call(this,n)}async function t0(n){await window.customElements.whenDefined(n.localName),n[vr]!==gi.Ready&&await new Promise(s=>(n[Mn]??(n[Mn]=[])).push(s)),Vf.call(this,n)}function Vf(n){if(this.isConnected){if(n){n.keepAlive&&n.forwardKeepAlive&&(this.keepAlive=!0,this.setAttribute("keep-alive",""));const s=this.$.$$.scope;s&&n.$.$$.attachScope.append(s)}this[Rf]()}}function e0(n){let s=n.parentNode,t=n.localName.split("-",1)[0]+"-";for(;s;){if(s.nodeType===1&&s.localName.startsWith(t))return s;s=s.parentNode}return null}function L(n,s=!1){(s||!window.customElements.get(n.tagName))&&window.customElements.define(n.tagName,n)}var pE='<path fill-rule="evenodd" clip-rule="evenodd" d="M6 7C5.63181 7 5.33333 7.29848 5.33333 7.66667V14.8667C5.33333 14.9403 5.39361 14.9999 5.46724 15.0009C10.8844 15.0719 15.2614 19.449 15.3325 24.8661C15.3334 24.9397 15.393 25 15.4667 25H26C26.3682 25 26.6667 24.7015 26.6667 24.3333V7.66667C26.6667 7.29848 26.3682 7 26 7H6ZM17.0119 22.2294C17.0263 22.29 17.0802 22.3333 17.1425 22.3333H23.3333C23.7015 22.3333 24 22.0349 24 21.6667V10.3333C24 9.96514 23.7015 9.66667 23.3333 9.66667H8.66667C8.29848 9.66667 8 9.96514 8 10.3333V13.1909C8 13.2531 8.04332 13.3071 8.10392 13.3214C12.5063 14.3618 15.9715 17.827 17.0119 22.2294Z" fill="currentColor"/> <path d="M13.2 25C13.2736 25 13.3334 24.9398 13.3322 24.8661C13.2615 20.5544 9.77889 17.0718 5.46718 17.0011C5.39356 16.9999 5.33333 17.0597 5.33333 17.1333V18.8667C5.33333 18.9403 5.39348 18.9999 5.4671 19.0015C8.67465 19.0716 11.2617 21.6587 11.3319 24.8662C11.3335 24.9399 11.393 25 11.4667 25H13.2Z" fill="currentColor"/> <path d="M5.33333 21.1333C5.33333 21.0597 5.39332 20.9998 5.46692 21.0022C7.57033 21.0712 9.26217 22.763 9.33114 24.8664C9.33356 24.94 9.27364 25 9.2 25H6C5.63181 25 5.33333 24.7015 5.33333 24.3333V21.1333Z" fill="currentColor"/>';const s0="modulepreload",i0=function(n){return"/"+n},qp={},fe=function(s,t,e){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),l=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));i=Promise.allSettled(t.map(c=>{if(c=i0(c),c in qp)return;qp[c]=!0;const p=c.endsWith(".css"),f=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const m=document.createElement("link");if(m.rel=p?"stylesheet":s0,p||(m.as="script"),m.crossOrigin="",m.href=c,l&&m.setAttribute("nonce",l),document.head.appendChild(m),p)return new Promise((b,$)=>{m.addEventListener("load",b),m.addEventListener("error",()=>$(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(h){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=h,window.dispatchEvent(l),!l.defaultPrevented)throw h}return i.then(h=>{for(const l of h||[])l.status==="rejected"&&a(l.reason);return s().catch(a)})},Df=Tn();function N(){return dt(Df)}const n0=(navigator==null?void 0:navigator.userAgent.toLowerCase())||"",_f=/iphone|ipad|ipod|ios|crios|fxios/i.test(n0),Nf=/(iphone|ipod)/gi.test((navigator==null?void 0:navigator.platform)||""),r0=!!window.chrome,fE=!!window.safari||_f;function Hf(){return a0()&&mi(screen.orientation.unlock)}function a0(){return!es(window.screen.orientation)&&!es(window.screen.orientation.lock)}function o0(n,s){return n||(n=document.createElement("audio")),n.canPlayType(s).length>0}function h0(n,s){return n||(n=document.createElement("video")),n.canPlayType(s).length>0}function l0(n){return n||(n=document.createElement("video")),n.canPlayType("application/vnd.apple.mpegurl").length>0}function mE(n){return!!document.pictureInPictureEnabled&&!(n!=null&&n.disablePictureInPicture)}function gE(n){return mi(n==null?void 0:n.webkitSupportsPresentationMode)&&mi(n==null?void 0:n.webkitSetPresentationMode)}async function c0(){const n=document.createElement("video");return n.volume=.5,await NS(0),n.volume===.5}function u0(){return(window==null?void 0:window.ManagedMediaSource)??(window==null?void 0:window.MediaSource)??(window==null?void 0:window.WebKitMediaSource)}function d0(){return(window==null?void 0:window.SourceBuffer)??(window==null?void 0:window.WebKitSourceBuffer)}function Gd(){const n=u0();if(es(n))return!1;const s=n&&mi(n.isTypeSupported)&&n.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),t=d0(),e=es(t)||!es(t.prototype)&&mi(t.prototype.appendBuffer)&&mi(t.prototype.remove);return!!s&&!!e}function p0(){return Gd()}const f0=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx|flac)($|\?)/i,m0=new Set(["audio/mpeg","audio/ogg","audio/3gp","audio/mp3","audio/webm","audio/flac","audio/m4a","audio/m4b","audio/mp4a","audio/mp4"]),g0=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,y0=new Set(["video/mp4","video/webm","video/3gp","video/ogg","video/avi","video/mpeg"]),b0=/\.(m3u8)($|\?)/i,$0=/\.(mpd)($|\?)/i,w0=new Set(["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"]),v0=new Set(["application/dash+xml"]);function Ff({src:n,type:s}){return V(n)?f0.test(n)||m0.has(s)||n.startsWith("blob:")&&s==="audio/object":s==="audio/object"}function Bf(n){return V(n.src)?g0.test(n.src)||y0.has(n.type)||n.src.startsWith("blob:")&&n.type==="video/object"||gh(n)&&l0():n.type==="video/object"}function gh({src:n,type:s}){return V(n)&&b0.test(n)||w0.has(s)}function jd({src:n,type:s}){return V(n)&&$0.test(n)||v0.has(s)}function T0(n){return V(n.src)&&(Ff(n)||Bf(n)||gh(n))}function yE(n){return typeof window.MediaStream<"u"&&n instanceof window.MediaStream}var Hs;class Vh{constructor(s,t){u(this,Hs);jt(s)?d(this,Hs,s):!es(s)&&!es(t)?d(this,Hs,[[s,t]]):d(this,Hs,[])}get length(){return r(this,Hs).length}start(s){return r(this,Hs)[s][0]??1/0}end(s){return r(this,Hs)[s][1]??1/0}}Hs=new WeakMap;function Ip(n){if(!n.length)return null;let s=n.start(0);for(let t=1;t<n.length;t++){const e=n.start(t);e<s&&(s=e)}return s}function Pn(n){if(!n.length)return null;let s=n.end(0);for(let t=1;t<n.length;t++){const e=n.end(t);e>s&&(s=e)}return s}function S0(n){if(n.length<=1)return n;n.sort((e,i)=>e[0]-i[0]);let s=[],t=n[0];for(let e=1;e<n.length;e++){const i=n[e];t[1]>=i[0]-1?t=[t[0],Math.max(t[1],i[1])]:(s.push(t),t=i)}return s.push(t),s}function x0(n,s,t){let e=s[0],i=s[1];return t<e?[t,-1]:t===e?s:e===-1?(s[0]=t,s):(t>e&&(s[1]=t,i===-1&&n.push(s)),S0(n),s)}function bE(n,s){const t=new URL(n);for(const e of Object.keys(s))t.searchParams.set(e,s[e]+"");return t.toString()}function yh(n,s="preconnect"){const t=document.querySelector(`link[href="${n}"]`);if(!Ss(t))return!0;const e=document.createElement("link");return e.rel=s,e.href=n,e.crossOrigin="true",document.head.append(e),!0}const Za={};function $E(n){if(Za[n])return Za[n].promise;const s=Tc(),t=document.querySelector(`script[src="${n}"]`);if(!Ss(t))return s.resolve(),s.promise;Za[n]=s;const e=document.createElement("script");return e.src=n,e.onload=()=>{s.resolve(),delete Za[n]},e.onerror=()=>{s.reject(),delete Za[n]},setTimeout(()=>document.head.append(e),0),s.promise}function uo(n){return n==="use-credentials"?"include":V(n)?"same-origin":void 0}function Sc(n,s){return s>=n.startTime&&s<n.endTime}function Zl(n,s,t){let e=null,i=Yl();function a(){const h=V(s)?[s]:s,l=n.toArray().find(c=>h.includes(c.kind)&&c.mode==="showing");if(l!==e){if(!l){t(null),e=null;return}l.readyState==2?t(l):(t(null),de(()=>{const c=qt(l,"load",()=>{t(l),c()},{once:!0})},i)),e=l}}return a(),qt(n,"mode-change",a)}function k0(n,s,t){Zl(n,s,e=>{if(!e){t("");return}const i=()=>{const a=e==null?void 0:e.activeCues[0];t((a==null?void 0:a.text)||"")};i(),qt(e,"cue-change",i)})}const E0=Symbol(0),C0=Symbol(0),A0=Symbol(0),P0=Symbol(0),L0=Symbol(0),M0=Symbol(0),O0=Symbol(0),U={crossOrigin:E0,readyState:C0,updateActiveCues:A0,canLoad:P0,onModeChange:L0,native:M0,nativeHLS:O0};var cf,uf,df,pf,vo,Fs,Rn,To,Vn,_t,Bs,vt,Wf,xc,so,kc,Ec,Cc;class Fa extends Ef{constructor(t){super();u(this,vt);g(this,"src");g(this,"content");g(this,"type");g(this,"encoding");g(this,"id","");g(this,"label","");g(this,"language","");g(this,"kind");g(this,"default",!1);u(this,vo,!1);u(this,Fs,0);u(this,Rn,"disabled");u(this,To,{});u(this,Vn,[]);u(this,_t,[]);u(this,Bs,[]);g(this,pf,0);g(this,df);g(this,uf,null);g(this,cf,null);for(const e of Object.keys(t))this[e]=t[e];this.type||(this.type="vtt"),t.content?o(this,vt,Wf).call(this,t):t.src||(this[U.readyState]=2)}static createId(t){return`vds-${t.type}-${t.kind}-${t.src??t.label??"?"}`}get metadata(){return r(this,To)}get regions(){return r(this,Vn)}get cues(){return r(this,_t)}get activeCues(){return r(this,Bs)}get readyState(){return this[U.readyState]}get mode(){return r(this,Rn)}set mode(t){this.setMode(t)}addCue(t,e){var h;let i=0,a=r(this,_t).length;for(i=0;i<a&&!(t.endTime<=r(this,_t)[i].startTime);i++);i===a?r(this,_t).push(t):r(this,_t).splice(i,0,t),t instanceof TextTrackCue||(h=this[U.native])==null||h.track.addCue(t),this.dispatchEvent(new ot("add-cue",{detail:t,trigger:e})),Sc(t,r(this,Fs))&&this[U.updateActiveCues](r(this,Fs),e)}removeCue(t,e){var a;const i=r(this,_t).indexOf(t);if(i>=0){const h=r(this,Bs).includes(t);r(this,_t).splice(i,1),(a=this[U.native])==null||a.track.removeCue(t),this.dispatchEvent(new ot("remove-cue",{detail:t,trigger:e})),h&&this[U.updateActiveCues](r(this,Fs),e)}}setMode(t,e){var i;r(this,Rn)!==t&&(d(this,Rn,t),t==="disabled"?(d(this,Bs,[]),o(this,vt,Cc).call(this)):this.readyState===2?this[U.updateActiveCues](r(this,Fs),e):o(this,vt,xc).call(this),this.dispatchEvent(new ot("mode-change",{detail:this,trigger:e})),(i=this[U.onModeChange])==null||i.call(this))}[(pf=U.readyState,df=U.crossOrigin,uf=U.onModeChange,cf=U.native,U.updateActiveCues)](t,e){if(d(this,Fs,t),this.mode==="disabled"||!r(this,_t).length)return;const i=[];for(let h=0,l=r(this,_t).length;h<l;h++){const c=r(this,_t)[h];Sc(c,t)&&i.push(c)}let a=i.length!==r(this,Bs).length;if(!a){for(let h=0;h<i.length;h++)if(!r(this,Bs).includes(i[h])){a=!0;break}}d(this,Bs,i),a&&o(this,vt,Cc).call(this,e)}[U.canLoad](){d(this,vo,!0),r(this,Rn)!=="disabled"&&o(this,vt,xc).call(this)}}vo=new WeakMap,Fs=new WeakMap,Rn=new WeakMap,To=new WeakMap,Vn=new WeakMap,_t=new WeakMap,Bs=new WeakMap,vt=new WeakSet,Wf=function(t){fe(async()=>{const{parseText:e,VTTCue:i,VTTRegion:a}=await import("./prod-5GFtKBEw.js").then(h=>h.d);return{parseText:e,VTTCue:i,VTTRegion:a}},[]).then(({parseText:e,VTTCue:i,VTTRegion:a})=>{!V(t.content)||t.type==="json"?(o(this,vt,Ec).call(this,t.content,i,a),this.readyState!==3&&o(this,vt,so).call(this)):e(t.content,{type:t.type}).then(({cues:h,regions:l})=>{d(this,_t,h),d(this,Vn,l),o(this,vt,so).call(this)})})},xc=async function(){var t,e;if(!(!r(this,vo)||this[U.readyState]>0)){if(this[U.readyState]=1,this.dispatchEvent(new ot("load-start")),!this.src){o(this,vt,so).call(this);return}try{const{parseResponse:i,VTTCue:a,VTTRegion:h}=await fe(async()=>{const{parseResponse:p,VTTCue:f,VTTRegion:m}=await import("./prod-5GFtKBEw.js").then(b=>b.d);return{parseResponse:p,VTTCue:f,VTTRegion:m}},[]),l=(t=this[U.crossOrigin])==null?void 0:t.call(this),c=fetch(this.src,{headers:this.type==="json"?{"Content-Type":"application/json"}:void 0,credentials:uo(l)});if(this.type==="json")o(this,vt,Ec).call(this,await(await c).text(),a,h);else{const{errors:p,metadata:f,regions:m,cues:b}=await i(c,{type:this.type,encoding:this.encoding});if(((e=p[0])==null?void 0:e.code)===0)throw p[0];d(this,To,f),d(this,Vn,m),d(this,_t,b)}o(this,vt,so).call(this)}catch(i){o(this,vt,kc).call(this,i)}}},so=function(){if(this[U.readyState]=2,!this.src||this.type!=="vtt"){const e=this[U.native];if(e&&!e.managed)for(const i of r(this,_t))e.track.addCue(i)}const t=new ot("load");this[U.updateActiveCues](r(this,Fs),t),this.dispatchEvent(t)},kc=function(t){this[U.readyState]=3,this.dispatchEvent(new ot("error",{detail:t}))},Ec=function(t,e,i){try{const{regions:a,cues:h}=I0(t,e,i);d(this,Vn,a),d(this,_t,h)}catch(a){o(this,vt,kc).call(this,a)}},Cc=function(t){this.dispatchEvent(new ot("cue-change",{trigger:t}))};const q0=/captions|subtitles/;function Qt(n){return q0.test(n.kind)}function I0(n,s,t){const e=V(n)?JSON.parse(n):n;let i=[],a=[];return e.regions&&t&&(i=e.regions.map(h=>Object.assign(new t,h))),(e.cues||jt(e))&&(a=(jt(e)?e:e.cues).filter(h=>qe(h.startTime)&&qe(h.endTime)).map(h=>Object.assign(new s(0,0,""),h))),{regions:i,cues:a}}const R0=Symbol(0),V0=Symbol(0),D0=Symbol(0),_0=Symbol(0),N0=Symbol(0),H0=Symbol(0),F0=Symbol(0),B0=Symbol(0),W0=Symbol(0),J={add:R0,remove:V0,reset:D0,select:_0,readonly:N0,setReadonly:H0,onReset:F0,onRemove:B0,onUserSelect:W0},U0=Symbol(0),K0=Symbol(0),We={setAuto:U0,enableAuto:K0};function uc(n){return n instanceof Error?n:Error(typeof n=="string"?n:JSON.stringify(n))}function _s(n,s){if(!n)throw Error("Assertion failed.")}const hl=Math.min,Tr=Math.max,ll=Math.round,Oh=Math.floor,mn=n=>({x:n,y:n}),G0={left:"right",right:"left",bottom:"top",top:"bottom"},j0={start:"end",end:"start"};function Rp(n,s,t){return Tr(n,hl(s,t))}function Qd(n,s){return typeof n=="function"?n(s):n}function Ba(n){return n.split("-")[0]}function zd(n){return n.split("-")[1]}function Uf(n){return n==="x"?"y":"x"}function Kf(n){return n==="y"?"height":"width"}function mo(n){return["top","bottom"].includes(Ba(n))?"y":"x"}function Gf(n){return Uf(mo(n))}function Q0(n,s,t){t===void 0&&(t=!1);const e=zd(n),i=Gf(n),a=Kf(i);let h=i==="x"?e===(t?"end":"start")?"right":"left":e==="start"?"bottom":"top";return s.reference[a]>s.floating[a]&&(h=cl(h)),[h,cl(h)]}function z0(n){const s=cl(n);return[Ac(n),s,Ac(s)]}function Ac(n){return n.replace(/start|end/g,s=>j0[s])}function Y0(n,s,t){const e=["left","right"],i=["right","left"],a=["top","bottom"],h=["bottom","top"];switch(n){case"top":case"bottom":return t?s?i:e:s?e:i;case"left":case"right":return s?a:h;default:return[]}}function X0(n,s,t,e){const i=zd(n);let a=Y0(Ba(n),t==="start",e);return i&&(a=a.map(h=>h+"-"+i),s&&(a=a.concat(a.map(Ac)))),a}function cl(n){return n.replace(/left|right|bottom|top/g,s=>G0[s])}function J0(n){return{top:0,right:0,bottom:0,left:0,...n}}function Z0(n){return typeof n!="number"?J0(n):{top:n,right:n,bottom:n,left:n}}function ul(n){const{x:s,y:t,width:e,height:i}=n;return{width:e,height:i,top:t,left:s,right:s+e,bottom:t+i,x:s,y:t}}function Vp(n,s,t){let{reference:e,floating:i}=n;const a=mo(s),h=Gf(s),l=Kf(h),c=Ba(s),p=a==="y",f=e.x+e.width/2-i.width/2,m=e.y+e.height/2-i.height/2,b=e[l]/2-i[l]/2;let $;switch(c){case"top":$={x:f,y:e.y-i.height};break;case"bottom":$={x:f,y:e.y+e.height};break;case"right":$={x:e.x+e.width,y:m};break;case"left":$={x:e.x-i.width,y:m};break;default:$={x:e.x,y:e.y}}switch(zd(s)){case"start":$[h]-=b*(t&&p?-1:1);break;case"end":$[h]+=b*(t&&p?-1:1);break}return $}const tx=async(n,s,t)=>{const{placement:e="bottom",strategy:i="absolute",middleware:a=[],platform:h}=t,l=a.filter(Boolean),c=await(h.isRTL==null?void 0:h.isRTL(s));let p=await h.getElementRects({reference:n,floating:s,strategy:i}),{x:f,y:m}=Vp(p,e,c),b=e,$={},v=0;for(let S=0;S<l.length;S++){const{name:k,fn:q}=l[S],{x:F,y:st,data:yt,reset:lt}=await q({x:f,y:m,initialPlacement:e,placement:b,strategy:i,middlewareData:$,rects:p,platform:h,elements:{reference:n,floating:s}});f=F??f,m=st??m,$={...$,[k]:{...$[k],...yt}},lt&&v<=50&&(v++,typeof lt=="object"&&(lt.placement&&(b=lt.placement),lt.rects&&(p=lt.rects===!0?await h.getElementRects({reference:n,floating:s,strategy:i}):lt.rects),{x:f,y:m}=Vp(p,b,c)),S=-1)}return{x:f,y:m,placement:b,strategy:i,middlewareData:$}};async function jf(n,s){var t;s===void 0&&(s={});const{x:e,y:i,platform:a,rects:h,elements:l,strategy:c}=n,{boundary:p="clippingAncestors",rootBoundary:f="viewport",elementContext:m="floating",altBoundary:b=!1,padding:$=0}=Qd(s,n),v=Z0($),k=l[b?m==="floating"?"reference":"floating":m],q=ul(await a.getClippingRect({element:(t=await(a.isElement==null?void 0:a.isElement(k)))==null||t?k:k.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:p,rootBoundary:f,strategy:c})),F=m==="floating"?{x:e,y:i,width:h.floating.width,height:h.floating.height}:h.reference,st=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),yt=await(a.isElement==null?void 0:a.isElement(st))?await(a.getScale==null?void 0:a.getScale(st))||{x:1,y:1}:{x:1,y:1},lt=ul(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:F,offsetParent:st,strategy:c}):F);return{top:(q.top-lt.top+v.top)/yt.y,bottom:(lt.bottom-q.bottom+v.bottom)/yt.y,left:(q.left-lt.left+v.left)/yt.x,right:(lt.right-q.right+v.right)/yt.x}}const ex=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(s){var t,e;const{placement:i,middlewareData:a,rects:h,initialPlacement:l,platform:c,elements:p}=s,{mainAxis:f=!0,crossAxis:m=!0,fallbackPlacements:b,fallbackStrategy:$="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:S=!0,...k}=Qd(n,s);if((t=a.arrow)!=null&&t.alignmentOffset)return{};const q=Ba(i),F=mo(l),st=Ba(l)===l,yt=await(c.isRTL==null?void 0:c.isRTL(p.floating)),lt=b||(st||!S?[cl(l)]:z0(l)),Ce=v!=="none";!b&&Ce&&lt.push(...X0(l,S,v,yt));const xi=[l,...lt],Ae=await jf(s,k),os=[];let hs=((e=a.flip)==null?void 0:e.overflows)||[];if(f&&os.push(Ae[q]),m){const bt=Q0(i,h,yt);os.push(Ae[bt[0]],Ae[bt[1]])}if(hs=[...hs,{placement:i,overflows:os}],!os.every(bt=>bt<=0)){var Fe,ki;const bt=(((Fe=a.flip)==null?void 0:Fe.index)||0)+1,Be=xi[bt];if(Be)return{data:{index:bt,overflows:hs},reset:{placement:Be}};let Kt=(ki=hs.filter(K=>K.overflows[0]<=0).sort((K,Gt)=>K.overflows[1]-Gt.overflows[1])[0])==null?void 0:ki.placement;if(!Kt)switch($){case"bestFit":{var Dt;const K=(Dt=hs.filter(Gt=>{if(Ce){const xt=mo(Gt.placement);return xt===F||xt==="y"}return!0}).map(Gt=>[Gt.placement,Gt.overflows.filter(xt=>xt>0).reduce((xt,Ds)=>xt+Ds,0)]).sort((Gt,xt)=>Gt[1]-xt[1])[0])==null?void 0:Dt[0];K&&(Kt=K);break}case"initialPlacement":Kt=l;break}if(i!==Kt)return{reset:{placement:Kt}}}return{}}}},sx=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(s){const{x:t,y:e,placement:i}=s,{mainAxis:a=!0,crossAxis:h=!1,limiter:l={fn:k=>{let{x:q,y:F}=k;return{x:q,y:F}}},...c}=Qd(n,s),p={x:t,y:e},f=await jf(s,c),m=mo(Ba(i)),b=Uf(m);let $=p[b],v=p[m];if(a){const k=b==="y"?"top":"left",q=b==="y"?"bottom":"right",F=$+f[k],st=$-f[q];$=Rp(F,$,st)}if(h){const k=m==="y"?"top":"left",q=m==="y"?"bottom":"right",F=v+f[k],st=v-f[q];v=Rp(F,v,st)}const S=l.fn({...s,[b]:$,[m]:v});return{...S,data:{x:S.x-t,y:S.y-e}}}}};function Xa(n){return Qf(n)?(n.nodeName||"").toLowerCase():"#document"}function ve(n){var s;return(n==null||(s=n.ownerDocument)==null?void 0:s.defaultView)||window}function Si(n){var s;return(s=(Qf(n)?n.ownerDocument:n.document)||window.document)==null?void 0:s.documentElement}function Qf(n){return n instanceof Node||n instanceof ve(n).Node}function is(n){return n instanceof Element||n instanceof ve(n).Element}function Es(n){return n instanceof HTMLElement||n instanceof ve(n).HTMLElement}function Dp(n){return typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof ve(n).ShadowRoot}function bh(n){const{overflow:s,overflowX:t,overflowY:e,display:i}=ns(n);return/auto|scroll|overlay|hidden|clip/.test(s+e+t)&&!["inline","contents"].includes(i)}function ix(n){return["table","td","th"].includes(Xa(n))}function tc(n){return[":popover-open",":modal"].some(s=>{try{return n.matches(s)}catch{return!1}})}function Yd(n){const s=Xd(),t=is(n)?ns(n):n;return t.transform!=="none"||t.perspective!=="none"||(t.containerType?t.containerType!=="normal":!1)||!s&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!s&&(t.filter?t.filter!=="none":!1)||["transform","perspective","filter"].some(e=>(t.willChange||"").includes(e))||["paint","layout","strict","content"].some(e=>(t.contain||"").includes(e))}function nx(n){let s=gn(n);for(;Es(s)&&!Wa(s);){if(Yd(s))return s;if(tc(s))return null;s=gn(s)}return null}function Xd(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Wa(n){return["html","body","#document"].includes(Xa(n))}function ns(n){return ve(n).getComputedStyle(n)}function ec(n){return is(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function gn(n){if(Xa(n)==="html")return n;const s=n.assignedSlot||n.parentNode||Dp(n)&&n.host||Si(n);return Dp(s)?s.host:s}function zf(n){const s=gn(n);return Wa(s)?n.ownerDocument?n.ownerDocument.body:n.body:Es(s)&&bh(s)?s:zf(s)}function go(n,s,t){var e;s===void 0&&(s=[]),t===void 0&&(t=!0);const i=zf(n),a=i===((e=n.ownerDocument)==null?void 0:e.body),h=ve(i);if(a){const l=Pc(h);return s.concat(h,h.visualViewport||[],bh(i)?i:[],l&&t?go(l):[])}return s.concat(i,go(i,[],t))}function Pc(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function Yf(n){const s=ns(n);let t=parseFloat(s.width)||0,e=parseFloat(s.height)||0;const i=Es(n),a=i?n.offsetWidth:t,h=i?n.offsetHeight:e,l=ll(t)!==a||ll(e)!==h;return l&&(t=a,e=h),{width:t,height:e,$:l}}function Jd(n){return is(n)?n:n.contextElement}function Nr(n){const s=Jd(n);if(!Es(s))return mn(1);const t=s.getBoundingClientRect(),{width:e,height:i,$:a}=Yf(s);let h=(a?ll(t.width):t.width)/e,l=(a?ll(t.height):t.height)/i;return(!h||!Number.isFinite(h))&&(h=1),(!l||!Number.isFinite(l))&&(l=1),{x:h,y:l}}const rx=mn(0);function Xf(n){const s=ve(n);return!Xd()||!s.visualViewport?rx:{x:s.visualViewport.offsetLeft,y:s.visualViewport.offsetTop}}function ax(n,s,t){return s===void 0&&(s=!1),!t||s&&t!==ve(n)?!1:s}function Sr(n,s,t,e){s===void 0&&(s=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),a=Jd(n);let h=mn(1);s&&(e?is(e)&&(h=Nr(e)):h=Nr(n));const l=ax(a,t,e)?Xf(a):mn(0);let c=(i.left+l.x)/h.x,p=(i.top+l.y)/h.y,f=i.width/h.x,m=i.height/h.y;if(a){const b=ve(a),$=e&&is(e)?ve(e):e;let v=b,S=Pc(v);for(;S&&e&&$!==v;){const k=Nr(S),q=S.getBoundingClientRect(),F=ns(S),st=q.left+(S.clientLeft+parseFloat(F.paddingLeft))*k.x,yt=q.top+(S.clientTop+parseFloat(F.paddingTop))*k.y;c*=k.x,p*=k.y,f*=k.x,m*=k.y,c+=st,p+=yt,v=ve(S),S=Pc(v)}}return ul({width:f,height:m,x:c,y:p})}function ox(n){let{elements:s,rect:t,offsetParent:e,strategy:i}=n;const a=i==="fixed",h=Si(e),l=s?tc(s.floating):!1;if(e===h||l&&a)return t;let c={scrollLeft:0,scrollTop:0},p=mn(1);const f=mn(0),m=Es(e);if((m||!m&&!a)&&((Xa(e)!=="body"||bh(h))&&(c=ec(e)),Es(e))){const b=Sr(e);p=Nr(e),f.x=b.x+e.clientLeft,f.y=b.y+e.clientTop}return{width:t.width*p.x,height:t.height*p.y,x:t.x*p.x-c.scrollLeft*p.x+f.x,y:t.y*p.y-c.scrollTop*p.y+f.y}}function hx(n){return Array.from(n.getClientRects())}function Jf(n){return Sr(Si(n)).left+ec(n).scrollLeft}function lx(n){const s=Si(n),t=ec(n),e=n.ownerDocument.body,i=Tr(s.scrollWidth,s.clientWidth,e.scrollWidth,e.clientWidth),a=Tr(s.scrollHeight,s.clientHeight,e.scrollHeight,e.clientHeight);let h=-t.scrollLeft+Jf(n);const l=-t.scrollTop;return ns(e).direction==="rtl"&&(h+=Tr(s.clientWidth,e.clientWidth)-i),{width:i,height:a,x:h,y:l}}function cx(n,s){const t=ve(n),e=Si(n),i=t.visualViewport;let a=e.clientWidth,h=e.clientHeight,l=0,c=0;if(i){a=i.width,h=i.height;const p=Xd();(!p||p&&s==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:a,height:h,x:l,y:c}}function ux(n,s){const t=Sr(n,!0,s==="fixed"),e=t.top+n.clientTop,i=t.left+n.clientLeft,a=Es(n)?Nr(n):mn(1),h=n.clientWidth*a.x,l=n.clientHeight*a.y,c=i*a.x,p=e*a.y;return{width:h,height:l,x:c,y:p}}function _p(n,s,t){let e;if(s==="viewport")e=cx(n,t);else if(s==="document")e=lx(Si(n));else if(is(s))e=ux(s,t);else{const i=Xf(n);e={...s,x:s.x-i.x,y:s.y-i.y}}return ul(e)}function Zf(n,s){const t=gn(n);return t===s||!is(t)||Wa(t)?!1:ns(t).position==="fixed"||Zf(t,s)}function dx(n,s){const t=s.get(n);if(t)return t;let e=go(n,[],!1).filter(l=>is(l)&&Xa(l)!=="body"),i=null;const a=ns(n).position==="fixed";let h=a?gn(n):n;for(;is(h)&&!Wa(h);){const l=ns(h),c=Yd(h);!c&&l.position==="fixed"&&(i=null),(a?!c&&!i:!c&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||bh(h)&&!c&&Zf(n,h))?e=e.filter(f=>f!==h):i=l,h=gn(h)}return s.set(n,e),e}function px(n){let{element:s,boundary:t,rootBoundary:e,strategy:i}=n;const h=[...t==="clippingAncestors"?tc(s)?[]:dx(s,this._c):[].concat(t),e],l=h[0],c=h.reduce((p,f)=>{const m=_p(s,f,i);return p.top=Tr(m.top,p.top),p.right=hl(m.right,p.right),p.bottom=hl(m.bottom,p.bottom),p.left=Tr(m.left,p.left),p},_p(s,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function fx(n){const{width:s,height:t}=Yf(n);return{width:s,height:t}}function mx(n,s,t){const e=Es(s),i=Si(s),a=t==="fixed",h=Sr(n,!0,a,s);let l={scrollLeft:0,scrollTop:0};const c=mn(0);if(e||!e&&!a)if((Xa(s)!=="body"||bh(i))&&(l=ec(s)),e){const m=Sr(s,!0,a,s);c.x=m.x+s.clientLeft,c.y=m.y+s.clientTop}else i&&(c.x=Jf(i));const p=h.left+l.scrollLeft-c.x,f=h.top+l.scrollTop-c.y;return{x:p,y:f,width:h.width,height:h.height}}function dc(n){return ns(n).position==="static"}function Np(n,s){return!Es(n)||ns(n).position==="fixed"?null:s?s(n):n.offsetParent}function tm(n,s){const t=ve(n);if(tc(n))return t;if(!Es(n)){let i=gn(n);for(;i&&!Wa(i);){if(is(i)&&!dc(i))return i;i=gn(i)}return t}let e=Np(n,s);for(;e&&ix(e)&&dc(e);)e=Np(e,s);return e&&Wa(e)&&dc(e)&&!Yd(e)?t:e||nx(n)||t}const gx=async function(n){const s=this.getOffsetParent||tm,t=this.getDimensions,e=await t(n.floating);return{reference:mx(n.reference,await s(n.floating),n.strategy),floating:{x:0,y:0,width:e.width,height:e.height}}};function yx(n){return ns(n).direction==="rtl"}const bx={convertOffsetParentRelativeRectToViewportRelativeRect:ox,getDocumentElement:Si,getClippingRect:px,getOffsetParent:tm,getElementRects:gx,getClientRects:hx,getDimensions:fx,getScale:Nr,isElement:is,isRTL:yx};function $x(n,s){let t=null,e;const i=Si(n);function a(){var l;clearTimeout(e),(l=t)==null||l.disconnect(),t=null}function h(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const{left:p,top:f,width:m,height:b}=n.getBoundingClientRect();if(l||s(),!m||!b)return;const $=Oh(f),v=Oh(i.clientWidth-(p+m)),S=Oh(i.clientHeight-(f+b)),k=Oh(p),F={rootMargin:-$+"px "+-v+"px "+-S+"px "+-k+"px",threshold:Tr(0,hl(1,c))||1};let st=!0;function yt(lt){const Ce=lt[0].intersectionRatio;if(Ce!==c){if(!st)return h();Ce?h(!1,Ce):e=setTimeout(()=>{h(!1,1e-7)},1e3)}st=!1}try{t=new IntersectionObserver(yt,{...F,root:i.ownerDocument})}catch{t=new IntersectionObserver(yt,F)}t.observe(n)}return h(!0),a}function wx(n,s,t,e){e===void 0&&(e={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:h=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=e,p=Jd(n),f=i||a?[...p?go(p):[],...go(s)]:[];f.forEach(q=>{i&&q.addEventListener("scroll",t,{passive:!0}),a&&q.addEventListener("resize",t)});const m=p&&l?$x(p,t):null;let b=-1,$=null;h&&($=new ResizeObserver(q=>{let[F]=q;F&&F.target===p&&$&&($.unobserve(s),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var st;(st=$)==null||st.observe(s)})),t()}),p&&!c&&$.observe(p),$.observe(s));let v,S=c?Sr(n):null;c&&k();function k(){const q=Sr(n);S&&(q.x!==S.x||q.y!==S.y||q.width!==S.width||q.height!==S.height)&&t(),S=q,v=requestAnimationFrame(k)}return t(),()=>{var q;f.forEach(F=>{i&&F.removeEventListener("scroll",t),a&&F.removeEventListener("resize",t)}),m==null||m(),(q=$)==null||q.disconnect(),$=null,c&&cancelAnimationFrame(v)}}const vx=sx,Tx=ex,Sx=(n,s,t)=>{const e=new Map,i={platform:bx,...t},a={...i.platform,_c:e};return tx(n,s,{...i,platform:a})};function Hp(n,s){const t=s.composedPath()[0];return PS(t)&&n.contains(t)}const Lc=new Set;{let n=function(){for(const s of Lc)try{s()}catch{}window.requestAnimationFrame(n)};n()}function xx(n){return Lc.add(n),()=>Lc.delete(n)}function Z(n,s,t){n.hasAttribute(s)||n.setAttribute(s,t)}function xn(n,s){if(n.hasAttribute("aria-label")||n.hasAttribute("data-no-label"))return;if(!mi(s)){E(n,"aria-label",s);return}function t(){E(n,"aria-label",s())}y(t)}function em(n){const s=getComputedStyle(n);return s.display!=="none"&&parseInt(s.opacity)>0}function kx(n){return!!n&&("checkVisibility"in n?n.checkVisibility({checkOpacity:!0,checkVisibilityCSS:!0}):em(n))}function sm(n,s){return xx(()=>s(kx(n)))}function im(n,s,t){for(;s;){if(s===n)return!0;if(t!=null&&t(s))break;s=s.parentElement}return!1}function yn(n,s){return new ht(n).add("pointerup",t=>{t.button===0&&!t.defaultPrevented&&s(t)}).add("keydown",t=>{Cf(t)&&s(t)})}function Zd(n){return Rh(n)&&(n.touches.length>1||n.changedTouches.length>1)}function yi(n){let s=Yl(),t=window.requestAnimationFrame(()=>{de(n,s),t=-1});return()=>void window.cancelAnimationFrame(t)}function tp(n,s,t){let e,i=n,a=n.parentElement,h=n.content.firstElementChild,l=[];!h&&n.firstElementChild&&(n.innerHTML=n.firstElementChild.outerHTML,n.firstElementChild.remove(),h=n.content.firstElementChild);for(let c=0;c<s;c++)e=document.importNode(h,!0),t==null||t(e,c),a.insertBefore(e,i.nextSibling),l.push(e),i=e;return B(()=>{for(let c=0;c<l.length;c++)l[c].remove()}),l}function nm(n){const s=document.createElement("template");return s.innerHTML=n,s.content}function rm(n){return n.cloneNode(!0).firstElementChild}function am(n,s,t,{offsetVarName:e,xOffset:i,yOffset:a,...h}){if(!n)return;const l=t.replace(" ","-").replace("-center","");if(pe(n,"visibility",s?null:"hidden"),!s)return;let c=t.includes("top");const p=m=>t.includes("left")?`calc(-1 * ${m})`:m,f=m=>c?`calc(-1 * ${m})`:m;return wx(s,n,()=>{Sx(s,n,{placement:l,middleware:[...h.middleware??[],Tx({fallbackAxisSideDirection:"start",crossAxis:!1}),vx()],...h}).then(({x:m,y:b,middlewareData:$})=>{var S;const v=!!((S=$.flip)!=null&&S.index);c=t.includes(v?"bottom":"top"),n.setAttribute("data-placement",v?t.startsWith("top")?t.replace("top","bottom"):t.replace("bottom","top"):t),Object.assign(n.style,{top:`calc(${b+"px"} + ${f(a?a+"px":`var(--${e}-y-offset, 0px)`)})`,left:`calc(${m+"px"} + ${p(i?i+"px":`var(--${e}-x-offset, 0px)`)})`})})})}function Ex(n){return getComputedStyle(n).animationName!=="none"}function xr(n){return n instanceof HTMLElement}function Cx(n){return n?"true":"false"}function Wt(n){return()=>Cx(n())}function Ax(){return typeof window>"u"?!1:window.matchMedia("(prefers-reduced-motion: reduce)").matches}function Ct(n,s=2){return Number(n.toFixed(s))}function Px(n){var s;return((s=String(n).split(".")[1])==null?void 0:s.length)??0}function ep(n,s,t){return Math.max(n,Math.min(t,s))}let dl=D(!1);qt(document,"pointerdown",()=>{dl.set(!1)}),qt(document,"keydown",n=>{n.metaKey||n.altKey||n.ctrlKey||dl.set(!0)});var Ii,As,om,hm,lm,cm;class as extends He{constructor(){super(...arguments);u(this,As);u(this,Ii,D(!1))}onConnect(t){y(()=>{const e=new ht(t);if(!dl()){r(this,Ii).set(!1),qh(t,!1),e.add("pointerenter",o(this,As,lm).bind(this)).add("pointerleave",o(this,As,cm).bind(this));return}const i=document.activeElement===t;r(this,Ii).set(i),qh(t,i),e.add("focus",o(this,As,om).bind(this)).add("blur",o(this,As,hm).bind(this))})}focused(){return r(this,Ii).call(this)}}Ii=new WeakMap,As=new WeakSet,om=function(){r(this,Ii).set(!0),qh(this.el,!0)},hm=function(){r(this,Ii).set(!1),qh(this.el,!1)},lm=function(){Fp(this.el,!0)},cm=function(){Fp(this.el,!1)};function qh(n,s){E(n,"data-focus",s),E(n,"data-hocus",s)}function Fp(n,s){E(n,"data-hocus",s),E(n,"data-hover",s)}var ff;class um extends Ef{constructor(){super(...arguments);g(this,"items",[]);g(this,ff,!1)}get length(){return this.items.length}get readonly(){return this[J.readonly]}indexOf(t){return this.items.indexOf(t)}getById(t){return t===""?null:this.items.find(e=>e.id===t)??null}toArray(){return[...this.items]}[(ff=J.readonly,Symbol.iterator)](){return this.items.values()}[J.add](t,e){const i=this.items.length;""+i in this||Object.defineProperty(this,i,{get(){return this.items[i]}}),!this.items.includes(t)&&(this.items.push(t),this.dispatchEvent(new ot("add",{detail:t,trigger:e})))}[J.remove](t,e){var a;const i=this.items.indexOf(t);i>=0&&((a=this[J.onRemove])==null||a.call(this,t,e),this.items.splice(i,1),this.dispatchEvent(new ot("remove",{detail:t,trigger:e})))}[J.reset](t){var e;for(const i of[...this.items])this[J.remove](i,t);this.items=[],this[J.setReadonly](!1,t),(e=this[J.onReset])==null||e.call(this)}[J.setReadonly](t,e){this[J.readonly]!==t&&(this[J.readonly]=t,this.dispatchEvent(new ot("readonly-change",{detail:t,trigger:e})))}}const Mc=wr.fullscreenEnabled;var Ri,Gr,bn,dm,pm,fm;class Lx extends He{constructor(){super(...arguments);u(this,bn);u(this,Ri,!1);u(this,Gr,!1)}get active(){return r(this,Gr)}get supported(){return Mc}onConnect(){new ht(wr).add("fullscreenchange",o(this,bn,pm).bind(this)).add("fullscreenerror",o(this,bn,fm).bind(this)),B(o(this,bn,dm).bind(this))}async enter(){try{return d(this,Ri,!0),!this.el||pc(this.el)?void 0:(Bp(),wr.requestFullscreen(this.el))}catch(t){throw d(this,Ri,!1),t}}async exit(){if(!(!this.el||!pc(this.el)))return Bp(),wr.exitFullscreen()}}Ri=new WeakMap,Gr=new WeakMap,bn=new WeakSet,dm=async function(){Mc&&await this.exit()},pm=function(t){const e=pc(this.el);e!==r(this,Gr)&&(e||d(this,Ri,!1),d(this,Gr,e),this.dispatch("fullscreen-change",{detail:e,trigger:t}))},fm=function(t){r(this,Ri)&&(this.dispatch("fullscreen-error",{detail:null,trigger:t}),d(this,Ri,!1))};function pc(n){if(wr.fullscreenElement===n)return!0;try{return n.matches(wr.fullscreenPseudoClass)}catch{return!1}}function Bp(){if(!Mc)throw Error("[vidstack] no fullscreen API")}var Vi,Ws,Dn,ke,mm,Oc,qc,Ic;const vl=class vl extends He{constructor(){super(...arguments);u(this,ke);u(this,Vi,D(o(this,ke,Ic).call(this)));u(this,Ws,D(!1));u(this,Dn)}get type(){return r(this,Vi).call(this)}get locked(){return r(this,Ws).call(this)}get portrait(){return r(this,Vi).call(this).startsWith("portrait")}get landscape(){return r(this,Vi).call(this).startsWith("landscape")}get supported(){return vl.supported}onConnect(){if(this.supported)qt(screen.orientation,"change",o(this,ke,Oc).bind(this));else{const t=window.matchMedia("(orientation: landscape)");t.onchange=o(this,ke,Oc).bind(this),B(()=>t.onchange=null)}B(o(this,ke,mm).bind(this))}async lock(t){T(r(this,Ws))||r(this,Dn)===t||(o(this,ke,qc).call(this),await screen.orientation.lock(t),r(this,Ws).set(!0),d(this,Dn,t))}async unlock(){T(r(this,Ws))&&(o(this,ke,qc).call(this),d(this,Dn,void 0),await screen.orientation.unlock(),r(this,Ws).set(!1))}};Vi=new WeakMap,Ws=new WeakMap,Dn=new WeakMap,ke=new WeakSet,mm=async function(){this.supported&&r(this,Ws).call(this)&&await this.unlock()},Oc=function(t){r(this,Vi).set(o(this,ke,Ic).call(this)),this.dispatch("orientation-change",{detail:{orientation:T(r(this,Vi)),lock:r(this,Dn)},trigger:t})},qc=function(){if(!this.supported)throw Error("[vidstack] no orientation API")},Ic=function(){return this.supported?window.screen.orientation.type:window.innerWidth>=window.innerHeight?"landscape-primary":"portrait-primary"},g(vl,"supported",Hf());let pl=vl;function Rc(n){return!V(n)&&"width"in n&&"height"in n&&qe(n.width)&&qe(n.height)}const gm=new Sn({artist:"",artwork:null,audioTrack:null,audioTracks:[],autoPlay:!1,autoPlayError:null,audioGain:null,buffered:new Vh,canLoad:!1,canLoadPoster:!1,canFullscreen:!1,canOrientScreen:Hf(),canPictureInPicture:!1,canPlay:!1,clipStartTime:0,clipEndTime:0,controls:!1,get iOSControls(){return Nf&&this.mediaType==="video"&&(!this.playsInline||!wr.fullscreenEnabled&&this.fullscreen)},get nativeControls(){return this.controls||this.iOSControls},controlsVisible:!1,get controlsHidden(){return!this.controlsVisible},crossOrigin:null,ended:!1,error:null,fullscreen:!1,get loop(){return this.providedLoop||this.userPrefersLoop},logLevel:"silent",mediaType:"unknown",muted:!1,paused:!0,played:new Vh,playing:!1,playsInline:!1,pictureInPicture:!1,preload:"metadata",playbackRate:1,qualities:[],quality:null,autoQuality:!1,canSetQuality:!0,canSetPlaybackRate:!0,canSetVolume:!1,canSetAudioGain:!1,seekable:new Vh,seeking:!1,source:{src:"",type:""},sources:[],started:!1,textTracks:[],textTrack:null,get hasCaptions(){return this.textTracks.filter(Qt).length>0},volume:1,waiting:!1,realCurrentTime:0,get currentTime(){return this.ended?this.duration:this.clipStartTime>0?Math.max(0,Math.min(this.realCurrentTime-this.clipStartTime,this.duration)):this.realCurrentTime},providedDuration:-1,intrinsicDuration:0,get duration(){return this.seekableWindow},get title(){return this.providedTitle||this.inferredTitle},get poster(){return this.providedPoster||this.inferredPoster},get viewType(){return this.providedViewType!=="unknown"?this.providedViewType:this.inferredViewType},get streamType(){return this.providedStreamType!=="unknown"?this.providedStreamType:this.inferredStreamType},get currentSrc(){return this.source},get bufferedStart(){const n=Ip(this.buffered)??0;return Math.max(n,this.clipStartTime)},get bufferedEnd(){const n=Pn(this.buffered)??0;return Math.min(this.seekableEnd,Math.max(0,n-this.clipStartTime))},get bufferedWindow(){return Math.max(0,this.bufferedEnd-this.bufferedStart)},get seekableStart(){if(this.isLiveDVR&&this.liveDVRWindow>0)return Math.max(0,this.seekableEnd-this.liveDVRWindow);const n=Ip(this.seekable)??0;return Math.max(n,this.clipStartTime)},get seekableEnd(){if(this.providedDuration>0)return this.providedDuration;const n=this.liveSyncPosition>0?this.liveSyncPosition:this.canPlay?Pn(this.seekable)??1/0:0;return this.clipEndTime>0?Math.min(this.clipEndTime,n):n},get seekableWindow(){const n=this.seekableEnd-this.seekableStart;return isNaN(n)?1/0:Math.max(0,n)},canAirPlay:!1,canGoogleCast:!1,remotePlaybackState:"disconnected",remotePlaybackType:"none",remotePlaybackLoader:null,remotePlaybackInfo:null,get isAirPlayConnected(){return this.remotePlaybackType==="airplay"&&this.remotePlaybackState==="connected"},get isGoogleCastConnected(){return this.remotePlaybackType==="google-cast"&&this.remotePlaybackState==="connected"},pointer:"fine",orientation:"landscape",width:0,height:0,mediaWidth:0,mediaHeight:0,lastKeyboardAction:null,userBehindLiveEdge:!1,liveEdgeTolerance:10,minLiveDVRWindow:60,get canSeek(){return/unknown|on-demand|:dvr/.test(this.streamType)&&Number.isFinite(this.duration)&&(!this.isLiveDVR||this.duration>=this.liveDVRWindow)},get live(){return this.streamType.includes("live")||!Number.isFinite(this.duration)},get liveEdgeStart(){return this.live&&Number.isFinite(this.seekableEnd)?Math.max(0,this.seekableEnd-this.liveEdgeTolerance):0},get liveEdge(){return this.live&&(!this.canSeek||!this.userBehindLiveEdge&&this.currentTime>=this.liveEdgeStart)},get liveEdgeWindow(){return this.live&&Number.isFinite(this.seekableEnd)?this.seekableEnd-this.liveEdgeStart:0},get isLiveDVR(){return/:dvr/.test(this.streamType)},get liveDVRWindow(){return Math.max(this.inferredLiveDVRWindow,this.minLiveDVRWindow)},autoPlaying:!1,providedTitle:"",inferredTitle:"",providedLoop:!1,userPrefersLoop:!1,providedPoster:"",inferredPoster:"",inferredViewType:"unknown",providedViewType:"unknown",providedStreamType:"unknown",inferredStreamType:"unknown",liveSyncPosition:null,inferredLiveDVRWindow:0,savedState:null}),ym=new Set(["autoPlayError","autoPlaying","buffered","canPlay","error","paused","played","playing","seekable","seeking","waiting"]),Mx=new Set([...ym,"ended","inferredPoster","inferredStreamType","inferredTitle","intrinsicDuration","inferredLiveDVRWindow","liveSyncPosition","realCurrentTime","savedState","started","userBehindLiveEdge"]);function Wp(n,s=!1){const t=s?ym:Mx;gm.reset(n,e=>t.has(e)),fi()}function bm(n,s){const t=n+s.clipStartTime(),e=Math.floor(n)===Math.floor(s.seekableStart()),i=Math.floor(t)===Math.floor(s.seekableEnd());return e?s.seekableStart():i?s.seekableEnd():s.isLiveDVR()&&s.liveDVRWindow()>0&&t<s.seekableEnd()-s.liveDVRWindow()?s.bufferedStart():Math.min(Math.max(s.seekableStart()+.1,t),s.seekableEnd()-.1)}var _n,ye,jr,Tl,Y,tt,qx;class Ox{constructor(s=void 0){u(this,Y);u(this,_n,null);u(this,ye,null);u(this,jr,-1);u(this,Tl);d(this,Tl,s)}setTarget(s){d(this,_n,s)}getPlayer(s){var t;return r(this,ye)?r(this,ye):((t=s??r(this,_n))==null||t.dispatchEvent(new ot("find-media-player",{detail:e=>void d(this,ye,e),bubbles:!0,composed:!0})),r(this,ye))}setPlayer(s){d(this,ye,s)}startLoading(s){o(this,Y,tt).call(this,"media-start-loading",s)}startLoadingPoster(s){o(this,Y,tt).call(this,"media-poster-start-loading",s)}requestAirPlay(s){o(this,Y,tt).call(this,"media-airplay-request",s)}requestGoogleCast(s){o(this,Y,tt).call(this,"media-google-cast-request",s)}play(s){o(this,Y,tt).call(this,"media-play-request",s)}pause(s){o(this,Y,tt).call(this,"media-pause-request",s)}mute(s){o(this,Y,tt).call(this,"media-mute-request",s)}unmute(s){o(this,Y,tt).call(this,"media-unmute-request",s)}enterFullscreen(s,t){o(this,Y,tt).call(this,"media-enter-fullscreen-request",t,s)}exitFullscreen(s,t){o(this,Y,tt).call(this,"media-exit-fullscreen-request",t,s)}lockScreenOrientation(s,t){o(this,Y,tt).call(this,"media-orientation-lock-request",t,s)}unlockScreenOrientation(s){o(this,Y,tt).call(this,"media-orientation-unlock-request",s)}enterPictureInPicture(s){o(this,Y,tt).call(this,"media-enter-pip-request",s)}exitPictureInPicture(s){o(this,Y,tt).call(this,"media-exit-pip-request",s)}seeking(s,t){o(this,Y,tt).call(this,"media-seeking-request",t,s)}seek(s,t){o(this,Y,tt).call(this,"media-seek-request",t,s)}seekToLiveEdge(s){o(this,Y,tt).call(this,"media-live-edge-request",s)}changeDuration(s,t){o(this,Y,tt).call(this,"media-duration-change-request",t,s)}changeClipStart(s,t){o(this,Y,tt).call(this,"media-clip-start-change-request",t,s)}changeClipEnd(s,t){o(this,Y,tt).call(this,"media-clip-end-change-request",t,s)}changeVolume(s,t){o(this,Y,tt).call(this,"media-volume-change-request",t,Math.max(0,Math.min(1,s)))}changeAudioTrack(s,t){o(this,Y,tt).call(this,"media-audio-track-change-request",t,s)}changeQuality(s,t){o(this,Y,tt).call(this,"media-quality-change-request",t,s)}requestAutoQuality(s){this.changeQuality(-1,s)}changeTextTrackMode(s,t,e){o(this,Y,tt).call(this,"media-text-track-change-request",e,{index:s,mode:t})}changePlaybackRate(s,t){o(this,Y,tt).call(this,"media-rate-change-request",t,s)}changeAudioGain(s,t){o(this,Y,tt).call(this,"media-audio-gain-change-request",t,s)}resumeControls(s){o(this,Y,tt).call(this,"media-resume-controls-request",s)}pauseControls(s){o(this,Y,tt).call(this,"media-pause-controls-request",s)}togglePaused(s){const t=this.getPlayer(s==null?void 0:s.target);t&&(t.state.paused?this.play(s):this.pause(s))}toggleControls(s){const t=this.getPlayer(s==null?void 0:s.target);t&&(t.controls.showing?t.controls.hide(0,s):t.controls.show(0,s))}toggleMuted(s){const t=this.getPlayer(s==null?void 0:s.target);t&&(t.state.muted?this.unmute(s):this.mute(s))}toggleFullscreen(s,t){const e=this.getPlayer(t==null?void 0:t.target);e&&(e.state.fullscreen?this.exitFullscreen(s,t):this.enterFullscreen(s,t))}togglePictureInPicture(s){const t=this.getPlayer(s==null?void 0:s.target);t&&(t.state.pictureInPicture?this.exitPictureInPicture(s):this.enterPictureInPicture(s))}showCaptions(s){const t=this.getPlayer(s==null?void 0:s.target);if(!t)return;let e=t.state.textTracks,i=r(this,jr);(!e[i]||!Qt(e[i]))&&(i=-1),i===-1&&(i=e.findIndex(a=>Qt(a)&&a.default)),i===-1&&(i=e.findIndex(a=>Qt(a))),i>=0&&this.changeTextTrackMode(i,"showing",s),d(this,jr,-1)}disableCaptions(s){const t=this.getPlayer(s==null?void 0:s.target);if(!t)return;const e=t.state.textTracks,i=t.state.textTrack;if(i){const a=e.indexOf(i);this.changeTextTrackMode(a,"disabled",s),d(this,jr,a)}}toggleCaptions(s){const t=this.getPlayer(s==null?void 0:s.target);t&&(t.state.textTrack?this.disableCaptions():this.showCaptions())}userPrefersLoopChange(s,t){o(this,Y,tt).call(this,"media-user-loop-change-request",t,s)}}_n=new WeakMap,ye=new WeakMap,jr=new WeakMap,Tl=new WeakMap,Y=new WeakSet,tt=function(s,t,e){var l,c;const i=new ot(s,{bubbles:!0,composed:!0,cancelable:!0,detail:e,trigger:t});let a=(t==null?void 0:t.target)||null;a&&a instanceof M&&(a=a.el),a=!a||a===document||a===window||a===document.body||((l=r(this,ye))==null?void 0:l.el)&&a instanceof Node&&!r(this,ye).el.contains(a)?r(this,_n)??((c=this.getPlayer())==null?void 0:c.el):a??r(this,_n),r(this,ye)?s==="media-play-request"&&!r(this,ye).state.canLoad?a==null||a.dispatchEvent(i):r(this,ye).canPlayQueue.enqueue(s,()=>a==null?void 0:a.dispatchEvent(i)):a==null||a.dispatchEvent(i)},qx=function(s){};var $t;class Ix{constructor(){g(this,"playerId","vds-player");g(this,"mediaId",null);u(this,$t,{volume:null,muted:null,audioGain:null,time:null,lang:null,captions:null,rate:null,quality:null});g(this,"saveTimeThrottled",Lr(this.saveTime.bind(this),1e3))}async getVolume(){return r(this,$t).volume}async setVolume(s){r(this,$t).volume=s,this.save()}async getMuted(){return r(this,$t).muted}async setMuted(s){r(this,$t).muted=s,this.save()}async getTime(){return r(this,$t).time}async setTime(s,t){const e=s<0;r(this,$t).time=e?null:s,e||t?this.saveTime():this.saveTimeThrottled()}async getLang(){return r(this,$t).lang}async setLang(s){r(this,$t).lang=s,this.save()}async getCaptions(){return r(this,$t).captions}async setCaptions(s){r(this,$t).captions=s,this.save()}async getPlaybackRate(){return r(this,$t).rate}async setPlaybackRate(s){r(this,$t).rate=s,this.save()}async getAudioGain(){return r(this,$t).audioGain}async setAudioGain(s){r(this,$t).audioGain=s,this.save()}async getVideoQuality(){return r(this,$t).quality}async setVideoQuality(s){r(this,$t).quality=s,this.save()}onChange(s,t,e="vds-player"){const i=e?localStorage.getItem(e):null,a=t?localStorage.getItem(t):null;this.playerId=e,this.mediaId=t,d(this,$t,{volume:null,muted:null,audioGain:null,lang:null,captions:null,rate:null,quality:null,...i?JSON.parse(i):{},time:a?+a:null})}save(){if(!this.playerId)return;const s=JSON.stringify({...r(this,$t),time:void 0});localStorage.setItem(this.playerId,s)}saveTime(){if(!this.mediaId)return;const s=(r(this,$t).time??0).toString();localStorage.setItem(this.mediaId,s)}}$t=new WeakMap;const to=Symbol(0);class $m extends um{get selected(){return this.items.find(s=>s.selected)??null}get selectedIndex(){return this.items.findIndex(s=>s.selected)}[J.onRemove](s,t){this[J.select](s,!1,t)}[J.add](s,t){s[to]=!1,Object.defineProperty(s,"selected",{get(){return this[to]},set:e=>{var i;this.readonly||((i=this[J.onUserSelect])==null||i.call(this),this[J.select](s,e))}}),super[J.add](s,t)}[J.select](s,t,e){if(t===(s==null?void 0:s[to]))return;const i=this.selected;s&&(s[to]=t),(t?i!==s:i===s)&&(i&&(i[to]=!1),this.dispatchEvent(new ot("change",{detail:{prev:i,current:this.selected},trigger:e})))}}class Rx extends $m{}var So,Us,xo,Di,Ie,wm,vm,Vc,Dc;class Vx{constructor(){u(this,Ie);g(this,"priority",0);u(this,So,!0);u(this,Us,null);u(this,xo,null);u(this,Di,new Set)}canRender(s,t){return!!t}attach(s){d(this,Us,s),s&&(s.textTracks.onchange=o(this,Ie,Dc).bind(this))}addTrack(s){r(this,Di).add(s),o(this,Ie,wm).call(this,s)}removeTrack(s){var t,e;(e=(t=s[U.native])==null?void 0:t.remove)==null||e.call(t),s[U.native]=null,r(this,Di).delete(s)}changeTrack(s){const t=s==null?void 0:s[U.native];t&&t.track.mode!=="showing"&&(t.track.mode="showing"),d(this,xo,s)}setDisplay(s){d(this,So,s),o(this,Ie,Dc).call(this)}detach(){r(this,Us)&&(r(this,Us).textTracks.onchange=null);for(const s of r(this,Di))this.removeTrack(s);r(this,Di).clear(),d(this,Us,null),d(this,xo,null)}}So=new WeakMap,Us=new WeakMap,xo=new WeakMap,Di=new WeakMap,Ie=new WeakSet,wm=function(s){var e;if(!r(this,Us))return;const t=s[e=U.native]??(s[e]=o(this,Ie,vm).call(this,s));xr(t)&&(r(this,Us).append(t),t.track.mode=t.default?"showing":"disabled")},vm=function(s){const t=document.createElement("track"),e=s.default||s.mode==="showing",i=s.src&&s.type==="vtt";return t.id=s.id,t.src=i?s.src:"",t.label=s.label,t.kind=s.kind,t.default=e,s.language&&(t.srclang=s.language),e&&!i&&o(this,Ie,Vc).call(this,s,t.track),t},Vc=function(s,t){var e;if(!(s.src&&s.type==="vtt"||(e=t.cues)!=null&&e.length))for(const i of s.cues)t.addCue(i)},Dc=function(s){for(const t of r(this,Di)){const e=t[U.native];if(!e)continue;if(!r(this,So)){e.track.mode=e.managed?"hidden":"disabled";continue}const i=e.track.mode==="showing";i&&o(this,Ie,Vc).call(this,t,e.track),t.setMode(i?"showing":"disabled",s)}};var Nn,Qr,Hn,ko,Eo,be,cs,wt,Tm,_c,Sm,xm,km,Dr,Em;class Dx{constructor(s){u(this,wt);u(this,Nn,null);u(this,Qr);u(this,Hn,[]);u(this,ko);u(this,Eo,!1);u(this,be,null);u(this,cs,null);d(this,ko,s);const t=s.textTracks;d(this,Qr,t),y(o(this,wt,Tm).bind(this)),B(o(this,wt,Em).bind(this)),new ht(t).add("add",o(this,wt,xm).bind(this)).add("remove",o(this,wt,km).bind(this)).add("mode-change",o(this,wt,Dr).bind(this))}add(s){r(this,Hn).push(s),fo(o(this,wt,Dr).bind(this))}remove(s){s.detach(),r(this,Hn).splice(r(this,Hn).indexOf(s),1),fo(o(this,wt,Dr).bind(this))}attachVideo(s){requestAnimationFrame(()=>{if(d(this,Nn,s),s){d(this,be,new Vx),r(this,be).attach(s);for(const t of r(this,Qr))o(this,wt,_c).call(this,t)}o(this,wt,Dr).call(this)})}}Nn=new WeakMap,Qr=new WeakMap,Hn=new WeakMap,ko=new WeakMap,Eo=new WeakMap,be=new WeakMap,cs=new WeakMap,wt=new WeakSet,Tm=function(){const{nativeControls:s}=r(this,ko).$state;d(this,Eo,s()),o(this,wt,Dr).call(this)},_c=function(s){var t;Qt(s)&&((t=r(this,be))==null||t.addTrack(s))},Sm=function(s){var t;Qt(s)&&((t=r(this,be))==null||t.removeTrack(s))},xm=function(s){o(this,wt,_c).call(this,s.detail)},km=function(s){o(this,wt,Sm).call(this,s.detail)},Dr=function(){var e,i,a,h,l,c,p;const s=r(this,Qr).selected;if(r(this,Nn)&&(r(this,Eo)||s!=null&&s[U.nativeHLS])){(e=r(this,cs))==null||e.changeTrack(null),(i=r(this,be))==null||i.setDisplay(!0),(a=r(this,be))==null||a.changeTrack(s);return}if((h=r(this,be))==null||h.setDisplay(!1),(l=r(this,be))==null||l.changeTrack(null),!s){(c=r(this,cs))==null||c.changeTrack(null);return}const t=r(this,Hn).sort((f,m)=>f.priority-m.priority).find(f=>f.canRender(s,r(this,Nn)));r(this,cs)!==t&&((p=r(this,cs))==null||p.detach(),t==null||t.attach(r(this,Nn)),d(this,cs,t??null)),t==null||t.changeTrack(s)},Em=function(){var s,t;(s=r(this,be))==null||s.detach(),d(this,be,null),(t=r(this,cs))==null||t.detach(),d(this,cs,null)};var mf,Fn,us,ds,ps,Co,zr,Ao,Ps,Cm,Nc,Hc;class _x extends um{constructor(){super();u(this,Ps);u(this,Fn,!1);u(this,us,{});u(this,ds,null);u(this,ps,null);g(this,mf);u(this,Co,Kd(async()=>{var i;if(!r(this,Fn))return;!r(this,ps)&&r(this,ds)&&d(this,ps,await r(this,ds).getLang());const t=await((i=r(this,ds))==null?void 0:i.getCaptions()),e=[["captions","subtitles"],"chapters","descriptions","metadata"];for(const a of e){const h=this.getByKind(a);if(h.find(m=>m.mode==="showing"))continue;const l=r(this,ps)?h.find(m=>m.language===r(this,ps)):null,c=jt(a)?r(this,us)[a.find(m=>r(this,us)[m])||""]:r(this,us)[a],p=l??c,f=p&&Qt(p);p&&(!f||t!==!1)&&(p.mode="showing",f&&o(this,Ps,Nc).call(this,p))}},300));u(this,zr,null);u(this,Ao,o(this,Ps,Cm).bind(this))}get selected(){return this.items.find(e=>e.mode==="showing"&&Qt(e))??null}get selectedIndex(){const t=this.selected;return t?this.indexOf(t):-1}get preferredLang(){return r(this,ps)}set preferredLang(t){d(this,ps,t),o(this,Ps,Hc).call(this,t)}add(t,e){const i=t instanceof Fa,a=i?t:new Fa(t),h=t.kind==="captions"||t.kind==="subtitles"?"captions":t.kind;return r(this,us)[h]&&t.default&&delete t.default,a.addEventListener("mode-change",r(this,Ao)),this[J.add](a,e),a[U.crossOrigin]=this[U.crossOrigin],r(this,Fn)&&a[U.canLoad](),t.default&&(r(this,us)[h]=a),r(this,Co).call(this),this}remove(t,e){if(d(this,zr,t),!!this.items.includes(t))return t===r(this,us)[t.kind]&&delete r(this,us)[t.kind],t.mode="disabled",t[U.onModeChange]=null,t.removeEventListener("mode-change",r(this,Ao)),this[J.remove](t,e),d(this,zr,null),this}clear(t){for(const e of[...this.items])this.remove(e,t);return this}getByKind(t){const e=Array.isArray(t)?t:[t];return this.items.filter(i=>e.includes(i.kind))}[(mf=U.crossOrigin,U.canLoad)](){if(!r(this,Fn)){for(const t of this.items)t[U.canLoad]();d(this,Fn,!0),r(this,Co).call(this)}}setStorage(t){d(this,ds,t)}}Fn=new WeakMap,us=new WeakMap,ds=new WeakMap,ps=new WeakMap,Co=new WeakMap,zr=new WeakMap,Ao=new WeakMap,Ps=new WeakSet,Cm=function(t){const e=t.detail;if(r(this,ds)&&Qt(e)&&e!==r(this,zr)&&o(this,Ps,Nc).call(this,e),e.mode==="showing"){const i=Qt(e)?["captions","subtitles"]:[e.kind];for(const a of this.items)a.mode==="showing"&&a!=e&&i.includes(a.kind)&&(a.mode="disabled")}this.dispatchEvent(new ot("mode-change",{detail:t.detail,trigger:t}))},Nc=function(t){var e,i;t.mode!=="disabled"&&o(this,Ps,Hc).call(this,t.language),(i=(e=r(this,ds))==null?void 0:e.setCaptions)==null||i.call(e,t.mode==="showing")},Hc=function(t){var e,i;(i=(e=r(this,ds))==null?void 0:e.setLang)==null||i.call(e,d(this,ps,t))};var gf,Bn;class Nx extends $m{constructor(){super(...arguments);u(this,Bn,!1);g(this,"switch","current");g(this,gf)}get auto(){return r(this,Bn)||this.readonly}[(gf=We.enableAuto,J.onUserSelect)](){this[We.setAuto](!1)}[J.onReset](t){this[We.enableAuto]=void 0,this[We.setAuto](!1,t)}autoSelect(t){var e;this.readonly||r(this,Bn)||!this[We.enableAuto]||((e=this[We.enableAuto])==null||e.call(this,t),this[We.setAuto](!0,t))}getBySrc(t){return this.items.find(e=>e.src===t)}[We.setAuto](t,e){r(this,Bn)!==t&&(d(this,Bn,t),this.dispatchEvent(new ot("auto-change",{detail:t,trigger:e})))}}Bn=new WeakMap;function Hx(n){return n instanceof HTMLAudioElement}function Fx(n){return n instanceof HTMLVideoElement}function Bx(n){return Hx(n)||Fx(n)}class Mr extends He{}const Wx={togglePaused:"k Space",toggleMuted:"m",toggleFullscreen:"f",togglePictureInPicture:"i",toggleCaptions:"c",seekBackward:"j J ArrowLeft",seekForward:"l L ArrowRight",volumeUp:"ArrowUp",volumeDown:"ArrowDown",speedUp:">",slowDown:"<"},io=new Set(["Shift","Alt","Meta","Ctrl"]),Ux='button, [role="button"]',Up='input, textarea, select, [contenteditable], [role^="menuitem"], [role="timer"]';var Lt,Tt,Am,Pm,Lm,Mm,Dh,Wn,Om,Ks,Fc,qm;class Kx extends Mr{constructor(t){super();u(this,Tt);u(this,Lt);u(this,Wn);u(this,Ks,null);d(this,Lt,t)}onConnect(){y(o(this,Tt,Am).bind(this))}}Lt=new WeakMap,Tt=new WeakSet,Am=function(){const{keyDisabled:t,keyTarget:e}=this.$props;if(t())return;const i=e()==="player"?this.el:document,a=D(!1);i===this.el?new ht(this.el).add("focusin",()=>a.set(!0)).add("focusout",h=>{this.el.contains(h.target)||a.set(!1)}):(T(a)||a.set(document.querySelector("[data-media-player]")===this.el),qt(document,"focusin",h=>{const l=h.composedPath().find(c=>c instanceof Element&&c.localName==="media-player");l!==void 0&&a.set(this.el===l)})),y(()=>{a()&&new ht(i).add("keyup",o(this,Tt,Pm).bind(this)).add("keydown",o(this,Tt,Lm).bind(this)).add("keydown",o(this,Tt,Mm).bind(this),{capture:!0})})},Pm=function(t){var h,l;const e=document.activeElement;if(!t.key||!this.$state.canSeek()||e!=null&&e.matches(Up))return;let{method:i,value:a}=o(this,Tt,Dh).call(this,t);if(!V(a)&&!jt(a)){(h=a==null?void 0:a.onKeyUp)==null||h.call(a,{event:t,player:r(this,Lt).player,remote:r(this,Lt).remote}),(l=a==null?void 0:a.callback)==null||l.call(a,t,r(this,Lt).remote);return}if(i!=null&&i.startsWith("seek")&&(t.preventDefault(),t.stopPropagation(),r(this,Ks)?(o(this,Tt,Fc).call(this,t,i==="seekForward"),d(this,Ks,null)):(r(this,Lt).remote.seek(r(this,Wn),t),d(this,Wn,void 0))),i!=null&&i.startsWith("volume")){const c=this.el.querySelector("[data-media-volume-slider]");c==null||c.dispatchEvent(new KeyboardEvent("keyup",{key:i==="volumeUp"?"Up":"Down",shiftKey:t.shiftKey,trigger:t}))}},Lm=function(t){var l,c,p,f;if(!t.key||io.has(t.key))return;const e=document.activeElement;if(e!=null&&e.matches(Up)||Cf(t)&&(e!=null&&e.matches(Ux)))return;let{method:i,value:a}=o(this,Tt,Dh).call(this,t),h=!t.metaKey&&/^[0-9]$/.test(t.key);if(!V(a)&&!jt(a)&&!h){(l=a==null?void 0:a.onKeyDown)==null||l.call(a,{event:t,player:r(this,Lt).player,remote:r(this,Lt).remote}),(c=a==null?void 0:a.callback)==null||c.call(a,t,r(this,Lt).remote);return}if(!i&&h&&!Qx(t)){t.preventDefault(),t.stopPropagation(),r(this,Lt).remote.seek(this.$state.duration()/10*Number(t.key),t);return}if(i){switch(t.preventDefault(),t.stopPropagation(),i){case"seekForward":case"seekBackward":o(this,Tt,qm).call(this,t,i,i==="seekForward");break;case"volumeUp":case"volumeDown":const m=this.el.querySelector("[data-media-volume-slider]");if(m)m.dispatchEvent(new KeyboardEvent("keydown",{key:i==="volumeUp"?"Up":"Down",shiftKey:t.shiftKey,trigger:t}));else{const $=t.shiftKey?.1:.05;r(this,Lt).remote.changeVolume(this.$state.volume()+(i==="volumeUp"?+$:-$),t)}break;case"toggleFullscreen":r(this,Lt).remote.toggleFullscreen("prefer-media",t);break;case"speedUp":case"slowDown":const b=this.$state.playbackRate();r(this,Lt).remote.changePlaybackRate(Math.max(.25,Math.min(2,b+(i==="speedUp"?.25:-.25))),t);break;default:(f=(p=r(this,Lt).remote)[i])==null||f.call(p,t)}this.$state.lastKeyboardAction.set({action:i,event:t})}},Mm=function(t){Bx(t.target)&&o(this,Tt,Dh).call(this,t).method&&t.preventDefault()},Dh=function(t){const e={...this.$props.keyShortcuts(),...r(this,Lt).ariaKeys},i=Object.keys(e).find(a=>{var p;const h=e[a],l=jt(h)?h.join(" "):V(h)?h:h==null?void 0:h.keys,c=(p=jt(l)?l:l==null?void 0:l.split(" "))==null?void 0:p.map(f=>jx(f).replace(/Control/g,"Ctrl").split("+"));return c==null?void 0:c.some(f=>{const m=new Set(f.filter(b=>io.has(b)));for(const b of io){const $=b.toLowerCase()+"Key";if(!m.has(b)&&t[$])return!1}return f.every(b=>io.has(b)?t[b.toLowerCase()+"Key"]:t.key===b.replace("Space"," "))})});return{method:i,value:i?e[i]:null}},Wn=new WeakMap,Om=function(t,e){const i=t.shiftKey?10:5;return d(this,Wn,Math.max(0,Math.min((r(this,Wn)??this.$state.currentTime())+(e==="seekForward"?+i:-i),this.$state.duration())))},Ks=new WeakMap,Fc=function(t,e){var i;(i=r(this,Ks))==null||i.dispatchEvent(new KeyboardEvent(t.type,{key:e?"Right":"Left",shiftKey:t.shiftKey,trigger:t}))},qm=function(t,e,i){this.$state.canSeek()&&(r(this,Ks)||d(this,Ks,this.el.querySelector("[data-media-time-slider]")),r(this,Ks)?o(this,Tt,Fc).call(this,t,i):r(this,Lt).remote.seeking(o(this,Tt,Om).call(this,t,e),t))};const Gx=["!","@","#","$","%","^","&","*","(",")"];function jx(n){return n.replace(/Shift\+(\d)/g,(s,t)=>Gx[t-1])}function Qx(n){for(const s of io)if(n[s.toLowerCase()+"Key"])return!0;return!1}var Yr,Gs,Po,Xr,_i,Jr,X,Im,Rm,Vm,Dm,_m,Nm,Hm,Fm,_h,Bc,no,Wc;class zx extends Mr{constructor(){super(...arguments);u(this,X);u(this,Yr,-2);u(this,Gs,!1);u(this,Po,D(!1));u(this,Xr,D(!1));u(this,_i,null);u(this,Jr,D(!0));g(this,"defaultDelay",2e3)}get canIdle(){return r(this,Jr).call(this)}set canIdle(t){r(this,Jr).set(t)}get hideOnMouseLeave(){const{hideControlsOnMouseLeave:t}=this.$props;return r(this,Po).call(this)||t()}set hideOnMouseLeave(t){r(this,Po).set(t)}get showing(){return this.$state.controlsVisible()}show(t=0,e){o(this,X,_h).call(this),r(this,Gs)||o(this,X,no).call(this,!0,t,e)}hide(t=this.defaultDelay,e){o(this,X,_h).call(this),r(this,Gs)||o(this,X,no).call(this,!1,t,e)}pause(t){d(this,Gs,!0),o(this,X,_h).call(this),o(this,X,no).call(this,!0,0,t)}resume(t){d(this,Gs,!1),!this.$state.paused()&&o(this,X,no).call(this,!1,this.defaultDelay,t)}onConnect(){y(o(this,X,Im).bind(this))}}Yr=new WeakMap,Gs=new WeakMap,Po=new WeakMap,Xr=new WeakMap,_i=new WeakMap,Jr=new WeakMap,X=new WeakSet,Im=function(){const{viewType:t}=this.$state;if(!this.el||!r(this,Jr).call(this))return;if(t()==="audio"){this.show();return}y(o(this,X,Rm).bind(this)),y(o(this,X,Vm).bind(this));const e=o(this,X,Dm).bind(this),i=o(this,X,_m).bind(this),a=o(this,X,Nm).bind(this);new ht(this.el).add("can-play",h=>this.show(0,h)).add("play",e).add("pause",i).add("end",a).add("auto-play-fail",i)},Rm=function(){if(!this.el)return;const{started:t,pointer:e,paused:i}=this.$state;if(!t()||e()!=="fine")return;const a=new ht(this.el),h=this.hideOnMouseLeave;(!h||!r(this,Xr).call(this))&&y(()=>{i()||a.add("pointermove",o(this,X,Bc).bind(this))}),h&&a.add("mouseenter",o(this,X,Hm).bind(this)).add("mouseleave",o(this,X,Fm).bind(this))},Vm=function(){const{paused:t,started:e,autoPlayError:i}=this.$state;if(t()||i()&&!e())return;const a=o(this,X,Bc).bind(this);y(()=>{if(!this.el)return;const h=this.$state.pointer(),l=h==="coarse",c=new ht(this.el),p=[l?"touchend":"pointerup","keydown"];for(const f of p)c.add(f,a,{passive:!1})})},Dm=function(t){t.triggers.hasType("ended")||(this.show(0,t),this.hide(void 0,t))},_m=function(t){this.show(0,t)},Nm=function(t){const{loop:e}=this.$state;e()&&this.hide(0,t)},Hm=function(t){r(this,Xr).set(!1),this.show(0,t),this.hide(void 0,t)},Fm=function(t){r(this,Xr).set(!0),this.hide(0,t)},_h=function(){window.clearTimeout(r(this,Yr)),d(this,Yr,-1)},Bc=function(t){var e;t.MEDIA_GESTURE||r(this,Gs)||Zd(t)||(Jl(t)&&(t.key==="Escape"?((e=this.el)==null||e.focus(),d(this,_i,null)):r(this,_i)&&(t.preventDefault(),requestAnimationFrame(()=>{var i;(i=r(this,_i))==null||i.focus(),d(this,_i,null)}))),this.show(0,t),this.hide(this.defaultDelay,t))},no=function(t,e,i){if(e===0){o(this,X,Wc).call(this,t,i);return}d(this,Yr,window.setTimeout(()=>{this.scope&&o(this,X,Wc).call(this,t&&!r(this,Gs),i)},e))},Wc=function(t,e){var i;this.$state.controlsVisible()!==t&&(this.$state.controlsVisible.set(t),!t&&document.activeElement&&((i=this.el)!=null&&i.contains(document.activeElement))&&(d(this,_i,document.activeElement),requestAnimationFrame(()=>{var a;(a=this.el)==null||a.focus({preventScroll:!0})})),this.dispatch("controls-change",{detail:t,trigger:e}))};class Yx{constructor(){g(this,"name","audio");g(this,"target")}canPlay(s){return Ff(s)?!V(s.src)||s.type==="?"||o0(this.target,s.type):!1}mediaType(){return"audio"}async load(s){return new(await fe(async()=>{const{AudioProvider:t}=await import("./vidstack-audio-DrEIoyzG.js");return{AudioProvider:t}},__vite__mapDeps([0,1,2]))).AudioProvider(this.target,s)}}class sp{constructor(){g(this,"name","video");g(this,"target")}canPlay(s){return Bf(s)?!V(s.src)||s.type==="?"||h0(this.target,s.type):!1}mediaType(){return"video"}async load(s){return new(await fe(async()=>{const{VideoProvider:t}=await import("./vidstack-video-CirBhRgq.js");return{VideoProvider:t}},__vite__mapDeps([3,1,2]))).VideoProvider(this.target,s)}}const Sl=class Sl extends sp{constructor(){super(...arguments);g(this,"name","hls")}canPlay(t){return Sl.supported&&gh(t)}async load(t){return new(await fe(async()=>{const{HLSProvider:e}=await import("./vidstack-hls-DLMCvkx9.js");return{HLSProvider:e}},__vite__mapDeps([4,3,1,2]))).HLSProvider(this.target,t)}};g(Sl,"supported",Gd());let Uc=Sl;const xl=class xl extends sp{constructor(){super(...arguments);g(this,"name","dash")}canPlay(t){return xl.supported&&jd(t)}async load(t){return new(await fe(async()=>{const{DASHProvider:e}=await import("./vidstack-dash-D0o9dEoW.js");return{DASHProvider:e}},__vite__mapDeps([5,3,1,2]))).DASHProvider(this.target,t)}};g(xl,"supported",p0());let Kc=xl;class Xx{constructor(){g(this,"name","vimeo");g(this,"target")}preconnect(){const s=["https://i.vimeocdn.com","https://f.vimeocdn.com","https://fresnel.vimeocdn.com"];for(const t of s)yh(t)}canPlay(s){return V(s.src)&&s.type==="video/vimeo"}mediaType(){return"video"}async load(s){return new(await fe(async()=>{const{VimeoProvider:t}=await import("./vidstack-vimeo-B0WLTXFM.js");return{VimeoProvider:t}},__vite__mapDeps([6,2,7,8]))).VimeoProvider(this.target,s)}async loadPoster(s,t,e){const{resolveVimeoVideoId:i,getVimeoVideoInfo:a}=await fe(async()=>{const{resolveVimeoVideoId:c,getVimeoVideoInfo:p}=await import("./vidstack-krOAtKMi-C3UUF7YD.js");return{resolveVimeoVideoId:c,getVimeoVideoInfo:p}},[]);if(!V(s.src))return null;const{videoId:h,hash:l}=i(s.src);return h?a(h,e,l).then(c=>c?c.poster:null):null}}class Jx{constructor(){g(this,"name","youtube");g(this,"target")}preconnect(){const s=["https://www.google.com","https://i.ytimg.com","https://googleads.g.doubleclick.net","https://static.doubleclick.net"];for(const t of s)yh(t)}canPlay(s){return V(s.src)&&s.type==="video/youtube"}mediaType(){return"video"}async load(s){return new(await fe(async()=>{const{YouTubeProvider:t}=await import("./vidstack-youtube-B0BGS2Ge.js");return{YouTubeProvider:t}},__vite__mapDeps([9,7,10]))).YouTubeProvider(this.target,s)}async loadPoster(s,t,e){const{findYouTubePoster:i,resolveYouTubeVideoId:a}=await fe(async()=>{const{findYouTubePoster:l,resolveYouTubeVideoId:c}=await import("./vidstack-Dm1xEU9Q-qchDHvRd.js");return{findYouTubePoster:l,resolveYouTubeVideoId:c}},[]),h=V(s.src)&&a(s.src);return h?i(h,e):null}}const fc=Symbol(0),Zx=["autoPlay","canAirPlay","canFullscreen","canGoogleCast","canLoad","canLoadPoster","canPictureInPicture","canPlay","canSeek","ended","fullscreen","isAirPlayConnected","isGoogleCastConnected","live","liveEdge","loop","mediaType","muted","paused","pictureInPicture","playing","playsInline","remotePlaybackState","remotePlaybackType","seeking","started","streamType","viewType","waiting"],tk={artist:"",artwork:null,autoplay:!1,autoPlay:!1,clipStartTime:0,clipEndTime:0,controls:!1,currentTime:0,crossorigin:null,crossOrigin:null,duration:-1,fullscreenOrientation:"landscape",googleCast:{},load:"visible",posterLoad:"visible",logLevel:"silent",loop:!1,muted:!1,paused:!0,playsinline:!1,playsInline:!1,playbackRate:1,poster:"",preload:"metadata",preferNativeHLS:!1,src:"",title:"",controlsDelay:2e3,hideControlsOnMouseLeave:!1,viewType:"unknown",streamType:"unknown",volume:1,liveEdgeTolerance:10,minLiveDVRWindow:60,keyDisabled:!1,keyTarget:"player",keyShortcuts:Wx,storage:null};var Lo,Un;class Kp extends Mr{constructor(t,e){super();u(this,Lo);u(this,Un);d(this,Lo,t),d(this,Un,e)}async onAttach(t){const e=this.$props[r(this,Lo)]();if(e==="eager")requestAnimationFrame(r(this,Un));else if(e==="idle")FS(r(this,Un));else if(e==="visible"){let i,a=new IntersectionObserver(h=>{this.scope&&h[0].isIntersecting&&(i==null||i(),i=void 0,r(this,Un).call(this))});a.observe(t),i=B(()=>a.disconnect())}}}Lo=new WeakMap,Un=new WeakMap;var Mo,Ue,kl,Bm;class ek{constructor(s,t){u(this,kl);u(this,Mo);u(this,Ue);d(this,Mo,s),d(this,Ue,t)}notify(s,...t){r(this,Mo).call(this,new ot(s,{detail:t==null?void 0:t[0],trigger:t==null?void 0:t[1]}))}async ready(s,t){return fo(async()=>{var ki,Dt,bt,Be,Kt,K,Gt;const{logger:e}=r(this,Ue),{autoPlay:i,canPlay:a,started:h,duration:l,seekable:c,buffered:p,remotePlaybackInfo:f,playsInline:m,savedState:b,source:$}=r(this,Ue).$state;if(a())return;const v={duration:(s==null?void 0:s.duration)??l(),seekable:(s==null?void 0:s.seekable)??c(),buffered:(s==null?void 0:s.buffered)??p(),provider:r(this,Ue).$provider()};this.notify("can-play",v,t),fi();let S=r(this,Ue).$provider(),{storage:k,qualities:q}=r(this,Ue),{muted:F,volume:st,clipStartTime:yt,playbackRate:lt}=r(this,Ue).$props;await((ki=k==null?void 0:k.onLoad)==null?void 0:ki.call(k,$()));const Ce=(Dt=b())==null?void 0:Dt.currentTime,xi=(bt=b())==null?void 0:bt.paused,Ae=await(k==null?void 0:k.getTime()),os=Ce??Ae??yt(),hs=xi===!1||xi!==!0&&!h()&&i();if(S){S.setVolume(await(k==null?void 0:k.getVolume())??st()),S.setMuted(F()||!!await(k==null?void 0:k.getMuted()));const xt=await(k==null?void 0:k.getAudioGain())??1;xt>1&&((Kt=(Be=S.audioGain)==null?void 0:Be.setGain)==null||Kt.call(Be,xt)),(K=S.setPlaybackRate)==null||K.call(S,await(k==null?void 0:k.getPlaybackRate())??lt()),(Gt=S.setPlaysInline)==null||Gt.call(S,m()),os>0&&S.setCurrentTime(os)}const Fe=await(k==null?void 0:k.getVideoQuality());if(Fe&&q.length){let xt=null,Ds=1/0;for(const Ei of q){const Rr=Math.abs(Fe.width-Ei.width)+Math.abs(Fe.height-Ei.height)+(Fe.bitrate?Math.abs(Fe.bitrate-(Ei.bitrate??0)):0);Rr<Ds&&(xt=Ei,Ds=Rr)}xt&&(xt.selected=!0)}a()&&hs?await o(this,kl,Bm).call(this,t):Ae&&Ae>0&&this.notify("started",void 0,t),f.set(null)})}}Mo=new WeakMap,Ue=new WeakMap,kl=new WeakSet,Bm=async function(s){const{player:t,$state:{autoPlaying:e,muted:i}}=r(this,Ue);e.set(!0);const a=new ot("auto-play-attempt",{trigger:s});try{await t.play(a)}catch{}};var Ni;class sk{constructor(){u(this,Ni,new Map)}enqueue(s,t){r(this,Ni).set(s,t)}serve(s){const t=this.peek(s);return r(this,Ni).delete(s),t}peek(s){return r(this,Ni).get(s)}delete(s){r(this,Ni).delete(s)}clear(){r(this,Ni).clear()}}Ni=new WeakMap;var Hi,Zr,Ke,$n,Gc,jc;class Wm{constructor(){u(this,$n);u(this,Hi,!1);u(this,Zr,Tc());u(this,Ke,new Map)}get size(){return r(this,Ke).size}get isServing(){return r(this,Hi)}async waitForFlush(){r(this,Hi)||await r(this,Zr).promise}enqueue(s,t){if(r(this,Hi)){t();return}r(this,Ke).delete(s),r(this,Ke).set(s,t)}serve(s){var t;(t=r(this,Ke).get(s))==null||t(),r(this,Ke).delete(s)}start(){o(this,$n,Gc).call(this),d(this,Hi,!0),r(this,Ke).size>0&&o(this,$n,Gc).call(this)}stop(){d(this,Hi,!1)}reset(){this.stop(),r(this,Ke).clear(),o(this,$n,jc).call(this)}}Hi=new WeakMap,Zr=new WeakMap,Ke=new WeakMap,$n=new WeakSet,Gc=function(){for(const s of r(this,Ke).keys())this.serve(s);o(this,$n,jc).call(this)},jc=function(){r(this,Zr).resolve(),d(this,Zr,Tc())};var js,R,Qs,Kn,zs,ct,Fi,W,Um,Km,Gm,Qc,ta,zc,Yc,jm,Qm,zm,Ym,Xm,Jm,Gn,Zm,Xc,Jc,nk;class ik extends Mr{constructor(t,e,i){super();u(this,W);u(this,js);u(this,R);u(this,Qs);g(this,"controls");u(this,Kn);u(this,zs);u(this,ct);u(this,Fi,new Wm);u(this,ta,!1);u(this,Gn);d(this,js,t),d(this,R,e),d(this,Qs,i),d(this,ct,i.$provider),this.controls=new zx,d(this,Kn,new Lx),d(this,zs,new pl)}onAttach(){this.listen("fullscreen-change",o(this,W,Zm).bind(this))}onConnect(t){const e=Object.getOwnPropertyNames(Object.getPrototypeOf(this)),i=new ht(t),a=o(this,W,Gm).bind(this);for(const h of e)h.startsWith("media-")&&i.add(h,a);o(this,W,Um).call(this),y(o(this,W,Km).bind(this)),y(o(this,W,jm).bind(this)),y(o(this,W,Qm).bind(this)),y(o(this,W,zm).bind(this)),y(o(this,W,Ym).bind(this)),y(o(this,W,Xm).bind(this)),y(o(this,W,Jm).bind(this))}onDestroy(){try{const t=this.createEvent("destroy"),{pictureInPicture:e,fullscreen:i}=this.$state;i()&&this.exitFullscreen("prefer-media",t),e()&&this.exitPictureInPicture(t)}catch{}r(this,Fi).reset()}async play(t){const{canPlay:e,paused:i,autoPlaying:a}=this.$state;if(o(this,W,Qc).call(this,t)||!T(i))return;t&&r(this,R).queue.enqueue("media-play-request",t);const h=T(a);try{const l=T(r(this,ct));return mc(l,T(e)),rk(h),await l.play()}catch(l){const c=this.createEvent("play-fail",{detail:uc(l),trigger:t});throw c.autoPlay=h,r(this,js).handle(c),l}}async pause(t){const{canPlay:e,paused:i}=this.$state;if(!T(i)){t&&r(this,R).queue.enqueue("media-pause-request",t);try{const a=T(r(this,ct));return mc(a,T(e)),await a.pause()}catch(a){throw r(this,R).queue.delete("media-pause-request"),a}}}setAudioGain(t,e){const{audioGain:i,canSetAudioGain:a}=this.$state;if(i()===t)return;const h=r(this,ct).call(this);if(!(h!=null&&h.audioGain)||!a())throw Error("[vidstack] audio gain api not available");e&&r(this,R).queue.enqueue("media-audio-gain-change-request",e),h.audioGain.setGain(t)}seekToLiveEdge(t){const{canPlay:e,live:i,liveEdge:a,canSeek:h,liveSyncPosition:l,seekableEnd:c,userBehindLiveEdge:p}=this.$state;if(p.set(!1),T(()=>!i()||a()||!h()))return;const f=T(r(this,ct));mc(f,T(e)),t&&r(this,R).queue.enqueue("media-seek-request",t);const m=c()-2;f.setCurrentTime(Math.min(m,l()??m))}async enterFullscreen(t="prefer-media",e){const i=o(this,W,zc).call(this,t);if(Gp(t,i),!i.active)return T(this.$state.pictureInPicture)&&(d(this,ta,!0),await this.exitPictureInPicture(e)),e&&r(this,R).queue.enqueue("media-enter-fullscreen-request",e),i.enter()}async exitFullscreen(t="prefer-media",e){const i=o(this,W,zc).call(this,t);if(Gp(t,i),!!i.active){e&&r(this,R).queue.enqueue("media-exit-fullscreen-request",e);try{const a=await i.exit();return r(this,ta)&&T(this.$state.canPictureInPicture)&&await this.enterPictureInPicture(),a}finally{d(this,ta,!1)}}}async enterPictureInPicture(t){if(o(this,W,Yc).call(this),!this.$state.pictureInPicture())return t&&r(this,R).queue.enqueue("media-enter-pip-request",t),await r(this,ct).call(this).pictureInPicture.enter()}async exitPictureInPicture(t){if(o(this,W,Yc).call(this),!!this.$state.pictureInPicture())return t&&r(this,R).queue.enqueue("media-exit-pip-request",t),await r(this,ct).call(this).pictureInPicture.exit()}async"media-airplay-request"(t){try{await this.requestAirPlay(t)}catch{}}async requestAirPlay(t){var e;try{const i=(e=r(this,ct).call(this))==null?void 0:e.airPlay;if(!(i!=null&&i.supported))throw Error("No AirPlay adapter.");return t&&r(this,R).queue.enqueue("media-airplay-request",t),await i.prompt()}catch(i){throw r(this,R).queue.delete("media-airplay-request"),i}}async"media-google-cast-request"(t){try{await this.requestGoogleCast(t)}catch{}}async requestGoogleCast(t){try{const{canGoogleCast:e}=this.$state;if(!T(e)){const a=Error("Cast not available.");throw a.code="CAST_NOT_AVAILABLE",a}if(yh("https://www.gstatic.com"),!r(this,Gn)){const a=await fe(()=>import("./vidstack-D2pY00kU-CC2sieVb.js").then(h=>h.v),[]);d(this,Gn,new a.GoogleCastLoader)}await r(this,Gn).prompt(r(this,Qs)),t&&r(this,R).queue.enqueue("media-google-cast-request",t);const i=T(this.$state.remotePlaybackState)!=="disconnected";i&&this.$state.savedState.set({paused:T(this.$state.paused),currentTime:T(this.$state.currentTime)}),this.$state.remotePlaybackLoader.set(i?r(this,Gn):null)}catch(e){throw r(this,R).queue.delete("media-google-cast-request"),e}}"media-clip-start-change-request"(t){const{clipStartTime:e}=this.$state;e.set(t.detail)}"media-clip-end-change-request"(t){const{clipEndTime:e}=this.$state;e.set(t.detail),this.dispatch("duration-change",{detail:t.detail,trigger:t})}"media-duration-change-request"(t){const{providedDuration:e,clipEndTime:i}=this.$state;e.set(t.detail),i()<=0&&this.dispatch("duration-change",{detail:t.detail,trigger:t})}"media-audio-track-change-request"(t){const{logger:e,audioTracks:i}=r(this,Qs);if(i.readonly)return;const a=t.detail,h=i[a];if(h){const l=t.type;r(this,R).queue.enqueue(l,t),h.selected=!0}}async"media-enter-fullscreen-request"(t){try{await this.enterFullscreen(t.detail,t)}catch(e){o(this,W,Xc).call(this,e,t)}}async"media-exit-fullscreen-request"(t){try{await this.exitFullscreen(t.detail,t)}catch(e){o(this,W,Xc).call(this,e,t)}}async"media-orientation-lock-request"(t){const e=t.type;try{r(this,R).queue.enqueue(e,t),await r(this,zs).lock(t.detail)}catch{r(this,R).queue.delete(e)}}async"media-orientation-unlock-request"(t){const e=t.type;try{r(this,R).queue.enqueue(e,t),await r(this,zs).unlock()}catch{r(this,R).queue.delete(e)}}async"media-enter-pip-request"(t){try{await this.enterPictureInPicture(t)}catch(e){o(this,W,Jc).call(this,e,t)}}async"media-exit-pip-request"(t){try{await this.exitPictureInPicture(t)}catch(e){o(this,W,Jc).call(this,e,t)}}"media-live-edge-request"(t){const{live:e,liveEdge:i,canSeek:a}=this.$state;if(!(!e()||i()||!a())){r(this,R).queue.enqueue("media-seek-request",t);try{this.seekToLiveEdge()}catch{r(this,R).queue.delete("media-seek-request")}}}async"media-loop-request"(t){try{r(this,R).looping=!0,r(this,R).replaying=!0,await this.play(t)}catch{r(this,R).looping=!1}}"media-user-loop-change-request"(t){this.$state.userPrefersLoop.set(t.detail)}async"media-pause-request"(t){if(!this.$state.paused())try{await this.pause(t)}catch{}}async"media-play-request"(t){if(this.$state.paused())try{await this.play(t)}catch{}}"media-rate-change-request"(t){const{playbackRate:e,canSetPlaybackRate:i}=this.$state;if(e()===t.detail||!i())return;const a=r(this,ct).call(this);a!=null&&a.setPlaybackRate&&(r(this,R).queue.enqueue("media-rate-change-request",t),a.setPlaybackRate(t.detail))}"media-audio-gain-change-request"(t){try{this.setAudioGain(t.detail,t)}catch{}}"media-quality-change-request"(t){var l,c;const{qualities:e,storage:i,logger:a}=r(this,Qs);if(e.readonly)return;r(this,R).queue.enqueue("media-quality-change-request",t);const h=t.detail;if(h<0)e.autoSelect(t),t.isOriginTrusted&&((l=i==null?void 0:i.setVideoQuality)==null||l.call(i,null));else{const p=e[h];p&&(p.selected=!0,t.isOriginTrusted&&((c=i==null?void 0:i.setVideoQuality)==null||c.call(i,{id:p.id,width:p.width,height:p.height,bitrate:p.bitrate})))}}"media-pause-controls-request"(t){const e=t.type;r(this,R).queue.enqueue(e,t),this.controls.pause(t)}"media-resume-controls-request"(t){const e=t.type;r(this,R).queue.enqueue(e,t),this.controls.resume(t)}"media-seek-request"(t){const{canSeek:e,ended:i,live:a,seekableEnd:h,userBehindLiveEdge:l}=this.$state,c=t.detail;i()&&(r(this,R).replaying=!0);const p=t.type;r(this,R).seeking=!1,r(this,R).queue.delete(p);const f=bm(c,this.$state);!Number.isFinite(f)||!e()||(r(this,R).queue.enqueue(p,t),r(this,ct).call(this).setCurrentTime(f),a()&&t.isOriginTrusted&&Math.abs(h()-f)>=2&&l.set(!0))}"media-seeking-request"(t){const e=t.type;r(this,R).queue.enqueue(e,t),this.$state.seeking.set(!0),r(this,R).seeking=!0}"media-start-loading"(t){if(this.$state.canLoad())return;const e=t.type;r(this,R).queue.enqueue(e,t),r(this,js).handle(this.createEvent("can-load"))}"media-poster-start-loading"(t){if(this.$state.canLoadPoster())return;const e=t.type;r(this,R).queue.enqueue(e,t),r(this,js).handle(this.createEvent("can-load-poster"))}"media-text-track-change-request"(t){const{index:e,mode:i}=t.detail,a=r(this,Qs).textTracks[e];if(a){const h=t.type;r(this,R).queue.enqueue(h,t),a.setMode(i,t)}}"media-mute-request"(t){if(this.$state.muted())return;const e=t.type;r(this,R).queue.enqueue(e,t),r(this,ct).call(this).setMuted(!0)}"media-unmute-request"(t){const{muted:e,volume:i}=this.$state;if(!e())return;const a=t.type;r(this,R).queue.enqueue(a,t),r(this,Qs).$provider().setMuted(!1),i()===0&&(r(this,R).queue.enqueue(a,t),r(this,ct).call(this).setVolume(.25))}"media-volume-change-request"(t){const{muted:e,volume:i}=this.$state,a=t.detail;if(i()===a)return;const h=t.type;r(this,R).queue.enqueue(h,t),r(this,ct).call(this).setVolume(a),a>0&&e()&&(r(this,R).queue.enqueue(h,t),r(this,ct).call(this).setMuted(!1))}}js=new WeakMap,R=new WeakMap,Qs=new WeakMap,Kn=new WeakMap,zs=new WeakMap,ct=new WeakMap,Fi=new WeakMap,W=new WeakSet,Um=function(){const{load:t}=this.$props,{canLoad:e}=this.$state;if(t()!=="play"||e())return;const i=this.listen("media-play-request",a=>{o(this,W,Qc).call(this,a),i()})},Km=function(){const t=r(this,ct).call(this),e=this.$state.canPlay();return t&&e&&r(this,Fi).start(),()=>{r(this,Fi).stop()}},Gm=function(t){t.stopPropagation(),!t.defaultPrevented&&this[t.type]&&(T(r(this,ct))?this[t.type](t):r(this,Fi).enqueue(t.type,()=>{T(r(this,ct))&&this[t.type](t)}))},Qc=function(t){const{load:e}=this.$props,{canLoad:i}=this.$state;if(e()==="play"&&!i()){const a=this.createEvent("media-start-loading",{trigger:t});return this.dispatchEvent(a),r(this,Fi).enqueue("media-play-request",async()=>{try{await this.play(a)}catch{}}),!0}return!1},ta=new WeakMap,zc=function(t){const e=T(r(this,ct));return t==="prefer-media"&&r(this,Kn).supported||t==="media"?r(this,Kn):e==null?void 0:e.fullscreen},Yc=function(){if(!this.$state.canPictureInPicture())throw Error("[vidstack] no pip support")},jm=function(){this.controls.defaultDelay=this.$props.controlsDelay()},Qm=function(){var i,a;const{canSetAudioGain:t}=this.$state,e=!!((a=(i=r(this,ct).call(this))==null?void 0:i.audioGain)!=null&&a.supported);t.set(e)},zm=function(){var i,a;const{canAirPlay:t}=this.$state,e=!!((a=(i=r(this,ct).call(this))==null?void 0:i.airPlay)!=null&&a.supported);t.set(e)},Ym=function(){const{canGoogleCast:t,source:e}=this.$state,i=r0&&!_f&&T0(e());t.set(i)},Xm=function(){var i,a;const{canFullscreen:t}=this.$state,e=r(this,Kn).supported||!!((a=(i=r(this,ct).call(this))==null?void 0:i.fullscreen)!=null&&a.supported);t.set(e)},Jm=function(){var i,a;const{canPictureInPicture:t}=this.$state,e=!!((a=(i=r(this,ct).call(this))==null?void 0:i.pictureInPicture)!=null&&a.supported);t.set(e)},Gn=new WeakMap,Zm=async function(t){const e=T(this.$props.fullscreenOrientation),i=t.detail;if(!(es(e)||e==="none"||!r(this,zs).supported))if(i){if(r(this,zs).locked)return;this.dispatch("media-orientation-lock-request",{detail:e,trigger:t})}else r(this,zs).locked&&this.dispatch("media-orientation-unlock-request",{trigger:t})},Xc=function(t,e){r(this,js).handle(this.createEvent("fullscreen-error",{detail:uc(t)}))},Jc=function(t,e){r(this,js).handle(this.createEvent("picture-in-picture-error",{detail:uc(t)}))},nk=function(t,e,i){};function mc(n,s){if(!(n&&s))throw Error("[vidstack] media not ready")}function Gp(n,s){if(!(s!=null&&s.supported))throw Error("[vidstack] no fullscreen support")}function rk(n){if(!(!Ax()||!n))throw Error("[vidstack] autoplay blocked")}class ak{constructor(){g(this,"seeking",!1);g(this,"looping",!1);g(this,"replaying",!1);g(this,"queue",new sk)}}const ok=new Set(["auto-play","auto-play-fail","can-load","sources-change","source-change","load-start","abort","error","loaded-metadata","loaded-data","can-play","play","play-fail","pause","playing","seeking","seeked","waiting"]);var Jt,Q,it,jn,ea,Qn,zn,Ys,Bi,w,tg,eg,Li,mt,sg,ig,ng,Nh,Zc,tu,rg,eu,ag,og,sa,su,Hh,hg,lg,cg,iu,nu,ru,ug,au,dg,ia,pg,ou;class hk extends Mr{constructor(t,e){super();u(this,w);u(this,Jt);u(this,Q);u(this,it,new Map);u(this,jn,!1);u(this,ea,[]);u(this,Qn,[-1,-1]);u(this,zn,!1);u(this,Ys);u(this,Bi,!1);u(this,sa,null);g(this,"seeking",Lr(t=>{const{seeking:e,realCurrentTime:i,paused:a}=this.$state;e.set(!0),i.set(t.detail),o(this,w,mt).call(this,"media-seeking-request",t),a()&&(d(this,Ys,t),r(this,ia).call(this)),d(this,Qn,[-1,-1])},150,{leading:!0}));u(this,ia,Kd(()=>{if(!r(this,Ys))return;d(this,zn,!0);const{waiting:t,playing:e}=this.$state;t.set(!0),e.set(!1);const i=this.createEvent("waiting",{trigger:r(this,Ys)});r(this,it).set("waiting",i),this.dispatch(i),d(this,Ys,void 0),d(this,zn,!1)},300));d(this,Jt,t),d(this,Q,e)}onAttach(t){t.setAttribute("aria-busy","true"),new ht(this).add("fullscreen-change",this["fullscreen-change"].bind(this)).add("fullscreen-error",this["fullscreen-error"].bind(this)).add("orientation-change",this["orientation-change"].bind(this))}onConnect(t){y(o(this,w,lg).bind(this)),o(this,w,sg).call(this),o(this,w,ig).call(this),o(this,w,ng).call(this),o(this,w,tg).call(this),B(o(this,w,eg).bind(this))}onDestroy(){const{audioTracks:t,qualities:e,textTracks:i}=r(this,Q);t[J.reset](),e[J.reset](),i[J.reset](),o(this,w,Hh).call(this)}handle(t){if(!this.scope)return;const e=t.type;fo(()=>{var i;return(i=this[t.type])==null?void 0:i.call(this,t)}),ok.has(e)&&r(this,it).set(e,t),this.dispatch(t)}"provider-change"(t){var a,h;const e=r(this,Q).$provider(),i=t.detail;(e==null?void 0:e.type)!==(i==null?void 0:i.type)&&((a=e==null?void 0:e.destroy)==null||a.call(e),(h=e==null?void 0:e.scope)==null||h.dispose(),r(this,Q).$provider.set(t.detail),e&&t.detail===null&&o(this,w,iu).call(this,t))}"provider-loader-change"(t){}"auto-play"(t){this.$state.autoPlayError.set(null)}"auto-play-fail"(t){this.$state.autoPlayError.set(t.detail),o(this,w,Li).call(this)}"can-load"(t){this.$state.canLoad.set(!0),r(this,it).set("can-load",t),r(this,Q).textTracks[U.canLoad](),o(this,w,mt).call(this,"media-start-loading",t)}"can-load-poster"(t){this.$state.canLoadPoster.set(!0),r(this,it).set("can-load-poster",t),o(this,w,mt).call(this,"media-poster-start-loading",t)}"media-type-change"(t){const e=r(this,it).get("source-change");e&&t.triggers.add(e);const i=this.$state.viewType();this.$state.mediaType.set(t.detail);const a=this.$state.providedViewType(),h=a==="unknown"?t.detail:a;i!==h&&setTimeout(()=>{requestAnimationFrame(()=>{this.scope&&(this.$state.inferredViewType.set(t.detail),this.dispatch("view-type-change",{detail:h,trigger:t}))})},0)}"stream-type-change"(t){const e=r(this,it).get("source-change");e&&t.triggers.add(e);const{streamType:i,inferredStreamType:a}=this.$state;a.set(t.detail),t.detail=i()}"rate-change"(t){var a;const{storage:e}=r(this,Q),{canPlay:i}=this.$state;this.$state.playbackRate.set(t.detail),o(this,w,mt).call(this,"media-rate-change-request",t),i()&&((a=e==null?void 0:e.setPlaybackRate)==null||a.call(e,t.detail))}"remote-playback-change"(t){const{remotePlaybackState:e,remotePlaybackType:i}=this.$state,{type:a,state:h}=t.detail,l=h==="connected";i.set(a),e.set(h);const c=a==="airplay"?"media-airplay-request":"media-google-cast-request";if(l)o(this,w,mt).call(this,c,t);else{const p=r(this,Jt).queue.peek(c);p&&(t.request=p,t.triggers.add(p))}}"sources-change"(t){const e=this.$state.sources(),i=t.detail;this.$state.sources.set(i),o(this,w,cg).call(this,e,i,t)}"source-change"(t){var i,a;t.isQualityChange=((i=t.originEvent)==null?void 0:i.type)==="quality-change";const e=t.detail;o(this,w,iu).call(this,t,t.isQualityChange),r(this,it).set(t.type,t),this.$state.source.set(e),(a=this.el)==null||a.setAttribute("aria-busy","true")}abort(t){const e=r(this,it).get("source-change");e&&t.triggers.add(e);const i=r(this,it).get("can-load");i&&!t.triggers.hasType("can-load")&&t.triggers.add(i)}"load-start"(t){const e=r(this,it).get("source-change");e&&t.triggers.add(e)}error(t){this.$state.error.set(t.detail);const e=r(this,it).get("abort");e&&t.triggers.add(e)}"loaded-metadata"(t){const e=r(this,it).get("load-start");e&&t.triggers.add(e)}"loaded-data"(t){const e=r(this,it).get("load-start");e&&t.triggers.add(e)}"can-play"(t){var i;const e=r(this,it).get("loaded-metadata");e&&t.triggers.add(e),o(this,w,nu).call(this,t.detail),(i=this.el)==null||i.setAttribute("aria-busy","false")}"can-play-through"(t){o(this,w,nu).call(this,t.detail);const e=r(this,it).get("can-play");e&&t.triggers.add(e)}"duration-change"(t){const{live:e,intrinsicDuration:i,providedDuration:a,clipEndTime:h,ended:l}=this.$state,c=t.detail;if(!e()){const p=Number.isNaN(c)?0:c;i.set(p),l()&&o(this,w,au).call(this,t)}(a()>0||h()>0)&&t.stopImmediatePropagation()}progress(t){const{buffered:e,seekable:i}=this.$state,{buffered:a,seekable:h}=t.detail,l=Pn(a),c=a.length!==e().length,p=l!==Pn(e()),f=Pn(h),m=h.length!==i().length,b=f!==Pn(i());(c||p)&&e.set(a),(m||b)&&i.set(h)}play(t){const{paused:e,autoPlayError:i,ended:a,autoPlaying:h,playsInline:l,pointer:c,muted:p,viewType:f,live:m,userBehindLiveEdge:b}=this.$state;if(o(this,w,ru).call(this),!e()){t.stopImmediatePropagation();return}t.autoPlay=h();const $=r(this,it).get("waiting");$&&t.triggers.add($),o(this,w,mt).call(this,"media-play-request",t),r(this,it).set("play",t),e.set(!1),i.set(null),t.autoPlay&&(this.handle(this.createEvent("auto-play",{detail:{muted:p()},trigger:t})),h.set(!1)),(a()||r(this,Jt).replaying)&&(r(this,Jt).replaying=!1,a.set(!1),this.handle(this.createEvent("replay",{trigger:t}))),!l()&&f()==="video"&&c()==="coarse"&&r(this,Q).remote.enterFullscreen("prefer-media",t),m()&&!b()&&r(this,Q).remote.seekToLiveEdge(t)}"play-fail"(t){const{muted:e,autoPlaying:i}=this.$state,a=r(this,it).get("play");a&&t.triggers.add(a),o(this,w,mt).call(this,"media-play-request",t);const{paused:h,playing:l}=this.$state;h.set(!0),l.set(!1),o(this,w,Li).call(this),r(this,it).set("play-fail",t),t.autoPlay&&(this.handle(this.createEvent("auto-play-fail",{detail:{muted:e(),error:t.detail},trigger:t})),i.set(!1))}playing(t){const e=r(this,it).get("play"),i=r(this,it).get("seeked");e?t.triggers.add(e):i&&t.triggers.add(i),setTimeout(()=>o(this,w,Li).call(this),0);const{paused:a,playing:h,live:l,liveSyncPosition:c,seekableEnd:p,started:f,currentTime:m,seeking:b,ended:$}=this.$state;if(a.set(!1),h.set(!0),b.set(!1),$.set(!1),r(this,Jt).looping){r(this,Jt).looping=!1;return}if(l()&&!f()&&m()===0){const v=c()??p()-2;Number.isFinite(v)&&r(this,Q).$provider().setCurrentTime(v)}this.started(t)}started(t){const{started:e}=this.$state;e()||(e.set(!0),this.handle(this.createEvent("started",{trigger:t})))}pause(t){var h;(h=this.el)!=null&&h.isConnected||d(this,Bi,!0),o(this,w,mt).call(this,"media-pause-request",t);const e=r(this,it).get("seeked");e&&t.triggers.add(e);const{paused:i,playing:a}=this.$state;i.set(!0),a.set(!1),r(this,jn)&&setTimeout(()=>{this.handle(this.createEvent("end",{trigger:t})),d(this,jn,!1)},0),o(this,w,Li).call(this)}"time-change"(t){if(r(this,Jt).looping){t.stopImmediatePropagation();return}let{waiting:e,played:i,clipEndTime:a,realCurrentTime:h,currentTime:l}=this.$state,c=t.detail,p=a();h.set(c),o(this,w,ug).call(this),e.set(!1);for(const f of r(this,Q).textTracks)f[U.updateActiveCues](c,t);p>0&&c>=p&&(d(this,jn,!0),this.dispatch("media-pause-request",{trigger:t})),o(this,w,dg).call(this),this.dispatch("time-update",{detail:{currentTime:l(),played:i()},trigger:t})}"audio-gain-change"(t){var h;const{storage:e}=r(this,Q),{canPlay:i,audioGain:a}=this.$state;a.set(t.detail),o(this,w,mt).call(this,"media-audio-gain-change-request",t),i()&&((h=e==null?void 0:e.setAudioGain)==null||h.call(e,a()))}"volume-change"(t){var c,p;const{storage:e}=r(this,Q),{volume:i,muted:a,canPlay:h}=this.$state,l=t.detail;i.set(l.volume),a.set(l.muted||l.volume===0),o(this,w,mt).call(this,"media-volume-change-request",t),o(this,w,mt).call(this,l.muted?"media-mute-request":"media-unmute-request",t),h()&&((c=e==null?void 0:e.setVolume)==null||c.call(e,i()),(p=e==null?void 0:e.setMuted)==null||p.call(e,a()))}seeked(t){const{seeking:e,currentTime:i,realCurrentTime:a,paused:h,seekableEnd:l,ended:c,live:p}=this.$state;if(r(this,Jt).seeking)e.set(!0),t.stopImmediatePropagation();else if(e()){const f=r(this,it).get("waiting");f&&t.triggers.add(f);const m=r(this,it).get("seeking");m&&!t.triggers.has(m)&&t.triggers.add(m),h()&&o(this,w,ou).call(this),e.set(!1),a.set(t.detail),o(this,w,mt).call(this,"media-seek-request",t);const b=t==null?void 0:t.originEvent;b!=null&&b.isTrusted&&!(b instanceof MessageEvent)&&!/seek/.test(b.type)&&this.started(t)}p()||(Math.floor(i())!==Math.floor(l())?c.set(!1):this.end(t))}waiting(t){r(this,zn)||r(this,Jt).seeking||(t.stopImmediatePropagation(),d(this,Ys,t),r(this,ia).call(this))}end(t){const{loop:e,ended:i}=this.$state;if(!(!e()&&i())){if(e()){setTimeout(()=>{requestAnimationFrame(()=>{o(this,w,ru).call(this,t),this.dispatch("media-loop-request",{trigger:t})})},10);return}setTimeout(()=>o(this,w,pg).call(this,t),0)}}"fullscreen-change"(t){const e=t.detail;this.$state.fullscreen.set(e),o(this,w,mt).call(this,e?"media-enter-fullscreen-request":"media-exit-fullscreen-request",t)}"fullscreen-error"(t){o(this,w,mt).call(this,"media-enter-fullscreen-request",t),o(this,w,mt).call(this,"media-exit-fullscreen-request",t)}"orientation-change"(t){const e=t.detail.lock;o(this,w,mt).call(this,e?"media-orientation-lock-request":"media-orientation-unlock-request",t)}"picture-in-picture-change"(t){const e=t.detail;this.$state.pictureInPicture.set(e),o(this,w,mt).call(this,e?"media-enter-pip-request":"media-exit-pip-request",t)}"picture-in-picture-error"(t){o(this,w,mt).call(this,"media-enter-pip-request",t),o(this,w,mt).call(this,"media-exit-pip-request",t)}"title-change"(t){t.trigger&&(t.stopImmediatePropagation(),this.$state.inferredTitle.set(t.detail))}"poster-change"(t){t.trigger&&(t.stopImmediatePropagation(),this.$state.inferredPoster.set(t.detail))}}Jt=new WeakMap,Q=new WeakMap,it=new WeakMap,jn=new WeakMap,ea=new WeakMap,Qn=new WeakMap,zn=new WeakMap,Ys=new WeakMap,Bi=new WeakMap,w=new WeakSet,tg=function(){r(this,Bi)&&(requestAnimationFrame(()=>{this.scope&&r(this,Q).remote.play(new ot("dom-connect"))}),d(this,Bi,!1))},eg=function(){var t;r(this,Bi)||(d(this,Bi,!this.$state.paused()),(t=r(this,Q).$provider())==null||t.pause())},Li=function(){o(this,w,ou).call(this),d(this,jn,!1),r(this,Jt).replaying=!1,r(this,Jt).looping=!1,d(this,zn,!1),d(this,Ys,void 0),r(this,it).clear()},mt=function(t,e){const i=r(this,Jt).queue.serve(t);i&&(e.request=i,e.triggers.add(i))},sg=function(){o(this,w,Nh).call(this),o(this,w,Zc).call(this);const t=r(this,Q).textTracks;new ht(t).add("add",o(this,w,Nh).bind(this)).add("remove",o(this,w,Nh).bind(this)).add("mode-change",o(this,w,Zc).bind(this))},ig=function(){const t=r(this,Q).qualities;new ht(t).add("add",o(this,w,eu).bind(this)).add("remove",o(this,w,eu).bind(this)).add("change",o(this,w,ag).bind(this)).add("auto-change",o(this,w,og).bind(this)).add("readonly-change",o(this,w,hg).bind(this))},ng=function(){const t=r(this,Q).audioTracks;new ht(t).add("add",o(this,w,tu).bind(this)).add("remove",o(this,w,tu).bind(this)).add("change",o(this,w,rg).bind(this))},Nh=function(t){const{textTracks:e}=this.$state;e.set(r(this,Q).textTracks.toArray()),this.dispatch("text-tracks-change",{detail:e(),trigger:t})},Zc=function(t){t&&o(this,w,mt).call(this,"media-text-track-change-request",t);const e=r(this,Q).textTracks.selected,{textTrack:i}=this.$state;i()!==e&&(i.set(e),this.dispatch("text-track-change",{detail:e,trigger:t}))},tu=function(t){const{audioTracks:e}=this.$state;e.set(r(this,Q).audioTracks.toArray()),this.dispatch("audio-tracks-change",{detail:e(),trigger:t})},rg=function(t){const{audioTrack:e}=this.$state;e.set(r(this,Q).audioTracks.selected),t&&o(this,w,mt).call(this,"media-audio-track-change-request",t),this.dispatch("audio-track-change",{detail:e(),trigger:t})},eu=function(t){const{qualities:e}=this.$state;e.set(r(this,Q).qualities.toArray()),this.dispatch("qualities-change",{detail:e(),trigger:t})},ag=function(t){const{quality:e}=this.$state;e.set(r(this,Q).qualities.selected),t&&o(this,w,mt).call(this,"media-quality-change-request",t),this.dispatch("quality-change",{detail:e(),trigger:t})},og=function(){const{qualities:t}=r(this,Q),e=t.auto;this.$state.autoQuality.set(e),e||o(this,w,Hh).call(this)},sa=new WeakMap,su=function(){o(this,w,Hh).call(this),d(this,sa,y(()=>{const{qualities:t}=r(this,Q),{mediaWidth:e,mediaHeight:i}=this.$state,a=e(),h=i();if(a===0||h===0)return;let l=null,c=1/0;for(const p of t){const f=Math.abs(p.width-a)+Math.abs(p.height-h);f<c&&(c=f,l=p)}l&&t[J.select](l,!0,new ot("resize",{detail:{width:a,height:h}}))}))},Hh=function(){var t;(t=r(this,sa))==null||t.call(this),d(this,sa,null)},hg=function(){this.$state.canSetQuality.set(!r(this,Q).qualities.readonly)},lg=function(){const{canSetVolume:t,isGoogleCastConnected:e}=this.$state;if(e()){t.set(!1);return}c0().then(t.set)},cg=function(t,e,i){let{qualities:a}=r(this,Q),h=!1,l=!1;for(const c of t){if(!Rc(c))continue;if(!e.some(f=>f.src===c.src)){const f=a.getBySrc(c.src);f&&(a[J.remove](f,i),l=!0)}}l&&!a.length&&(this.$state.savedState.set(null),a[J.reset](i));for(const c of e){if(!Rc(c)||a.getBySrc(c.src))continue;const p={id:c.id??c.height+"p",bitrate:null,codec:null,...c,selected:!1};a[J.add](p,i),h=!0}h&&!a[We.enableAuto]&&(o(this,w,su).call(this),a[We.enableAuto]=o(this,w,su).bind(this),a[We.setAuto](!0,i))},iu=function(t,e=!1){const{audioTracks:i,qualities:a}=r(this,Q);if(!e){d(this,ea,[]),d(this,Qn,[-1,-1]),i[J.reset](t),a[J.reset](t),Wp(this.$state,e),o(this,w,Li).call(this);return}Wp(this.$state,e),o(this,w,Li).call(this)},nu=function(t){const{seekable:e,buffered:i,intrinsicDuration:a,canPlay:h}=this.$state;h.set(!0),i.set(t.buffered),e.set(t.seekable);const l=Pn(t.seekable)??1/0;a.set(l)},ru=function(t){if(!T(r(this,Q).$provider))return;const{ended:i,seekableStart:a,clipEndTime:h,currentTime:l,realCurrentTime:c,duration:p}=this.$state,f=i()||c()<a()||h()>0&&c()>=h()||Math.abs(l()-p())<.1;return f&&this.dispatch("media-seek-request",{detail:a(),trigger:t}),f},ug=function(){const{currentTime:t,played:e,paused:i}=this.$state;i()||(d(this,Qn,x0(r(this,ea),r(this,Qn),t())),e.set(new Vh(r(this,ea))))},au=function(t){const{clipStartTime:e,clipEndTime:i,duration:a}=this.$state;e()>0||i()>0||this.handle(this.createEvent("time-change",{detail:a(),trigger:t}))},dg=function(){var a;const{storage:t}=r(this,Q),{canPlay:e,realCurrentTime:i}=this.$state;e()&&((a=t==null?void 0:t.setTime)==null||a.call(t,i()))},ia=new WeakMap,pg=function(t){var c;const{storage:e}=r(this,Q),{paused:i,seeking:a,ended:h,duration:l}=this.$state;o(this,w,au).call(this,t),i()||this.dispatch("pause",{trigger:t}),a()&&this.dispatch("seeked",{detail:l(),trigger:t}),h.set(!0),o(this,w,Li).call(this),(c=e==null?void 0:e.setTime)==null||c.call(e,l(),!0),this.dispatch("ended",{trigger:t})},ou=function(){r(this,ia).cancel(),this.$state.waiting.set(!1)};var j,fg,mg,ck,gg,yg,bg,$g,wg,vg,Tg,Sg,xg,kg,Eg,Cg,Ag,Pg;class lk extends Mr{constructor(){super(...arguments);u(this,j)}onSetup(){o(this,j,fg).call(this);const t=[o(this,j,gg),o(this,j,bg),o(this,j,kg),o(this,j,Eg),o(this,j,wg),o(this,j,Tg),o(this,j,Sg),o(this,j,Cg),o(this,j,Pg),o(this,j,Ag),o(this,j,$g),o(this,j,xg),o(this,j,vg),o(this,j,mg),o(this,j,yg)];for(const e of t)y(e.bind(this))}}j=new WeakSet,fg=function(){var i;const t={duration:"providedDuration",loop:"providedLoop",poster:"providedPoster",streamType:"providedStreamType",title:"providedTitle",viewType:"providedViewType"},e=new Set(["currentTime","paused","playbackRate","volume"]);for(const a of Object.keys(this.$props))e.has(a)||(i=this.$state[t[a]??a])==null||i.set(this.$props[a]());this.$state.muted.set(this.$props.muted()||this.$props.volume()===0)},mg=function(){const{viewType:t,streamType:e,title:i,poster:a,loop:h}=this.$props,l=this.$state;l.providedPoster.set(a()),l.providedStreamType.set(e()),l.providedViewType.set(t()),l.providedTitle.set(i()),l.providedLoop.set(h())},ck=function(){},gg=function(){const{artist:t,artwork:e}=this.$props;this.$state.artist.set(t()),this.$state.artwork.set(e())},yg=function(){const{title:t}=this.$state;this.dispatch("title-change",{detail:t()})},bg=function(){const t=this.$props.autoPlay()||this.$props.autoplay();this.$state.autoPlay.set(t),this.dispatch("auto-play-change",{detail:t})},$g=function(){const t=this.$state.loop();this.dispatch("loop-change",{detail:t})},wg=function(){const t=this.$props.controls();this.$state.controls.set(t)},vg=function(){const{poster:t}=this.$state;this.dispatch("poster-change",{detail:t()})},Tg=function(){const t=this.$props.crossOrigin()??this.$props.crossorigin(),e=t===!0?"":t;this.$state.crossOrigin.set(e)},Sg=function(){const{duration:t}=this.$props;this.dispatch("media-duration-change-request",{detail:t()})},xg=function(){const t=this.$props.playsInline()||this.$props.playsinline();this.$state.playsInline.set(t),this.dispatch("plays-inline-change",{detail:t})},kg=function(){const{clipStartTime:t}=this.$props;this.dispatch("media-clip-start-change-request",{detail:t()})},Eg=function(){const{clipEndTime:t}=this.$props;this.dispatch("media-clip-end-change-request",{detail:t()})},Cg=function(){this.dispatch("live-change",{detail:this.$state.live()})},Ag=function(){this.$state.liveEdgeTolerance.set(this.$props.liveEdgeTolerance()),this.$state.minLiveDVRWindow.set(this.$props.minLiveDVRWindow())},Pg=function(){this.dispatch("live-edge-change",{detail:this.$state.liveEdge()})};const jp=["play","pause","seekforward","seekbackward","seekto"];var Ls,Lg,Mg,Og,qg;class uk extends Mr{constructor(){super(...arguments);u(this,Ls)}onConnect(){y(o(this,Ls,Mg).bind(this)),y(o(this,Ls,Og).bind(this));const t=o(this,Ls,qg).bind(this);for(const e of jp)navigator.mediaSession.setActionHandler(e,t);B(o(this,Ls,Lg).bind(this))}}Ls=new WeakSet,Lg=function(){for(const t of jp)navigator.mediaSession.setActionHandler(t,null)},Mg=function(){const{title:t,artist:e,artwork:i,poster:a}=this.$state;navigator.mediaSession.metadata=new MediaMetadata({title:t(),artist:e(),artwork:i()??[{src:a()}]})},Og=function(){const{canPlay:t,paused:e}=this.$state;navigator.mediaSession.playbackState=t()?e()?"paused":"playing":"none"},qg=function(t){const e=new ot("media-session-action",{detail:t});switch(t.action){case"play":this.dispatch("media-play-request",{trigger:e});break;case"pause":this.dispatch("media-pause-request",{trigger:e});break;case"seekto":case"seekforward":case"seekbackward":this.dispatch("media-seek-request",{detail:qe(t.seekTime)?t.seekTime:this.$state.currentTime()+(t.seekOffset??(t.action==="seekforward"?10:-10)),trigger:e});break}};var Nt,Yn,Ht,x,ge,Fh,na,Ig,Rg,Vg,Dg,_g,ro,hu,Ng,lu,Hg,cu,Fg,uu,Bg,du,Wg,pu,Ug,Kg,Gg,jg;const Ln=class Ln extends M{constructor(){super();u(this,x);u(this,Nt);u(this,Yn);u(this,Ht);g(this,"canPlayQueue",new Wm);g(this,"remoteControl");u(this,na,!1);g(this,"orientation");new lk;const t={player:this,qualities:new Nx,audioTracks:new Rx,storage:null,$provider:D(null),$providerSetup:D(!1),$props:this.$props,$state:this.$state};t.remote=this.remoteControl=new Ox(void 0),t.remote.setPlayer(this),t.textTracks=new _x,t.textTracks[U.crossOrigin]=this.$state.crossOrigin,t.textRenderers=new Dx(t),t.ariaKeys={},d(this,Nt,t),Te(Df,t),this.orientation=new pl,new as,new Kx(t);const e=new ak;d(this,Yn,new hk(e,t)),d(this,Ht,new ik(r(this,Yn),e,t)),t.delegate=new ek(r(this,Yn).handle.bind(r(this,Yn)),t),t.notify=t.delegate.notify.bind(t.delegate),typeof navigator<"u"&&"mediaSession"in navigator&&new uk,new Kp("load",this.startLoading.bind(this)),new Kp("posterLoad",this.startLoadingPoster.bind(this))}onSetup(){o(this,x,Dg).call(this),y(o(this,x,Vg).bind(this)),y(o(this,x,Hg).bind(this)),y(o(this,x,Ng).bind(this)),y(o(this,x,Bg).bind(this)),y(o(this,x,Fg).bind(this)),y(o(this,x,Ug).bind(this)),y(o(this,x,Wg).bind(this))}onAttach(t){t.setAttribute("data-media-player",""),Z(t,"tabindex","0"),Z(t,"role","region"),y(o(this,x,Gg).bind(this)),y(o(this,x,Ig).bind(this)),y(o(this,x,Rg).bind(this)),qt(t,"find-media-player",o(this,x,_g).bind(this))}onConnect(t){Nf&&E(t,"data-iphone","");const e=window.matchMedia("(pointer: coarse)");o(this,x,hu).call(this,e),e.onchange=o(this,x,hu).bind(this);const i=new ResizeObserver(Ya(o(this,x,ro).bind(this)));i.observe(t),y(o(this,x,ro).bind(this)),this.dispatch("media-player-connect",{detail:this,bubbles:!0,composed:!0}),B(()=>{i.disconnect(),e.onchange=null})}onDestroy(){r(this,Nt).player=null,this.canPlayQueue.reset()}get provider(){return r(this,x,ge)}get controls(){return r(this,Ht).controls}set controls(t){r(this,x,Fh).controls.set(t)}get title(){return T(this.$state.title)}set title(t){if(r(this,na)){d(this,na,!1);return}r(this,x,Fh).title.set(t)}get qualities(){return r(this,Nt).qualities}get audioTracks(){return r(this,Nt).audioTracks}get textTracks(){return r(this,Nt).textTracks}get textRenderers(){return r(this,Nt).textRenderers}get duration(){return this.$state.duration()}set duration(t){r(this,x,Fh).duration.set(t)}get paused(){return T(this.$state.paused)}set paused(t){o(this,x,lu).call(this,t)}get muted(){return T(this.$state.muted)}set muted(t){o(this,x,cu).call(this,t)}get currentTime(){return T(this.$state.currentTime)}set currentTime(t){o(this,x,uu).call(this,t)}get volume(){return T(this.$state.volume)}set volume(t){o(this,x,du).call(this,t)}get playbackRate(){return T(this.$state.playbackRate)}set playbackRate(t){o(this,x,pu).call(this,t)}async play(t){return r(this,Ht).play(t)}async pause(t){return r(this,Ht).pause(t)}async enterFullscreen(t,e){return r(this,Ht).enterFullscreen(t,e)}async exitFullscreen(t,e){return r(this,Ht).exitFullscreen(t,e)}enterPictureInPicture(t){return r(this,Ht).enterPictureInPicture(t)}exitPictureInPicture(t){return r(this,Ht).exitPictureInPicture(t)}seekToLiveEdge(t){r(this,Ht).seekToLiveEdge(t)}startLoading(t){r(this,Nt).notify("can-load",void 0,t)}startLoadingPoster(t){r(this,Nt).notify("can-load-poster",void 0,t)}requestAirPlay(t){return r(this,Ht).requestAirPlay(t)}requestGoogleCast(t){return r(this,Ht).requestGoogleCast(t)}setAudioGain(t,e){return r(this,Ht).setAudioGain(t,e)}destroy(){super.destroy(),r(this,Nt).remote.setPlayer(null),this.dispatch("destroy")}};Nt=new WeakMap,Yn=new WeakMap,Ht=new WeakMap,x=new WeakSet,ge=function(){return r(this,Nt).$provider()},Fh=function(){return this.$props},na=new WeakMap,Ig=function(){const t=this.$el,{title:e,live:i,viewType:a,providedTitle:h}=this.$state,l=i(),c=_S(a()),p=c!=="Unknown"?`${l?"Live ":""}${c}`:l?"Live":"Media",f=e();E(this.el,"aria-label",`${p} Player`+(f?` - ${f}`:"")),t!=null&&t.hasAttribute("title")&&(d(this,na,!0),t==null||t.removeAttribute("title"))},Rg=function(){const t=this.orientation.landscape?"landscape":"portrait";this.$state.orientation.set(t),E(this.el,"data-orientation",t),o(this,x,ro).call(this)},Vg=function(){this.$state.canPlay()&&r(this,x,ge)?this.canPlayQueue.start():this.canPlayQueue.stop()},Dg=function(){if(Ln[fc]){this.setAttributes(Ln[fc]);return}const t={"data-load":function(){return this.$props.load()},"data-captions":function(){const i=this.$state.textTrack();return!!i&&Qt(i)},"data-ios-controls":function(){return this.$state.iOSControls()},"data-controls":function(){return this.controls.showing},"data-buffering":function(){const{canLoad:i,canPlay:a,waiting:h}=this.$state;return i()&&(!a()||h())},"data-error":function(){const{error:i}=this.$state;return!!i()},"data-autoplay-error":function(){const{autoPlayError:i}=this.$state;return!!i()}},e={autoPlay:"autoplay",canAirPlay:"can-airplay",canPictureInPicture:"can-pip",pictureInPicture:"pip",playsInline:"playsinline",remotePlaybackState:"remote-state",remotePlaybackType:"remote-type",isAirPlayConnected:"airplay",isGoogleCastConnected:"google-cast"};for(const i of Zx){const a="data-"+(e[i]??qf(i));t[a]=function(){return this.$state[i]()}}delete t.title,Ln[fc]=t,this.setAttributes(t)},_g=function(t){t.detail(this)},ro=function(){if(!this.el)return;const t=this.el.clientWidth,e=this.el.clientHeight;this.$state.width.set(t),this.$state.height.set(e),pe(this.el,"--player-width",t+"px"),pe(this.el,"--player-height",e+"px")},hu=function(t){const e=t.matches?"coarse":"fine";E(this.el,"data-pointer",e),this.$state.pointer.set(e),o(this,x,ro).call(this)},Ng=function(){o(this,x,lu).call(this,this.$props.paused())},lu=function(t){t?this.canPlayQueue.enqueue("paused",()=>r(this,Ht).pause()):this.canPlayQueue.enqueue("paused",()=>r(this,Ht).play())},Hg=function(){o(this,x,cu).call(this,this.$props.muted())},cu=function(t){this.canPlayQueue.enqueue("muted",()=>{r(this,x,ge)&&r(this,x,ge).setMuted(t)})},Fg=function(){o(this,x,uu).call(this,this.$props.currentTime())},uu=function(t){this.canPlayQueue.enqueue("currentTime",()=>{const{currentTime:e}=this.$state;t!==T(e)&&T(()=>{if(!r(this,x,ge))return;const i=bm(t,this.$state);Number.isFinite(i)&&r(this,x,ge).setCurrentTime(i)})})},Bg=function(){o(this,x,du).call(this,this.$props.volume())},du=function(t){const e=ep(0,t,1);this.canPlayQueue.enqueue("volume",()=>{r(this,x,ge)&&r(this,x,ge).setVolume(e)})},Wg=function(){o(this,x,pu).call(this,this.$props.playbackRate())},pu=function(t){this.canPlayQueue.enqueue("rate",()=>{var e,i;r(this,x,ge)&&((i=(e=r(this,x,ge)).setPlaybackRate)==null||i.call(e,t))})},Ug=function(){o(this,x,Kg).call(this,this.$props.playsInline())},Kg=function(t){this.canPlayQueue.enqueue("playsinline",()=>{var e,i;r(this,x,ge)&&((i=(e=r(this,x,ge)).setPlaysInline)==null||i.call(e,t))})},Gg=function(){var i;let t=this.$props.storage(),e=V(t)?new Ix:t;if(e!=null&&e.onChange){const{source:a}=this.$state,h=V(t)?t:(i=this.el)==null?void 0:i.id,l=ss(o(this,x,jg).bind(this));y(()=>e.onChange(a(),l(),h||void 0))}r(this,Nt).storage=e,r(this,Nt).textTracks.setStorage(e),B(()=>{var a;(a=e==null?void 0:e.onDestroy)==null||a.call(e),r(this,Nt).storage=null,r(this,Nt).textTracks.setStorage(null)})},jg=function(){const{clipStartTime:t,clipEndTime:e}=this.$props,{source:i}=this.$state,a=i();return a.src?`${a.src}:${t()}:${e()}`:null},g(Ln,"props",tk),g(Ln,"state",gm);let fl=Ln;const nt=fl.prototype;H(nt,"canPlayQueue");H(nt,"remoteControl");H(nt,"provider");H(nt,"controls");H(nt,"orientation");H(nt,"title");H(nt,"qualities");H(nt,"audioTracks");H(nt,"textTracks");H(nt,"textRenderers");H(nt,"duration");H(nt,"paused");H(nt,"muted");H(nt,"currentTime");H(nt,"volume");H(nt,"playbackRate");gt(nt,"play");gt(nt,"pause");gt(nt,"enterFullscreen");gt(nt,"exitFullscreen");gt(nt,"enterPictureInPicture");gt(nt,"exitPictureInPicture");gt(nt,"seekToLiveEdge");gt(nt,"startLoading");gt(nt,"startLoadingPoster");gt(nt,"requestAirPlay");gt(nt,"requestGoogleCast");gt(nt,"setAudioGain");function dk(n,s){return fetch(n,s).then(t=>t.text()).then(t=>/type="static"/.test(t)?"on-demand":"live")}function Qg(n,s){return fetch(n,s).then(t=>t.text()).then(t=>{const e=pk(t);if(e)return Qg(/^https?:/.test(e)?e:new URL(e,n).href,s);const i=/EXT-X-PLAYLIST-TYPE:\s*VOD/.test(t)?"on-demand":"live";return i==="live"&&fk(t)>=10&&(/#EXT-X-DVR-ENABLED:\s*true/.test(t)||t.includes("#EXT-X-DISCONTINUITY"))?"live:dvr":i})}function pk(n){const s=n.match(/#EXT-X-STREAM-INF:[^\n]+(\n[^\n]+)*/g);return s?s[0].split(`
`)[1].trim():null}function fk(n){const s=n.split(`
`);for(const t of s)if(t.startsWith("#EXT-X-TARGETDURATION")){const e=parseFloat(t.split(":")[1]);if(!isNaN(e))return e}return-1}const fu=new Map;var ra,aa,Oo,z,Xs,St,zg,Yg,mu,gu,yu,Xg,Jg,Zg;class mk{constructor(s,t,e,i=[]){u(this,St);u(this,ra,!1);u(this,aa);u(this,Oo);u(this,z);u(this,Xs);d(this,Oo,s),d(this,z,t),d(this,Xs,e);const a=new Kc,h=new Uc,l=new sp,c=new Yx,p=new Jx,f=new Xx,m=[p,f];d(this,aa,ss(()=>{const $=t.$state.remotePlaybackLoader(),v=t.$props.preferNativeHLS()?[l,c,a,h,...m,...i]:[h,l,c,a,...m,...i];return $?[$,...v]:v}));const{$state:b}=t;b.sources.set(Qp(t.$props.src()));for(const $ of b.sources()){const v=r(this,aa).call(this).find(k=>k.canPlay($));if(!v)continue;const S=v.mediaType($);t.$state.source.set($),t.$state.mediaType.set(S),t.$state.inferredViewType.set(S),r(this,Xs).set(v),d(this,ra,!0);break}}connect(){const s=r(this,Xs).call(this);r(this,ra)&&(o(this,St,gu).call(this,r(this,z).$state.source(),s),o(this,St,yu).call(this,s),d(this,ra,!1)),y(o(this,St,zg).bind(this)),y(o(this,St,Yg).bind(this)),y(o(this,St,Xg).bind(this)),y(o(this,St,Jg).bind(this)),y(o(this,St,Zg).bind(this))}}ra=new WeakMap,aa=new WeakMap,Oo=new WeakMap,z=new WeakMap,Xs=new WeakMap,St=new WeakSet,zg=function(){r(this,z).notify("sources-change",[...Qp(r(this,z).$props.src()),...r(this,Oo).call(this)])},Yg=function(){var h;const{$state:s}=r(this,z),t=s.sources(),e=T(s.source),i=o(this,St,mu).call(this,e,t);if(((h=t[0])==null?void 0:h.src)&&!i.src&&!i.type){const{crossOrigin:l}=s,c=uo(l()),p=new AbortController;return Promise.all(t.map(f=>V(f.src)&&f.type==="?"?fetch(f.src,{method:"HEAD",credentials:c,signal:p.signal}).then(m=>(f.type=m.headers.get("content-type")||"??",fu.set(f.src,f.type),f)).catch(()=>f):f)).then(f=>{if(p.signal.aborted)return;const m=o(this,St,mu).call(this,T(s.source),f);fi(),m.src||r(this,z).notify("error",{message:"Failed to load resource.",code:4})}),()=>p.abort()}fi()},mu=function(s,t){let e={src:"",type:""},i=null,a=new ot("sources-change",{detail:{sources:t}}),h=r(this,aa).call(this),{started:l,paused:c,currentTime:p,quality:f,savedState:m}=r(this,z).$state;for(const b of t){const $=h.find(v=>v.canPlay(b));if($){e=b,i=$;break}}if(Rc(e)){const b=f(),$=t.find(v=>v.src===(b==null?void 0:b.src));T(l)?m.set({paused:T(c),currentTime:T(p)}):m.set(null),$&&(e=$,a=new ot("quality-change",{detail:{quality:b}}))}return Yp(s,e)||o(this,St,gu).call(this,e,i,a),i!==T(r(this,Xs))&&o(this,St,yu).call(this,i,a),e},gu=function(s,t,e){r(this,z).notify("source-change",s,e),r(this,z).notify("media-type-change",(t==null?void 0:t.mediaType(s))||"unknown",e)},yu=function(s,t){r(this,z).$providerSetup.set(!1),r(this,z).notify("provider-change",null,t),s&&T(()=>{var e;return(e=s.preconnect)==null?void 0:e.call(s,r(this,z))}),r(this,Xs).set(s),r(this,z).notify("provider-loader-change",s,t)},Xg=function(){const s=r(this,z).$provider();if(!(!s||T(r(this,z).$providerSetup))){if(r(this,z).$state.canLoad()){de(()=>s.setup(),s.scope),r(this,z).$providerSetup.set(!0);return}T(()=>{var t;return(t=s.preconnect)==null?void 0:t.call(s)})}},Jg=function(){if(!r(this,z).$providerSetup())return;const s=r(this,z).$provider(),t=r(this,z).$state.source(),e=T(r(this,z).$state.crossOrigin),i=T(r(this,z).$props.preferNativeHLS);if(!Yp(s==null?void 0:s.currentSrc,t)){if(r(this,z).$state.canLoad()){const a=new AbortController;return gh(t)?(i||!Gd())&&Qg(t.src,{credentials:uo(e),signal:a.signal}).then(h=>{r(this,z).notify("stream-type-change",h)}).catch(al):jd(t)?dk(t.src,{credentials:uo(e),signal:a.signal}).then(h=>{r(this,z).notify("stream-type-change",h)}).catch(al):r(this,z).notify("stream-type-change","on-demand"),T(()=>{const h=T(r(this,z).$state.preload);return s==null?void 0:s.loadSource(t,h).catch(l=>{})}),()=>a.abort()}try{V(t.src)&&yh(new URL(t.src).origin)}catch{}}},Zg=function(){const s=r(this,Xs).call(this),{providedPoster:t,source:e,canLoadPoster:i}=r(this,z).$state;if(!s||!s.loadPoster||!e()||!i()||t())return;const a=new AbortController,h=new ot("source-change",{detail:e});return s.loadPoster(e(),r(this,z),a).then(l=>{r(this,z).notify("poster-change",l||"",h)}).catch(()=>{r(this,z).notify("poster-change","",h)}),()=>{a.abort()}};function Qp(n){return(jt(n)?n:[n]).map(s=>V(s)?{src:s,type:zp(s)}:{...s,type:zp(s.src,s.type)})}function zp(n,s){return V(s)&&s.length?s:V(n)&&fu.has(n)?fu.get(n):!s&&gh({src:n,type:""})?"application/x-mpegurl":!s&&jd({src:n,type:""})?"application/dash+xml":!V(n)||n.startsWith("blob:")?"video/object":n.includes("youtube")||n.includes("youtu.be")?"video/youtube":n.includes("vimeo")&&!n.includes("progressive_redirect")&&!n.includes(".m3u8")?"video/vimeo":"?"}function Yp(n,s){return(n==null?void 0:n.src)===(s==null?void 0:s.src)&&(n==null?void 0:n.type)===(s==null?void 0:s.type)}var qo,Wi,Io,El,ty;class gk{constructor(s,t){u(this,El);u(this,qo);u(this,Wi);u(this,Io,[]);d(this,qo,s),d(this,Wi,t),y(o(this,El,ty).bind(this))}}qo=new WeakMap,Wi=new WeakMap,Io=new WeakMap,El=new WeakSet,ty=function(){const s=r(this,qo).call(this);for(const t of r(this,Io))if(!s.some(e=>e.id===t.id)){const e=t.id&&r(this,Wi).textTracks.getById(t.id);e&&r(this,Wi).textTracks.remove(e)}for(const t of s){const e=t.id||Fa.createId(t);r(this,Wi).textTracks.getById(e)||(t.id=e,r(this,Wi).textTracks.add(t))}d(this,Io,s)};var Ge,Ro,Vo,Do,oa,ha,Ee,ey,bu,$u,wu;class ml extends M{constructor(){super(...arguments);u(this,Ee);u(this,Ge);u(this,Ro);u(this,Vo,D([]));u(this,Do,D([]));u(this,oa,null);u(this,ha,-1)}onSetup(){d(this,Ge,N()),d(this,Ro,new mk(r(this,Vo),r(this,Ge),this.$state.loader,this.$props.loaders()))}onAttach(t){t.setAttribute("data-media-provider","")}onConnect(t){r(this,Ro).connect(),new gk(r(this,Do),r(this,Ge));const e=new ResizeObserver(Ya(o(this,Ee,$u).bind(this)));e.observe(t);const i=new MutationObserver(o(this,Ee,wu).bind(this));i.observe(t,{attributes:!0,childList:!0}),o(this,Ee,$u).call(this),o(this,Ee,wu).call(this),B(()=>{e.disconnect(),i.disconnect()})}load(t){t==null||t.setAttribute("aria-hidden","true"),window.cancelAnimationFrame(r(this,ha)),d(this,ha,requestAnimationFrame(()=>o(this,Ee,ey).call(this,t))),B(()=>{window.cancelAnimationFrame(r(this,ha))})}onDestroy(){d(this,oa,null),o(this,Ee,bu).call(this)}}Ge=new WeakMap,Ro=new WeakMap,Vo=new WeakMap,Do=new WeakMap,oa=new WeakMap,ha=new WeakMap,Ee=new WeakSet,ey=function(t){if(!this.scope)return;const e=this.$state.loader(),{$provider:i}=r(this,Ge);r(this,oa)===e&&(e==null?void 0:e.target)===t&&T(i)||(o(this,Ee,bu).call(this),d(this,oa,e),e&&(e.target=t||null),!(!e||!t)&&e.load(r(this,Ge)).then(a=>{this.scope&&T(this.$state.loader)===e&&r(this,Ge).notify("provider-change",a)}))},bu=function(){var t;(t=r(this,Ge))==null||t.notify("provider-change",null)},$u=function(){if(!this.el)return;const{player:t,$state:e}=r(this,Ge),i=this.el.offsetWidth,a=this.el.offsetHeight;t&&(e.mediaWidth.set(i),e.mediaHeight.set(a),t.el&&(pe(t.el,"--media-width",i+"px"),pe(t.el,"--media-height",a+"px")))},wu=function(){const t=[],e=[],i=this.el.children;for(const a of i)if(!a.hasAttribute("data-vds")){if(a instanceof HTMLSourceElement){const h={id:a.id,src:a.src,type:a.type};for(const l of["id","src","width","height","bitrate","codec"]){const c=a.getAttribute(`data-${l}`);V(c)&&(h[l]=/id|src|codec/.test(l)?c:Number(c))}t.push(h)}else if(a instanceof HTMLTrackElement){const h={src:a.src,kind:a.track.kind,language:a.srclang,label:a.label,default:a.default,type:a.getAttribute("data-type")};e.push({id:a.id||Fa.createId(h),...h})}}r(this,Vo).set(t),r(this,Do).set(e),fi()},g(ml,"props",{loaders:[]}),g(ml,"state",new Sn({loader:null}));const yk=ml.prototype;gt(yk,"load");var Js,Ft,ne,Ms,iy,ny,ry,ay;class sy extends O(HTMLElement,ml){constructor(){super(...arguments);u(this,Ms);u(this,Js);u(this,Ft,null);u(this,ne,null)}onSetup(){d(this,Js,N()),this.setAttribute("keep-alive","")}onDestroy(){var t,e;(t=r(this,ne))==null||t.remove(),d(this,ne,null),(e=r(this,Ft))==null||e.remove(),d(this,Ft,null)}onConnect(){y(()=>{var c,p,f;const t=this.$state.loader(),e=(t==null?void 0:t.name)==="youtube",i=(t==null?void 0:t.name)==="vimeo",a=e||i,h=(t==null?void 0:t.name)==="google-cast",l=t?h?o(this,Ms,ay).call(this):a?o(this,Ms,ry).call(this):t.mediaType()==="audio"?o(this,Ms,iy).call(this):o(this,Ms,ny).call(this):null;if(r(this,Ft)!==l){const m=((c=r(this,Ft))==null?void 0:c.parentElement)??this;(p=r(this,Ft))==null||p.remove(),d(this,Ft,l),l&&m.prepend(l),a&&l&&y(()=>{var q;const{nativeControls:b,viewType:$}=r(this,Js).$state,v=b(),S=$()==="audio";!v&&!S?(d(this,ne,this.querySelector(".vds-blocker")),r(this,ne)||(d(this,ne,document.createElement("div")),r(this,ne).classList.add("vds-blocker"),l.after(r(this,ne)))):((q=r(this,ne))==null||q.remove(),d(this,ne,null)),E(l,"data-no-controls",!v)})}e?l==null||l.classList.add("vds-youtube"):i&&(l==null||l.classList.add("vds-vimeo")),a||((f=r(this,ne))==null||f.remove(),d(this,ne,null)),this.load(l)})}}Js=new WeakMap,Ft=new WeakMap,ne=new WeakMap,Ms=new WeakSet,iy=function(){const t=r(this,Ft)instanceof HTMLAudioElement?r(this,Ft):document.createElement("audio"),{controls:e,crossOrigin:i}=r(this,Js).$state;return y(()=>{E(t,"controls",e()),E(t,"crossorigin",i())}),t},ny=function(){const t=r(this,Ft)instanceof HTMLVideoElement?r(this,Ft):document.createElement("video"),{crossOrigin:e,poster:i,nativeControls:a}=r(this,Js).$state,h=ss(()=>a()?"true":null),l=ss(()=>i()&&a()?i():null);return y(()=>{E(t,"controls",h()),E(t,"crossorigin",e()),E(t,"poster",l())}),t},ry=function(){const t=r(this,Ft)instanceof HTMLIFrameElement?r(this,Ft):document.createElement("iframe"),{nativeControls:e}=r(this,Js).$state;return y(()=>E(t,"tabindex",e()?null:-1)),t},ay=function(){var e;if((e=r(this,Ft))!=null&&e.classList.contains("vds-google-cast"))return r(this,Ft);const t=document.createElement("div");return t.classList.add("vds-google-cast"),fe(async()=>{const{insertContent:i}=await import("./vidstack-D_-9AA6_-CEWI4NQi.js");return{insertContent:i}},[]).then(({insertContent:i})=>{i(t,r(this,Js).$state)}),t},g(sy,"tagName","media-provider");class vu extends O(HTMLElement,fl){}g(vu,"tagName","media-player"),g(vu,"attrs",{autoPlay:"autoplay",crossOrigin:"crossorigin",playsInline:"playsinline",preferNativeHLS:"prefer-native-hls",minLiveDVRWindow:"min-live-dvr-window"});L(vu);L(sy);function oy(n,s){return[...n].sort(s?$k:bk)}function bk(n,s){return n.height===s.height?(n.bitrate??0)-(s.bitrate??0):n.height-s.height}function $k(n,s){return s.height===n.height?(s.bitrate??0)-(n.bitrate??0):s.height-n.height}var Xn;class wk extends He{constructor(t){super();u(this,Xn);d(this,Xn,t)}onAttach(t){const{$props:e,ariaKeys:i}=N(),a=t.getAttribute("aria-keyshortcuts");if(a){i[r(this,Xn)]=a,B(()=>{delete i[r(this,Xn)]});return}const h=e.keyShortcuts()[r(this,Xn)];if(h){const l=jt(h)?h.join(" "):V(h)?h:h==null?void 0:h.keys;t.setAttribute("aria-keyshortcuts",jt(l)?l.join(" "):l)}}}Xn=new WeakMap;function gc(n,s){const t=String(n),e=t.length;if(e<s){const a=s-e;return`${"0".repeat(a)}${n}`}return t}function hy(n){const s=Math.trunc(n/3600),t=Math.trunc(n%3600/60),e=Math.trunc(n%60),i=Number((n-Math.trunc(n)).toPrecision(3));return{hours:s,minutes:t,seconds:e,fraction:i}}function sc(n,{padHrs:s=null,padMins:t=null,showHrs:e=!1,showMs:i=!1}={}){const{hours:a,minutes:h,seconds:l,fraction:c}=hy(n),p=s?gc(a,2):a,f=t||Ss(t)&&n>=3600?gc(h,2):h,m=gc(l,2),b=i&&c>0?`.${String(c).replace(/^0?\./,"")}`:"",$=`${f}:${m}${b}`;return a>0||e?`${p}:${$}`:$}function gl(n){const s=[],{hours:t,minutes:e,seconds:i}=hy(n);return t>0&&s.push(`${t} hour`),e>0&&s.push(`${e} min`),(i>0||s.length===0)&&s.push(`${i} sec`),s.join(" ")}var je,fn,cy,Jn,Zn,fs,Bh;class ly extends He{constructor(t){super();u(this,fn);u(this,je);u(this,Jn,-1);u(this,Zn,-1);u(this,fs,null);d(this,je,t),y(o(this,fn,cy).bind(this))}onDestroy(){var t;(t=r(this,fs))==null||t.call(this),d(this,fs,null)}show(t){var e,i,a;o(this,fn,Bh).call(this),window.cancelAnimationFrame(r(this,Zn)),d(this,Zn,-1),(e=r(this,fs))==null||e.call(this),d(this,fs,null),d(this,Jn,window.setTimeout(()=>{d(this,Jn,-1);const h=r(this,je).content();h&&h.style.removeProperty("display"),T(()=>r(this,je).onChange(!0,t))},((a=(i=r(this,je)).showDelay)==null?void 0:a.call(i))??0))}hide(t){o(this,fn,Bh).call(this),T(()=>r(this,je).onChange(!1,t)),d(this,Zn,requestAnimationFrame(()=>{var i;o(this,fn,Bh).call(this),d(this,Zn,-1);const e=r(this,je).content();if(e){const a=()=>{e.style.display="none",d(this,fs,null)};if(Ex(e)){(i=r(this,fs))==null||i.call(this);const l=qt(e,"animationend",a,{once:!0});d(this,fs,l)}else a()}}))}}je=new WeakMap,fn=new WeakSet,cy=function(){const t=r(this,je).trigger();if(!t){this.hide();return}const e=this.show.bind(this),i=this.hide.bind(this);r(this,je).listen(t,e,i)},Jn=new WeakMap,Zn=new WeakMap,fs=new WeakMap,Bh=function(){window.clearTimeout(r(this,Jn)),d(this,Jn,-1)};var Zs,Os,uy,dy,py,fy;class Xt extends He{constructor(t){super();u(this,Os);u(this,Zs);d(this,Zs,t),new as,t.keyShortcut&&new wk(t.keyShortcut)}onSetup(){const{disabled:t}=this.$props;this.setAttributes({"data-pressed":r(this,Zs).isPresssed,"aria-pressed":o(this,Os,uy).bind(this),"aria-disabled":()=>t()?"true":null})}onAttach(t){Z(t,"tabindex","0"),Z(t,"role","button"),Z(t,"type","button")}onConnect(t){const e=yn(t,o(this,Os,py).bind(this));for(const i of["click","touchstart"])e.add(i,o(this,Os,fy).bind(this),{passive:!0})}}Zs=new WeakMap,Os=new WeakSet,uy=function(){return ol(r(this,Zs).isPresssed())},dy=function(t){OS(r(this,Zs).isPresssed)&&r(this,Zs).isPresssed.set(e=>!e)},py=function(t){if(this.$props.disabled()||this.el.hasAttribute("data-disabled")){t.preventDefault(),t.stopImmediatePropagation();return}t.preventDefault(),(r(this,Zs).onPress??o(this,Os,dy)).call(this,t)},fy=function(t){this.$props.disabled()&&(t.preventDefault(),t.stopImmediatePropagation())},g(Xt,"props",{disabled:!1});var ti,qs,gy,yy,by,$y;class my extends M{constructor(){super();u(this,qs);u(this,ti);new Xt({isPresssed:o(this,qs,yy).bind(this),onPress:o(this,qs,gy).bind(this)})}onSetup(){d(this,ti,N());const{canAirPlay:t,isAirPlayConnected:e}=r(this,ti).$state;this.setAttributes({"data-active":e,"data-supported":t,"data-state":o(this,qs,by).bind(this),"aria-hidden":Wt(()=>!t())})}onAttach(t){t.setAttribute("data-media-tooltip","airplay"),xn(t,o(this,qs,$y).bind(this))}}ti=new WeakMap,qs=new WeakSet,gy=function(t){r(this,ti).remote.requestAirPlay(t)},yy=function(){const{remotePlaybackType:t,remotePlaybackState:e}=r(this,ti).$state;return t()==="airplay"&&e()!=="disconnected"},by=function(){const{remotePlaybackType:t,remotePlaybackState:e}=r(this,ti).$state;return t()==="airplay"&&e()},$y=function(){const{remotePlaybackState:t}=r(this,ti).$state;return`AirPlay ${t()}`},g(my,"props",Xt.props);var tr,Cr,vy,Tu;class wy extends M{constructor(){super();u(this,Cr);u(this,tr);new Xt({isPresssed:o(this,Cr,Tu).bind(this),keyShortcut:"togglePaused",onPress:o(this,Cr,vy).bind(this)})}onSetup(){d(this,tr,N());const{paused:t,ended:e}=r(this,tr).$state;this.setAttributes({"data-paused":t,"data-ended":e})}onAttach(t){t.setAttribute("data-media-tooltip","play"),xn(t,"Play")}}tr=new WeakMap,Cr=new WeakSet,vy=function(t){const e=r(this,tr).remote;o(this,Cr,Tu).call(this)?e.pause(t):e.play(t)},Tu=function(){const{paused:t}=r(this,tr).$state;return!t()},g(wy,"props",Xt.props);var er,Is,Sy,Su,xu;class Ty extends M{constructor(){super();u(this,Is);u(this,er);new Xt({isPresssed:o(this,Is,Su).bind(this),keyShortcut:"toggleCaptions",onPress:o(this,Is,Sy).bind(this)})}onSetup(){d(this,er,N()),this.setAttributes({"data-active":o(this,Is,Su).bind(this),"data-supported":()=>!o(this,Is,xu).call(this),"aria-hidden":Wt(o(this,Is,xu).bind(this))})}onAttach(t){t.setAttribute("data-media-tooltip","caption"),xn(t,"Captions")}}er=new WeakMap,Is=new WeakSet,Sy=function(t){r(this,er).remote.toggleCaptions(t)},Su=function(){const{textTrack:t}=r(this,er).$state,e=t();return!!e&&Qt(e)},xu=function(){const{hasCaptions:t}=r(this,er).$state;return!t()},g(Ty,"props",Xt.props);var Ui,bi,ky,ku,Ey;class xy extends M{constructor(){super();u(this,bi);u(this,Ui);new Xt({isPresssed:o(this,bi,ku).bind(this),keyShortcut:"toggleFullscreen",onPress:o(this,bi,ky).bind(this)})}onSetup(){d(this,Ui,N());const{fullscreen:t}=r(this,Ui).$state,e=o(this,bi,Ey).bind(this);this.setAttributes({"data-active":t,"data-supported":e,"aria-hidden":Wt(()=>!e())})}onAttach(t){t.setAttribute("data-media-tooltip","fullscreen"),xn(t,"Fullscreen")}}Ui=new WeakMap,bi=new WeakSet,ky=function(t){const e=r(this,Ui).remote,i=this.$props.target();o(this,bi,ku).call(this)?e.exitFullscreen(i,t):e.enterFullscreen(i,t)},ku=function(){const{fullscreen:t}=r(this,Ui).$state;return t()},Ey=function(){const{canFullscreen:t}=r(this,Ui).$state;return t()},g(xy,"props",{...Xt.props,target:"prefer-media"});var sr,xs,Ay,Wh,Py;class Cy extends M{constructor(){super();u(this,xs);u(this,sr);new Xt({isPresssed:o(this,xs,Wh).bind(this),keyShortcut:"toggleMuted",onPress:o(this,xs,Ay).bind(this)})}onSetup(){d(this,sr,N()),this.setAttributes({"data-muted":o(this,xs,Wh).bind(this),"data-state":o(this,xs,Py).bind(this)})}onAttach(t){t.setAttribute("data-media-mute-button",""),t.setAttribute("data-media-tooltip","mute"),xn(t,"Mute")}}sr=new WeakMap,xs=new WeakSet,Ay=function(t){const e=r(this,sr).remote;o(this,xs,Wh).call(this)?e.unmute(t):e.mute(t)},Wh=function(){const{muted:t,volume:e}=r(this,sr).$state;return t()||e()===0},Py=function(){const{muted:t,volume:e}=r(this,sr).$state,i=e();if(t()||i===0)return"muted";if(i>=.5)return"high";if(i<.5)return"low"},g(Cy,"props",Xt.props);var Ki,$i,My,Eu,Oy;class Ly extends M{constructor(){super();u(this,$i);u(this,Ki);new Xt({isPresssed:o(this,$i,Eu).bind(this),keyShortcut:"togglePictureInPicture",onPress:o(this,$i,My).bind(this)})}onSetup(){d(this,Ki,N());const{pictureInPicture:t}=r(this,Ki).$state,e=o(this,$i,Oy).bind(this);this.setAttributes({"data-active":t,"data-supported":e,"aria-hidden":Wt(()=>!e())})}onAttach(t){t.setAttribute("data-media-tooltip","pip"),xn(t,"PiP")}}Ki=new WeakMap,$i=new WeakSet,My=function(t){const e=r(this,Ki).remote;o(this,$i,Eu).call(this)?e.exitPictureInPicture(t):e.enterPictureInPicture(t)},Eu=function(){const{pictureInPicture:t}=r(this,Ki).$state;return t()},Oy=function(){const{canPictureInPicture:t}=r(this,Ki).$state;return t()},g(Ly,"props",Xt.props);var Gi,wn,Iy,Ry,Vy;class qy extends M{constructor(){super();u(this,wn);u(this,Gi);new as}onSetup(){d(this,Gi,N());const{seeking:t}=r(this,Gi).$state,{seconds:e}=this.$props,i=o(this,wn,Iy).bind(this);this.setAttributes({seconds:e,"data-seeking":t,"data-supported":i,"aria-hidden":Wt(()=>!i())})}onAttach(t){Z(t,"tabindex","0"),Z(t,"role","button"),Z(t,"type","button"),t.setAttribute("data-media-tooltip","seek"),xn(t,o(this,wn,Ry).bind(this))}onConnect(t){yn(t,o(this,wn,Vy).bind(this))}}Gi=new WeakMap,wn=new WeakSet,Iy=function(){const{canSeek:t}=r(this,Gi).$state;return t()},Ry=function(){const{seconds:t}=this.$props;return`Seek ${t()>0?"forward":"backward"} ${t()} seconds`},Vy=function(t){const{seconds:e,disabled:i}=this.$props;if(i())return;const{currentTime:a}=r(this,Gi).$state,h=a()+e();r(this,Gi).remote.seek(h,t)},g(qy,"props",{disabled:!1,seconds:30});var ir,Cl,_y;class Dy extends M{constructor(){super();u(this,Cl);u(this,ir);new as}onSetup(){d(this,ir,N());const{disabled:t}=this.$props,{live:e,liveEdge:i}=r(this,ir).$state,a=()=>!e();this.setAttributes({"data-edge":i,"data-hidden":a,"aria-disabled":Wt(()=>t()||i()),"aria-hidden":Wt(a)})}onAttach(t){Z(t,"tabindex","0"),Z(t,"role","button"),Z(t,"type","button"),t.setAttribute("data-media-tooltip","live")}onConnect(t){yn(t,o(this,Cl,_y).bind(this))}}ir=new WeakMap,Cl=new WeakSet,_y=function(t){const{disabled:e}=this.$props,{liveEdge:i}=r(this,ir).$state;e()||i()||r(this,ir).remote.seekToLiveEdge(t)},g(Dy,"props",{disabled:!1});const Or=new Sn({min:0,max:100,value:0,step:1,pointerValue:0,focused:!1,dragging:!1,pointing:!1,hidden:!1,get active(){return this.dragging||this.focused||this.pointing},get fillRate(){return Xp(this.min,this.max,this.value)},get fillPercent(){return this.fillRate*100},get pointerRate(){return Xp(this.min,this.max,this.pointerValue)},get pointerPercent(){return this.pointerRate*100}});function Xp(n,s,t){const e=s-n,i=t-n;return e>0?i/e:0}var la,ji,Al,Hy;class Ny extends He{constructor(t){super();u(this,Al);u(this,la);u(this,ji);d(this,la,t)}onConnect(t){d(this,ji,new IntersectionObserver(e=>{var i,a;(a=(i=r(this,la)).callback)==null||a.call(i,e,r(this,ji))},r(this,la))),r(this,ji).observe(t),B(o(this,Al,Hy).bind(this))}}la=new WeakMap,ji=new WeakMap,Al=new WeakSet,Hy=function(){var t;(t=r(this,ji))==null||t.disconnect(),d(this,ji,void 0)};const ip=Tn(),po=Tn();function vk(n,s,t,e){return ep(n,Ct(t,Px(e)),s)}function Tk(n,s,t,e){const i=ep(0,t,1),a=s-n,h=a*i,l=h/e,c=e*Math.round(l);return n+c}const yc={Left:-1,ArrowLeft:-1,Up:1,ArrowUp:1,Right:1,ArrowRight:1,Down:-1,ArrowDown:-1};var Bt,Qi,ca,C,Fy,zi,Qe,ei,By,Wy,Uy,Ky,Gy,Uh,Mi,ao,jy,Qy,zy,Yy,Kh,Cu,ua,si,Xy,Jy,Au,Pu,Zy,tb,Pl;class Sk extends He{constructor(t,e){super();u(this,C);u(this,Bt);u(this,Qi);u(this,ca);u(this,zi,null);u(this,Qe,null);u(this,ei,null);u(this,ua);u(this,si,!1);u(this,Pl,Lr(t=>{o(this,C,Mi).call(this,o(this,C,ao).call(this,t),t)},20,{leading:!0}));d(this,Bt,t),d(this,Qi,e)}onSetup(){Se(po)&&d(this,ca,dt(po))}onConnect(t){y(o(this,C,Uy).bind(this,t)),y(o(this,C,Ky).bind(this,t)),r(this,Bt).swipeGesture&&y(o(this,C,Fy).bind(this))}}Bt=new WeakMap,Qi=new WeakMap,ca=new WeakMap,C=new WeakSet,Fy=function(){var e;const{pointer:t}=r(this,Qi).$state;if(t()!=="coarse"||!r(this,Bt).swipeGesture()){d(this,zi,null);return}d(this,zi,(e=r(this,Qi).player.el)==null?void 0:e.querySelector("media-provider,[data-media-provider]")),r(this,zi)&&new ht(r(this,zi)).add("touchstart",o(this,C,By).bind(this),{passive:!0}).add("touchmove",o(this,C,Wy).bind(this),{passive:!1})},zi=new WeakMap,Qe=new WeakMap,ei=new WeakMap,By=function(t){d(this,Qe,t.touches[0])},Wy=function(t){if(Ss(r(this,Qe))||Zd(t))return;const e=t.touches[0],i=e.clientX-r(this,Qe).clientX,a=e.clientY-r(this,Qe).clientY,h=this.$state.dragging();!h&&Math.abs(a)>5||h||(t.preventDefault(),Math.abs(i)>20&&(d(this,Qe,e),d(this,ei,this.$state.value()),o(this,C,Kh).call(this,r(this,ei),t)))},Uy=function(t){const{hidden:e}=this.$props;qt(t,"focus",o(this,C,Gy).bind(this)),!(e()||r(this,Bt).isDisabled())&&new ht(t).add("keyup",o(this,C,Jy).bind(this)).add("keydown",o(this,C,Xy).bind(this)).add("pointerenter",o(this,C,jy).bind(this)).add("pointermove",o(this,C,Qy).bind(this)).add("pointerleave",o(this,C,zy).bind(this)).add("pointerdown",o(this,C,Yy).bind(this))},Ky=function(t){r(this,Bt).isDisabled()||!this.$state.dragging()||new ht(document).add("pointerup",o(this,C,Zy).bind(this),{capture:!0}).add("pointermove",r(this,Pl).bind(this)).add("touchmove",o(this,C,tb).bind(this),{passive:!1})},Gy=function(){o(this,C,Mi).call(this,this.$state.value())},Uh=function(t,e){var f,m,b,$;const{value:i,min:a,max:h,dragging:l}=this.$state,c=Math.max(a(),Math.min(t,h()));i.set(c);const p=this.createEvent("value-change",{detail:c,trigger:e});if(this.dispatch(p),(m=(f=r(this,Bt)).onValueChange)==null||m.call(f,p),l()){const v=this.createEvent("drag-value-change",{detail:c,trigger:e});this.dispatch(v),($=(b=r(this,Bt)).onDragValueChange)==null||$.call(b,v)}},Mi=function(t,e){const{pointerValue:i,dragging:a}=this.$state;i.set(t),this.dispatch("pointer-value-change",{detail:t,trigger:e}),a()&&o(this,C,Uh).call(this,t,e)},ao=function(t){let e,i=this.el.getBoundingClientRect(),{min:a,max:h}=this.$state;if(this.$props.orientation()==="vertical"){const{bottom:l,height:c}=i;e=(l-t.clientY)/c}else if(r(this,Qe)&&qe(r(this,ei))){const{width:l}=r(this,zi).getBoundingClientRect(),c=(t.clientX-r(this,Qe).clientX)/l,p=h()-a(),f=p*Math.abs(c);e=(c<0?r(this,ei)-f:r(this,ei)+f)/p}else{const{left:l,width:c}=i;e=(t.clientX-l)/c}return Math.max(a(),Math.min(h(),r(this,Bt).roundValue(Tk(a(),h(),e,r(this,Bt).getStep()))))},jy=function(t){this.$state.pointing.set(!0)},Qy=function(t){const{dragging:e}=this.$state;e()||o(this,C,Mi).call(this,o(this,C,ao).call(this,t),t)},zy=function(t){this.$state.pointing.set(!1)},Yy=function(t){if(t.button!==0)return;const e=o(this,C,ao).call(this,t);o(this,C,Kh).call(this,e,t),o(this,C,Mi).call(this,e,t)},Kh=function(t,e){var h,l,c,p;const{dragging:i}=this.$state;if(i())return;i.set(!0),r(this,Qi).remote.pauseControls(e);const a=this.createEvent("drag-start",{detail:t,trigger:e});this.dispatch(a),(l=(h=r(this,Bt)).onDragStart)==null||l.call(h,a),(p=(c=r(this,ca))==null?void 0:c.onDragStart)==null||p.call(c)},Cu=function(t,e){var h,l,c,p;const{dragging:i}=this.$state;if(!i())return;i.set(!1),r(this,Qi).remote.resumeControls(e);const a=this.createEvent("drag-end",{detail:t,trigger:e});this.dispatch(a),(l=(h=r(this,Bt)).onDragEnd)==null||l.call(h,a),d(this,Qe,null),d(this,ei,null),(p=(c=r(this,ca))==null?void 0:c.onDragEnd)==null||p.call(c)},ua=new WeakMap,si=new WeakMap,Xy=function(t){if(!Object.keys(yc).includes(t.key))return;const{key:i}=t,a=o(this,C,Au).call(this,t);if(!Ss(a)){o(this,C,Mi).call(this,a,t),o(this,C,Uh).call(this,a,t);return}const h=o(this,C,Pu).call(this,t);r(this,si)||(d(this,si,i===r(this,ua)),!this.$state.dragging()&&r(this,si)&&o(this,C,Kh).call(this,h,t)),o(this,C,Mi).call(this,h,t),d(this,ua,i)},Jy=function(t){if(!Object.keys(yc).includes(t.key)||!Ss(o(this,C,Au).call(this,t)))return;const i=r(this,si)?this.$state.pointerValue():o(this,C,Pu).call(this,t);o(this,C,Uh).call(this,i,t),o(this,C,Cu).call(this,i,t),d(this,ua,""),d(this,si,!1)},Au=function(t){let e=t.key,{min:i,max:a}=this.$state;return e==="Home"||e==="PageUp"?i():e==="End"||e==="PageDown"?a():!t.metaKey&&/^[0-9]$/.test(e)?(a()-i())/10*Number(e):null},Pu=function(t){var q,F;const{key:e,shiftKey:i}=t;t.preventDefault(),t.stopPropagation();const{shiftKeyMultiplier:a}=this.$props,{min:h,max:l,value:c,pointerValue:p}=this.$state,f=r(this,Bt).getStep(),m=r(this,Bt).getKeyStep(),b=i?m*a():m,$=Number(yc[e]),v=b*$,S=r(this,si)?p():((F=(q=r(this,Bt)).getValue)==null?void 0:F.call(q))??c(),k=(S+v)/f;return Math.max(h(),Math.min(l(),Number((f*k).toFixed(3))))},Zy=function(t){if(t.button!==0)return;t.preventDefault(),t.stopImmediatePropagation();const e=o(this,C,ao).call(this,t);o(this,C,Mi).call(this,e,t),o(this,C,Cu).call(this,e,t)},tb=function(t){t.preventDefault()},Pl=new WeakMap;const Ua=Tn(()=>({}));var _o,re,No,Ho,It,eb,sb,ib,nb,rb,ab,ob,hb,Ll;class xe extends He{constructor(t){super();u(this,It);u(this,_o);u(this,re);u(this,No,D(!0));u(this,Ho,D(!0));u(this,Ll,Ya((t,e)=>{var i,a;(i=this.el)==null||i.style.setProperty("--slider-fill",t+"%"),(a=this.el)==null||a.style.setProperty("--slider-pointer",e+"%")}));d(this,re,t)}onSetup(){d(this,_o,N());const t=new as;t.attach(this),this.$state.focused=t.focused.bind(t),Se(Ua)||Te(Ua,{default:"value"}),Te(ip,{orientation:this.$props.orientation,disabled:r(this,re).isDisabled,preview:D(null)}),y(o(this,It,ib).bind(this)),y(o(this,It,nb).bind(this)),y(o(this,It,rb).bind(this)),o(this,It,ob).call(this),new Sk(r(this,re),r(this,_o)).attach(this),new Ny({callback:o(this,It,eb).bind(this)}).attach(this)}onAttach(t){Z(t,"role","slider"),Z(t,"tabindex","0"),Z(t,"autocomplete","off"),y(o(this,It,hb).bind(this))}onConnect(t){B(sm(t,r(this,No).set)),y(o(this,It,sb).bind(this))}}_o=new WeakMap,re=new WeakMap,No=new WeakMap,Ho=new WeakMap,It=new WeakSet,eb=function(t){r(this,Ho).set(t[0].isIntersecting)},sb=function(){const{hidden:t}=this.$props;this.$state.hidden.set(t()||!r(this,No).call(this)||!r(this,Ho).bind(this))},ib=function(){const{dragging:t,value:e,min:i,max:a}=this.$state;T(t)||e.set(vk(i(),a(),e(),r(this,re).getStep()))},nb=function(){this.$state.step.set(r(this,re).getStep())},rb=function(){if(!r(this,re).isDisabled())return;const{dragging:t,pointing:e}=this.$state;t.set(!1),e.set(!1)},ab=function(){return ol(r(this,re).isDisabled())},ob=function(){const{orientation:t}=this.$props,{dragging:e,active:i,pointing:a}=this.$state;this.setAttributes({"data-dragging":e,"data-pointing":a,"data-active":i,"aria-disabled":o(this,It,ab).bind(this),"aria-valuemin":r(this,re).aria.valueMin??this.$state.min,"aria-valuemax":r(this,re).aria.valueMax??this.$state.max,"aria-valuenow":r(this,re).aria.valueNow,"aria-valuetext":r(this,re).aria.valueText,"aria-orientation":t})},hb=function(){const{fillPercent:t,pointerPercent:e}=this.$state;r(this,Ll).call(this,Ct(t(),3),Ct(e(),3))},Ll=new WeakMap,g(xe,"props",{hidden:!1,disabled:!1,step:1,keyStep:1,orientation:"horizontal",shiftKeyMultiplier:5});var Rs,lb,cb,ub,db;class kr extends M{constructor(){super();u(this,Rs);new xe({getStep:this.$props.step,getKeyStep:this.$props.keyStep,roundValue:Math.round,isDisabled:this.$props.disabled,aria:{valueNow:o(this,Rs,lb).bind(this),valueText:o(this,Rs,cb).bind(this)}})}onSetup(){y(o(this,Rs,ub).bind(this)),y(o(this,Rs,db).bind(this))}}Rs=new WeakSet,lb=function(){const{value:t}=this.$state;return Math.round(t())},cb=function(){const{value:t,max:e}=this.$state;return Ct(t()/e()*100,2)+"%"},ub=function(){const{value:t}=this.$props;this.$state.value.set(t())},db=function(){const{min:t,max:e}=this.$props;this.$state.min.set(t()),this.$state.max.set(e())},g(kr,"props",{...xe.props,min:0,max:100,value:0}),g(kr,"state",Or);const Ns=new Map,Ih=new Map;var Fo,da,Bo,ft,pb,fb,Mu,Ou,qu,Iu,mb,Gh;const vp=class vp{constructor(s,t,e){u(this,ft);u(this,Fo);u(this,da);u(this,Bo);g(this,"$images",D([]));d(this,da,s),d(this,Bo,t),d(this,Fo,e),y(o(this,ft,pb).bind(this))}static create(s,t){const e=N();return new vp(s,t,e)}};Fo=new WeakMap,da=new WeakMap,Bo=new WeakMap,ft=new WeakSet,pb=function(){var e;const{canLoad:s}=r(this,Fo).$state;if(!s())return;const t=r(this,da).call(this);if(t){if(V(t)&&Ns.has(t)){const i=Ns.get(t);if(Ns.delete(t),Ns.set(t,i),Ns.size>99){const a=Ns.keys().next().value;Ns.delete(a)}this.$images.set(Ns.get(t))}else if(V(t)){const i=r(this,Bo).call(this),a=t+"::"+i;if(!Ih.has(a)){const h=new Promise(async(l,c)=>{try{const p=await fetch(t,{credentials:uo(i)});if(p.headers.get("content-type")==="application/json"){const m=await p.json();if(jt(m))if(m[0]&&"text"in m[0])l(o(this,ft,Ou).call(this,m));else{for(let b=0;b<m.length;b++){const $=m[b];_s(vS($),!1),_s("url"in $&&V($.url),!1),_s("startTime"in $&&qe($.startTime),!1)}l(m)}else l(o(this,ft,Mu).call(this,m));return}fe(()=>import("./prod-5GFtKBEw.js").then(m=>m.d),[]).then(async({parseResponse:m})=>{try{const{cues:b}=await m(p);l(o(this,ft,Ou).call(this,b))}catch(b){c(b)}})}catch(p){c(p)}}).then(l=>(Ns.set(a,l),l)).catch(l=>{o(this,ft,Gh).call(this,t,l)}).finally(()=>{V(a)&&Ih.delete(a)});Ih.set(a,h)}(e=Ih.get(a))==null||e.then(h=>{this.$images.set(h||[])})}else if(jt(t))try{this.$images.set(o(this,ft,fb).call(this,t))}catch(i){o(this,ft,Gh).call(this,t,i)}else try{this.$images.set(o(this,ft,Mu).call(this,t))}catch(i){o(this,ft,Gh).call(this,t,i)}return()=>{this.$images.set([])}}},fb=function(s){const t=o(this,ft,qu).call(this);return s.map((e,i)=>(_s(e.url&&V(e.url)),_s("startTime"in e&&qe(e.startTime)),{...e,url:V(e.url)?o(this,ft,Iu).call(this,e.url,t):e.url}))},Mu=function(s){var h;_s(V(s.url)),_s(jt(s.tiles)&&((h=s.tiles)==null?void 0:h.length));const t=new URL(s.url),e=[],i="tile_width"in s?s.tile_width:s.tileWidth,a="tile_height"in s?s.tile_height:s.tileHeight;for(const l of s.tiles)e.push({url:t,startTime:"start"in l?l.start:l.startTime,width:i,height:a,coords:{x:l.x,y:l.y}});return e},Ou=function(s){for(let i=0;i<s.length;i++){const a=s[i];_s("startTime"in a&&qe(a.startTime)),_s("text"in a&&V(a.text))}const t=[],e=o(this,ft,qu).call(this);for(const i of s){const[a,h]=i.text.split("#"),l=o(this,ft,mb).call(this,h);t.push({url:o(this,ft,Iu).call(this,a,e),startTime:i.startTime,endTime:i.endTime,width:l==null?void 0:l.w,height:l==null?void 0:l.h,coords:l&&qe(l.x)&&qe(l.y)?{x:l.x,y:l.y}:void 0})}return t},qu=function(){let s=T(r(this,da));return!V(s)||!/^https?:/.test(s)?location.href:s},Iu=function(s,t){return/^https?:/.test(s)?new URL(s):new URL(s,t)},mb=function(s){if(!s)return{};const[t,e]=s.split("="),i=e==null?void 0:e.split(","),a={};if(!t||!i)return null;for(let h=0;h<t.length;h++){const l=+i[h];isNaN(l)||(a[t[h]]=l)}return a},Gh=function(s,t){};let Lu=vp;var pa,fa,G,gb,Vu,yb,bb,$b,wb,Du,vb,Tb,_u,Oi,Sb;class Ru extends M{constructor(){super(...arguments);u(this,G);g(this,"media");u(this,pa);u(this,fa,[])}onSetup(){this.media=N(),d(this,pa,Lu.create(this.$props.src,this.$state.crossOrigin)),o(this,G,Vu).call(this),this.setAttributes({"data-loading":o(this,G,wb).bind(this),"data-error":o(this,G,Du).bind(this),"data-hidden":this.$state.hidden,"aria-hidden":Wt(this.$state.hidden)})}onConnect(t){y(o(this,G,gb).bind(this)),y(o(this,G,vb).bind(this)),y(o(this,G,Vu).bind(this)),y(o(this,G,yb).bind(this)),y(o(this,G,Tb).bind(this)),y(o(this,G,_u).bind(this))}getTime(){return this.$props.time()}}pa=new WeakMap,fa=new WeakMap,G=new WeakSet,gb=function(){const t=this.$state.img();t&&new ht(t).add("load",o(this,G,bb).bind(this)).add("error",o(this,G,$b).bind(this))},Vu=function(){const{crossOrigin:t}=this.$props,{crossOrigin:e}=this.$state,{crossOrigin:i}=this.media.$state,a=t()!==null?t():i();e.set(a===!0?"anonymous":a)},yb=function(){const{src:t,loading:e,error:i}=this.$state;return t()&&(e.set(!0),i.set(null)),()=>{o(this,G,Sb).call(this),e.set(!1),i.set(null)}},bb=function(){const{loading:t,error:e}=this.$state;o(this,G,_u).call(this),t.set(!1),e.set(null)},$b=function(t){const{loading:e,error:i}=this.$state;e.set(!1),i.set(t)},wb=function(){const{loading:t,hidden:e}=this.$state;return!e()&&t()},Du=function(){const{error:t}=this.$state;return!Ss(t())},vb=function(){const{hidden:t}=this.$state,{duration:e}=this.media.$state,i=r(this,pa).$images();t.set(o(this,G,Du).call(this)||!Number.isFinite(e())||i.length===0)},Tb=function(){let t=r(this,pa).$images();if(!t.length)return;let e=this.getTime(),{src:i,activeThumbnail:a}=this.$state,h=-1,l=null;for(let c=t.length-1;c>=0;c--){const p=t[c];if(e>=p.startTime&&(!p.endTime||e<p.endTime)){h=c;break}}t[h]&&(l=t[h]),a.set(l),i.set((l==null?void 0:l.url.href)||"")},_u=function(){if(!this.scope||this.$state.hidden())return;const t=this.el,e=this.$state.img(),i=this.$state.activeThumbnail();if(!e||!i||!t)return;let a=i.width??e.naturalWidth,h=(i==null?void 0:i.height)??e.naturalHeight,{maxWidth:l,maxHeight:c,minWidth:p,minHeight:f,width:m,height:b}=getComputedStyle(this.el);p==="100%"&&(p=parseFloat(m)+""),f==="100%"&&(f=parseFloat(b)+"");let $=Math.max(parseInt(p)/a,parseInt(f)/h),v=Math.min(Math.max(parseInt(p),parseInt(l))/a,Math.max(parseInt(f),parseInt(c))/h),S=!isNaN(v)&&v<1?v:$>1?$:1;o(this,G,Oi).call(this,t,"--thumbnail-width",`${a*S}px`),o(this,G,Oi).call(this,t,"--thumbnail-height",`${h*S}px`),o(this,G,Oi).call(this,t,"--thumbnail-aspect-ratio",String(Ct(a/h,5))),o(this,G,Oi).call(this,e,"width",`${e.naturalWidth*S}px`),o(this,G,Oi).call(this,e,"height",`${e.naturalHeight*S}px`),o(this,G,Oi).call(this,e,"transform",i.coords?`translate(-${i.coords.x*S}px, -${i.coords.y*S}px)`:""),o(this,G,Oi).call(this,e,"max-width","none")},Oi=function(t,e,i){t.style.setProperty(e,i),r(this,fa).push(()=>t.style.removeProperty(e))},Sb=function(){for(const t of r(this,fa))t();d(this,fa,[])},g(Ru,"props",{src:null,time:0,crossOrigin:null}),g(Ru,"state",new Sn({src:"",img:null,thumbnails:[],activeThumbnail:null,crossOrigin:null,loading:!1,error:null,hidden:!1}));var Yi,Ml,Wo;class np extends M{constructor(){super(...arguments);u(this,Yi);u(this,Ml);u(this,Wo)}onSetup(){d(this,Wo,za(kr.state)),d(this,Yi,dt(Ua)),d(this,Ml,ss(this.getValueText.bind(this)))}getValueText(){var S,k;const{type:t,format:e,decimalPlaces:i,padHours:a,padMinutes:h,showHours:l,showMs:c}=this.$props,{value:p,pointerValue:f,min:m,max:b}=r(this,Wo),$=(e==null?void 0:e())??r(this,Yi).default,v=t()==="current"?p():f();if($==="percent"){const q=b()-m(),F=v/q*100;return(r(this,Yi).percent??Ct)(F,i())+"%"}else return $==="time"?(r(this,Yi).time??sc)(v,{padHrs:a(),padMins:h(),showHrs:l(),showMs:c()}):(((k=(S=r(this,Yi)).value)==null?void 0:k.call(S,v))??v.toFixed(2))+""}}Yi=new WeakMap,Ml=new WeakMap,Wo=new WeakMap,g(np,"props",{type:"pointer",format:null,showHours:!1,showMs:!1,padHours:null,padMinutes:null,decimalPlaces:2});const xk=np.prototype;gt(xk,"getValueText");var ma,Uo;class xb extends M{constructor(){super(...arguments);u(this,ma);u(this,Uo,Ya(()=>{const{disabled:t,orientation:e}=r(this,ma);if(t())return;const i=this.el,{offset:a,noClamp:h}=this.$props;i&&kk(i,{clamp:!h(),offset:a(),orientation:e()})}))}onSetup(){d(this,ma,dt(ip));const{active:t}=za(kr.state);this.setAttributes({"data-visible":t})}onAttach(t){Object.assign(t.style,{position:"absolute",top:0,left:0,width:"max-content"})}onConnect(t){const{preview:e}=r(this,ma);e.set(t),B(()=>e.set(null)),y(r(this,Uo).bind(this));const i=new ResizeObserver(r(this,Uo).bind(this));i.observe(t),B(()=>i.disconnect())}}ma=new WeakMap,Uo=new WeakMap,g(xb,"props",{offset:0,noClamp:!1});function kk(n,{clamp:s,offset:t,orientation:e}){const i=getComputedStyle(n),a=parseFloat(i.width),h=parseFloat(i.height),l={top:null,right:null,bottom:null,left:null};if(l[e==="horizontal"?"bottom":"left"]=`calc(100% + var(--media-slider-preview-offset, ${t}px))`,e==="horizontal"){const c=a/2;if(!s)l.left=`calc(var(--slider-pointer) - ${c}px)`;else{const p=`max(0px, calc(var(--slider-pointer) - ${c}px))`,f=`calc(100% - ${a}px)`;l.left=`min(${p}, ${f})`}}else{const c=h/2;if(!s)l.bottom=`calc(var(--slider-pointer) - ${c}px)`;else{const p=`max(${c}px, calc(var(--slider-pointer) - ${c}px))`,f=`calc(100% - ${h}px)`;l.bottom=`min(${p}, ${f})`}}Object.assign(n.style,l)}var Le,Rt,kb,Eb,Cb,Ab,Pb,Ko,Lb,Mb,Ob;class Nu extends M{constructor(){super(...arguments);u(this,Rt);u(this,Le);u(this,Ko,Lr(o(this,Rt,Lb).bind(this),25))}onSetup(){d(this,Le,N());const{audioGain:t}=r(this,Le).$state;Te(Ua,{default:"percent",value(e){return(e*(t()??1)).toFixed(2)},percent(e){return Math.round(e*(t()??1))}}),new xe({getStep:this.$props.step,getKeyStep:this.$props.keyStep,roundValue:Math.round,isDisabled:o(this,Rt,Ab).bind(this),aria:{valueMax:o(this,Rt,Cb).bind(this),valueNow:o(this,Rt,kb).bind(this),valueText:o(this,Rt,Eb).bind(this)},onDragValueChange:o(this,Rt,Ob).bind(this),onValueChange:o(this,Rt,Mb).bind(this)}).attach(this),y(o(this,Rt,Pb).bind(this))}onAttach(t){t.setAttribute("data-media-volume-slider",""),Z(t,"aria-label","Volume");const{canSetVolume:e}=r(this,Le).$state;this.setAttributes({"data-supported":e,"aria-hidden":Wt(()=>!e())})}}Le=new WeakMap,Rt=new WeakSet,kb=function(){const{value:t}=this.$state,{audioGain:e}=r(this,Le).$state;return Math.round(t()*(e()??1))},Eb=function(){const{value:t,max:e}=this.$state,{audioGain:i}=r(this,Le).$state;return Ct(t()/e()*(i()??1)*100,2)+"%"},Cb=function(){const{audioGain:t}=r(this,Le).$state;return this.$state.max()*(t()??1)},Ab=function(){const{disabled:t}=this.$props,{canSetVolume:e}=r(this,Le).$state;return t()||!e()},Pb=function(){const{muted:t,volume:e}=r(this,Le).$state,i=t()?0:e()*100;this.$state.value.set(i),this.dispatch("value-change",{detail:i})},Ko=new WeakMap,Lb=function(t){if(!t.trigger)return;const e=Ct(t.detail/100,3);r(this,Le).remote.changeVolume(e,t)},Mb=function(t){r(this,Ko).call(this,t)},Ob=function(t){r(this,Ko).call(this,t)},g(Nu,"props",{...xe.props,keyStep:5,shiftKeyMultiplier:2}),g(Nu,"state",Or);var ut,ga,Go,A,qb,Ib,Rb,Vb,Db,Hu,_b,ya,Nb,Hb,Fu,Fb,Bu,Bb,Wb,Ub,Kb,Gb,jb,En,Qb,zb,Yb;class yl extends M{constructor(){super();u(this,A);u(this,ut);u(this,ga);u(this,Go,D(null));u(this,ya,!1);const{noSwipeGesture:t}=this.$props;new xe({swipeGesture:()=>!t(),getValue:o(this,A,Bu).bind(this),getStep:o(this,A,Bb).bind(this),getKeyStep:o(this,A,Wb).bind(this),roundValue:o(this,A,Ub),isDisabled:o(this,A,Kb).bind(this),aria:{valueNow:o(this,A,Gb).bind(this),valueText:o(this,A,jb).bind(this)},onDragStart:o(this,A,Nb).bind(this),onDragValueChange:o(this,A,Hb).bind(this),onDragEnd:o(this,A,Fu).bind(this),onValueChange:o(this,A,Fb).bind(this)})}onSetup(){d(this,ut,N()),Te(Ua,{default:"time",value:o(this,A,zb).bind(this),time:o(this,A,Yb).bind(this)}),this.setAttributes({"data-chapters":o(this,A,Ib).bind(this)}),this.setStyles({"--slider-progress":o(this,A,qb).bind(this)}),y(o(this,A,Vb).bind(this)),y(o(this,A,Rb).bind(this))}onAttach(t){t.setAttribute("data-media-time-slider",""),Z(t,"aria-label","Seek")}onConnect(t){y(o(this,A,Db).bind(this)),Zl(r(this,ut).textTracks,"chapters",r(this,Go).set)}}ut=new WeakMap,ga=new WeakMap,Go=new WeakMap,A=new WeakSet,qb=function(){const{bufferedEnd:t,duration:e}=r(this,ut).$state;return Ct(Math.min(t()/Math.max(e(),1),1)*100,3)+"%"},Ib=function(){var e;const{duration:t}=r(this,ut).$state;return((e=r(this,Go).call(this))==null?void 0:e.cues.length)&&Number.isFinite(t())&&t()>0},Rb=function(){d(this,ga,Lr(o(this,A,Hu).bind(this),this.$props.seekingRequestThrottle()))},Vb=function(){if(this.$state.hidden())return;const{value:t,dragging:e}=this.$state,i=o(this,A,Bu).call(this);T(e)||(t.set(i),this.dispatch("value-change",{detail:i}))},Db=function(){const t=r(this,ut).player.el,{preview:e}=dt(ip);t&&e()&&E(t,"data-preview",this.$state.active())},Hu=function(t,e){r(this,ut).remote.seeking(t,e)},_b=function(t,e,i){r(this,ga).cancel();const{live:a}=r(this,ut).$state;if(a()&&e>=99){r(this,ut).remote.seekToLiveEdge(i);return}r(this,ut).remote.seek(t,i)},ya=new WeakMap,Nb=function(t){const{pauseWhileDragging:e}=this.$props;if(e()){const{paused:i}=r(this,ut).$state;d(this,ya,!i()),r(this,ut).remote.pause(t)}},Hb=function(t){r(this,ga).call(this,o(this,A,En).call(this,t.detail),t)},Fu=function(t){const{seeking:e}=r(this,ut).$state;T(e)||o(this,A,Hu).call(this,o(this,A,En).call(this,t.detail),t);const i=t.detail;o(this,A,_b).call(this,o(this,A,En).call(this,i),i,t);const{pauseWhileDragging:a}=this.$props;a()&&r(this,ya)&&(r(this,ut).remote.play(t),d(this,ya,!1))},Fb=function(t){const{dragging:e}=this.$state;e()||!t.trigger||o(this,A,Fu).call(this,t)},Bu=function(){const{currentTime:t}=r(this,ut).$state;return o(this,A,Qb).call(this,t())},Bb=function(){const t=this.$props.step()/r(this,ut).$state.duration()*100;return Number.isFinite(t)?t:1},Wb=function(){const t=this.$props.keyStep()/r(this,ut).$state.duration()*100;return Number.isFinite(t)?t:1},Ub=function(t){return Ct(t,3)},Kb=function(){const{disabled:t}=this.$props,{canSeek:e}=r(this,ut).$state;return t()||!e()},Gb=function(){const{value:t}=this.$state;return Math.round(t())},jb=function(){const t=o(this,A,En).call(this,this.$state.value()),{duration:e}=r(this,ut).$state;return Number.isFinite(t)?`${gl(t)} out of ${gl(e())}`:"live"},En=function(t){const{duration:e}=r(this,ut).$state;return Ct(t/100*e(),5)},Qb=function(t){const{liveEdge:e,duration:i}=r(this,ut).$state,a=Math.max(0,Math.min(1,e()?1:Math.min(t,i())/i()));return Number.isNaN(a)?0:Number.isFinite(a)?a*100:100},zb=function(t){const e=o(this,A,En).call(this,t),{live:i,duration:a}=r(this,ut).$state;return Number.isFinite(e)?(i()?e-a():e).toFixed(0):"LIVE"},Yb=function(t,e){const i=o(this,A,En).call(this,t),{live:a,duration:h}=r(this,ut).$state,l=a()?i-h():i;return Number.isFinite(i)?`${l<0?"-":""}${sc(Math.abs(l),e)}`:"LIVE"},g(yl,"props",{...xe.props,step:.1,keyStep:5,shiftKeyMultiplier:2,pauseWhileDragging:!1,noSwipeGesture:!1,seekingRequestThrottle:100}),g(yl,"state",Or);const At=Tn();function Ek(n,s){const t=KS(n,s);for(const{el:e,top:i,left:a}of t)e.scroll({top:i,left:a,behavior:s.behavior})}function Ck(n,s={}){Ek(n,{scrollMode:"if-needed",block:"center",inline:"center",...s})}const Ak=["a[href]","[tabindex]","input","select","button"].map(n=>`${n}:not([aria-hidden='true'])`).join(","),Pk=new Set(["Escape","Tab","ArrowUp","ArrowDown","Home","PageUp","End","PageDown","Enter"," "]);var Xi,ze,ae,jo,rt,Cn,Wu,Xb,Uu,Jb,Zb,jh,t$;class Lk{constructor(s){u(this,rt);u(this,Xi,-1);u(this,ze,null);u(this,ae,[]);u(this,jo);d(this,jo,s)}get items(){return r(this,ae)}attachMenu(s){qt(s,"focus",o(this,rt,Xb).bind(this)),d(this,ze,s),B(()=>{d(this,ze,null)})}listen(){r(this,ze)&&(this.update(),new ht(r(this,ze)).add("keyup",o(this,rt,Jb).bind(this)).add("keydown",o(this,rt,Zb).bind(this)),B(()=>{d(this,Xi,-1),d(this,ae,[])}))}update(){d(this,Xi,0),d(this,ae,o(this,rt,t$).call(this))}scroll(s=o(this,rt,Wu).call(this)){const t=r(this,ae)[s];t&&requestAnimationFrame(()=>{requestAnimationFrame(()=>{Ck(t,{behavior:"smooth",boundary:e=>!e.hasAttribute("data-root")})})})}focusActive(s=!0){const t=o(this,rt,Wu).call(this);o(this,rt,Cn).call(this,t>=0?t:0,s)}}Xi=new WeakMap,ze=new WeakMap,ae=new WeakMap,jo=new WeakMap,rt=new WeakSet,Cn=function(s,t=!0){var e;d(this,Xi,s),r(this,ae)[s]?(r(this,ae)[s].focus({preventScroll:!0}),t&&this.scroll(s)):(e=r(this,ze))==null||e.focus({preventScroll:!0})},Wu=function(){return r(this,ae).findIndex(s=>document.activeElement===s||s.getAttribute("role")==="menuitemradio"&&s.getAttribute("aria-checked")==="true")},Xb=function(){r(this,Xi)>=0||(this.update(),this.focusActive())},Uu=function(s){const t=s.target;if(AS(s)&&t instanceof Element){const e=t.getAttribute("role");return!/a|input|select|button/.test(t.localName)&&!e}return Pk.has(s.key)},Jb=function(s){o(this,rt,Uu).call(this,s)&&(s.stopPropagation(),s.preventDefault())},Zb=function(s){if(o(this,rt,Uu).call(this,s))switch(s.stopPropagation(),s.preventDefault(),s.key){case"Escape":r(this,jo).closeMenu(s);break;case"Tab":o(this,rt,Cn).call(this,o(this,rt,jh).call(this,s.shiftKey?-1:1));break;case"ArrowUp":o(this,rt,Cn).call(this,o(this,rt,jh).call(this,-1));break;case"ArrowDown":o(this,rt,Cn).call(this,o(this,rt,jh).call(this,1));break;case"Home":case"PageUp":o(this,rt,Cn).call(this,0);break;case"End":case"PageDown":o(this,rt,Cn).call(this,r(this,ae).length-1);break}},jh=function(s){var e;let t=r(this,Xi);do t=(t+s+r(this,ae).length)%r(this,ae).length;while(((e=r(this,ae)[t])==null?void 0:e.offsetParent)===null);return t},t$=function(){if(!r(this,ze))return[];const s=r(this,ze).querySelectorAll(Ak),t=[],e=i=>i.getAttribute("role")==="menu";for(const i of s)xr(i)&&i.offsetParent!==null&&im(r(this,ze),i,e)&&t.push(i);return t};var Mk=Object.defineProperty,Ok=Object.getOwnPropertyDescriptor,$h=(n,s,t,e)=>{for(var i=Ok(s,t),a=n.length-1,h;a>=0;a--)(h=n[a])&&(i=h(s,t,i)||i);return i&&Mk(s,t,i),i};let qk=0;var Ye,ba,$a,Zt,Qo,ms,Mt,Ji,Zi,nr,rr,ii,ar,zo,or,I,e$,s$,i$,n$,r$,Ku,a$,wa,o$,Gu,h$,oo,l$,c$,u$,d$,p$,f$,Ol,m$,va,ql,g$,Il,y$,Ta,Sa,b$;class qr extends M{constructor(){super();u(this,I);u(this,Ye);u(this,ba);u(this,$a);u(this,Zt,D(!1));u(this,Qo,D(!1));u(this,ms,D(null));u(this,Mt,D(null));u(this,Ji);u(this,Zi,new Set);u(this,nr,null);u(this,rr);u(this,ii);u(this,ar,!1);u(this,zo,D(!1));u(this,or,new Set);u(this,wa,!1);u(this,Ol,o(this,I,m$).bind(this));u(this,va,!1);u(this,ql,o(this,I,g$).bind(this));u(this,Il,o(this,I,y$).bind(this));u(this,Ta,Ya(()=>{const t=T(r(this,Mt));if(!t)return;let e=0,i=getComputedStyle(t),a=[...t.children];for(const h of["paddingTop","paddingBottom","borderTopWidth","borderBottomWidth"])e+=parseFloat(i[h])||0;for(const h of a)if(xr(h)&&h.style.display==="contents")a.push(...h.children);else if(h.nodeType===3)e+=parseFloat(getComputedStyle(h).fontSize);else if(xr(h)){if(!em(h))continue;const l=getComputedStyle(h);e+=h.offsetHeight+(parseFloat(l.marginTop)||0)+(parseFloat(l.marginBottom)||0)}pe(t,"--menu-height",e+"px")}));u(this,Sa,!1);const{showDelay:t}=this.$props;d(this,rr,new ly({trigger:r(this,ms),content:r(this,Mt),showDelay:t,listen:(e,i,a)=>{yn(e,l=>{r(this,Zt).call(this)?a(l):i(l)});const h=o(this,I,d$).call(this);h&&yn(h,l=>{l.stopPropagation(),a(l)})},onChange:o(this,I,o$).bind(this)}))}get triggerElement(){return r(this,ms).call(this)}get contentElement(){return r(this,Mt).call(this)}get isSubmenu(){return!!r(this,Ji)}onSetup(){d(this,Ye,N());const t=++qk;d(this,ba,`media-menu-${t}`),d(this,$a,`media-menu-button-${t}`),d(this,ii,new Lk({closeMenu:this.close.bind(this)})),Se(At)&&d(this,Ji,dt(At)),o(this,I,e$).call(this),this.setAttributes({"data-open":r(this,Zt),"data-root":!this.isSubmenu,"data-submenu":this.isSubmenu,"data-disabled":o(this,I,oo).bind(this)}),Te(At,{button:r(this,ms),content:r(this,Mt),expanded:r(this,Zt),hint:D(""),submenu:!!r(this,Ji),disable:o(this,I,l$).bind(this),attachMenuButton:o(this,I,i$).bind(this),attachMenuItems:o(this,I,n$).bind(this),attachObserver:o(this,I,r$).bind(this),disableMenuButton:o(this,I,a$).bind(this),addSubmenu:o(this,I,f$).bind(this),onTransitionEvent:e=>{r(this,or).add(e),B(()=>{r(this,or).delete(e)})}})}onAttach(t){t.style.setProperty("display","contents")}onConnect(t){var e;y(o(this,I,s$).bind(this)),this.isSubmenu&&((e=r(this,Ji))==null||e.addSubmenu(this))}onDestroy(){r(this,ms).set(null),r(this,Mt).set(null),d(this,nr,null),r(this,or).clear()}open(t){T(r(this,Zt))||(r(this,rr).show(t),fi())}close(t){T(r(this,Zt))&&(r(this,rr).hide(t),fi())}}Ye=new WeakMap,ba=new WeakMap,$a=new WeakMap,Zt=new WeakMap,Qo=new WeakMap,ms=new WeakMap,Mt=new WeakMap,Ji=new WeakMap,Zi=new WeakMap,nr=new WeakMap,rr=new WeakMap,ii=new WeakMap,ar=new WeakMap,zo=new WeakMap,or=new WeakMap,I=new WeakSet,e$=function(){let t=-1,e=Se(po)?dt(po):null;Te(po,{onDragStart:()=>{var i;(i=e==null?void 0:e.onDragStart)==null||i.call(e),window.clearTimeout(t),t=-1,d(this,ar,!0)},onDragEnd:()=>{var i;(i=e==null?void 0:e.onDragEnd)==null||i.call(e),t=window.setTimeout(()=>{d(this,ar,!1),t=-1},300)}})},s$=function(){const t=o(this,I,h$).call(this);this.isSubmenu||r(this,Ta).call(this),o(this,I,Ku).call(this,t),t&&(y(()=>{const{height:e}=r(this,Ye).$state,i=r(this,Mt).call(this);i&&pe(i,"--player-height",e()+"px")}),r(this,ii).listen(),this.listen("pointerup",o(this,I,c$).bind(this)),qt(window,"pointerup",o(this,I,u$).bind(this)))},i$=function(t){const e=t.el,i=this.isSubmenu,a=Wt(o(this,I,oo).bind(this));Z(e,"tabindex",i?"-1":"0"),Z(e,"role",i?"menuitem":"button"),E(e,"id",r(this,$a)),E(e,"aria-haspopup","menu"),E(e,"aria-expanded","false"),E(e,"data-root",!this.isSubmenu),E(e,"data-submenu",this.isSubmenu),y(()=>{E(e,"data-open",r(this,Zt).call(this)),E(e,"aria-disabled",a())}),r(this,ms).set(e),B(()=>{r(this,ms).set(null)})},n$=function(t){var h;const e=t.el;e.style.setProperty("display","none"),E(e,"id",r(this,ba)),Z(e,"role","menu"),Z(e,"tabindex","-1"),E(e,"data-root",!this.isSubmenu),E(e,"data-submenu",this.isSubmenu),r(this,Mt).set(e),B(()=>r(this,Mt).set(null)),y(()=>E(e,"data-open",r(this,Zt).call(this))),r(this,ii).attachMenu(e),o(this,I,Ku).call(this,!1);const a=o(this,I,b$).bind(this);this.isSubmenu?(h=r(this,Ji))==null||h.onTransitionEvent(a):(t.listen("transitionstart",a),t.listen("transitionend",a),t.listen("animationend",r(this,Ta)),t.listen("vds-menu-resize",r(this,Ta)))},r$=function(t){d(this,nr,t)},Ku=function(t){const e=T(r(this,Mt));e&&E(e,"aria-hidden",ol(!t))},a$=function(t){r(this,zo).set(t)},wa=new WeakMap,o$=function(t,e){var h,l,c,p,f,m;if(d(this,wa,Jl(e)),e==null||e.stopPropagation(),r(this,Zt).call(this)===t)return;if(o(this,I,oo).call(this)){t&&r(this,rr).hide(e);return}(h=this.el)==null||h.dispatchEvent(new Event("vds-menu-resize",{bubbles:!0,composed:!0}));const i=r(this,ms).call(this),a=r(this,Mt).call(this);if(i&&(E(i,"aria-controls",t&&r(this,ba)),E(i,"aria-expanded",ol(t))),a&&E(a,"aria-labelledby",t&&r(this,$a)),r(this,Zt).set(t),o(this,I,p$).call(this,e),fi(),r(this,wa)){t?a==null||a.focus():i==null||i.focus();for(const b of[this.el,a])b&&b.setAttribute("data-keyboard","")}else for(const b of[this.el,a])b&&b.removeAttribute("data-keyboard");if(this.dispatch(t?"open":"close",{trigger:e}),t)!this.isSubmenu&&r(this,Ye).activeMenu!==this&&((l=r(this,Ye).activeMenu)==null||l.close(e),r(this,Ye).activeMenu=this),(p=(c=r(this,nr))==null?void 0:c.onOpen)==null||p.call(c,e);else{if(this.isSubmenu)for(const b of r(this,Zi))b.close(e);else r(this,Ye).activeMenu=null;(m=(f=r(this,nr))==null?void 0:f.onClose)==null||m.call(f,e)}t&&requestAnimationFrame(o(this,I,Gu).bind(this))},Gu=function(){r(this,Sa)||r(this,va)||(r(this,ii).update(),requestAnimationFrame(()=>{r(this,wa)?r(this,ii).focusActive():r(this,ii).scroll()}))},h$=function(){return!o(this,I,oo).call(this)&&r(this,Zt).call(this)},oo=function(){return r(this,Qo).call(this)||r(this,zo).call(this)},l$=function(t){r(this,Qo).set(t)},c$=function(t){const e=r(this,Mt).call(this);r(this,ar)||e&&Hp(e,t)||t.stopPropagation()},u$=function(t){const e=r(this,Mt).call(this);r(this,ar)||e&&Hp(e,t)||this.close(t)},d$=function(){var e;const t=(e=this.el)==null?void 0:e.querySelector('[data-part="close-target"]');return this.el&&t&&im(this.el,t,i=>i.getAttribute("role")==="menu")?t:null},p$=function(t){this.isSubmenu||(r(this,Zt).call(this)?r(this,Ye).remote.pauseControls(t):r(this,Ye).remote.resumeControls(t))},f$=function(t){r(this,Zi).add(t),new ht(t).add("open",r(this,ql)).add("close",r(this,Il)),B(r(this,Ol))},Ol=new WeakMap,m$=function(t){r(this,Zi).delete(t)},va=new WeakMap,ql=new WeakMap,g$=function(t){var i;d(this,va,!0);const e=r(this,Mt).call(this);this.isSubmenu&&((i=this.triggerElement)==null||i.setAttribute("aria-hidden","true"));for(const a of r(this,Zi))if(a!==t.target)for(const h of[a.el,a.triggerElement])h==null||h.setAttribute("aria-hidden","true");if(e){const a=t.target.el;for(const h of e.children)h.contains(a)?h.setAttribute("data-open",""):h!==a&&h.setAttribute("data-hidden","")}},Il=new WeakMap,y$=function(t){var i;d(this,va,!1);const e=r(this,Mt).call(this);this.isSubmenu&&((i=this.triggerElement)==null||i.setAttribute("aria-hidden","false"));for(const a of r(this,Zi))for(const h of[a.el,a.triggerElement])h==null||h.setAttribute("aria-hidden","false");if(e)for(const a of e.children)a.removeAttribute("data-open"),a.removeAttribute("data-hidden")},Ta=new WeakMap,Sa=new WeakMap,b$=function(t){const e=r(this,Mt).call(this);e&&t.propertyName==="height"&&(d(this,Sa,t.type==="transitionstart"),E(e,"data-transition",r(this,Sa)?"height":null),r(this,Zt).call(this)&&o(this,I,Gu).call(this));for(const i of r(this,or))i(t)},g(qr,"props",{showDelay:0});$h([H],qr.prototype,"triggerElement");$h([H],qr.prototype,"contentElement");$h([H],qr.prototype,"isSubmenu");$h([gt],qr.prototype,"open");$h([gt],qr.prototype,"close");var tn,Yo,wi,$$,w$,ju;class ic extends M{constructor(){super();u(this,wi);u(this,tn);u(this,Yo,D(null));new as}get expanded(){var t;return((t=r(this,tn))==null?void 0:t.expanded())??!1}onSetup(){d(this,tn,dt(At))}onAttach(t){r(this,tn).attachMenuButton(this),y(o(this,wi,$$).bind(this)),Z(t,"type","button")}onConnect(t){y(o(this,wi,w$).bind(this)),o(this,wi,ju).call(this);const e=new MutationObserver(o(this,wi,ju).bind(this));e.observe(t,{attributeFilter:["data-part"],childList:!0,subtree:!0}),B(()=>e.disconnect()),yn(t,i=>{this.dispatch("select",{trigger:i})})}}tn=new WeakMap,Yo=new WeakMap,wi=new WeakSet,$$=function(){r(this,tn).disableMenuButton(this.$props.disabled())},w$=function(){const t=r(this,Yo).call(this);t&&y(()=>{const e=r(this,tn).hint();e&&(t.textContent=e)})},ju=function(){var e;const t=(e=this.el)==null?void 0:e.querySelector('[data-part="hint"]');r(this,Yo).set(t??null)},g(ic,"props",{disabled:!1});const Ik=ic.prototype;H(Ik,"expanded");class Rk extends ic{}var oe,Xo,rs,T$,S$,Qu,x$;class v$ extends M{constructor(){super(...arguments);u(this,rs);u(this,oe,null);u(this,Xo)}onSetup(){d(this,Xo,N()),Te(Qh,{attach:o(this,rs,T$).bind(this)})}onAttach(t){t.style.setProperty("display","contents")}onConnect(t){}onDestroy(){var t;(t=r(this,oe))==null||t.remove(),d(this,oe,null)}}oe=new WeakMap,Xo=new WeakMap,rs=new WeakSet,T$=function(t){o(this,rs,Qu).call(this,!1),d(this,oe,t),yi(()=>{yi(()=>{this.connectScope&&y(o(this,rs,S$).bind(this))})})},S$=function(){const{fullscreen:t}=r(this,Xo).$state,{disabled:e}=this.$props;o(this,rs,Qu).call(this,e()==="fullscreen"?!t():!e())},Qu=function(t){var a;if(!r(this,oe))return;let e=o(this,rs,x$).call(this,this.$props.container());if(!e)return;const i=r(this,oe).parentElement===e;E(r(this,oe),"data-portal",t),t?i||(r(this,oe).remove(),e.append(r(this,oe))):i&&r(this,oe).parentElement===e&&(r(this,oe).remove(),(a=this.el)==null||a.append(r(this,oe)))},x$=function(t){return xr(t)?t:t?document.querySelector(t):document.body},g(v$,"props",{container:null,disabled:!1});const Qh=Tn();var hr,vn,E$,C$,A$;class k$ extends M{constructor(){super();u(this,vn);u(this,hr);new as;const{placement:t}=this.$props;this.setAttributes({"data-placement":t})}onAttach(t){if(d(this,hr,dt(At)),r(this,hr).attachMenuItems(this),Se(Qh)){const e=dt(Qh);e&&(Te(Qh,null),e.attach(t),B(()=>e.attach(null)))}}onConnect(t){y(o(this,vn,E$).bind(this))}}hr=new WeakMap,vn=new WeakSet,E$=function(){const{expanded:t}=r(this,hr);if(!this.el||!t())return;const e=this.$props.placement();if(!e)return;Object.assign(this.el.style,{position:"absolute",top:0,left:0,width:"max-content"});const{offset:i,alignOffset:a}=this.$props;B(am(this.el,o(this,vn,A$).call(this),e,{offsetVarName:"media-menu",xOffset:a(),yOffset:i()})),B(o(this,vn,C$).bind(this))},C$=function(){this.el&&(this.el.removeAttribute("style"),this.el.style.display="none")},A$=function(){return r(this,hr).button()},g(k$,"props",{placement:null,offset:0,alignOffset:0});const zu=Tn();var ni,en,Dd,Re,P$,L$,Rl,Yu,Xu;class Ir extends He{constructor(){super(...arguments);u(this,Re);u(this,ni,new Set);u(this,en,D(""));u(this,Dd,null);g(this,"onValueChange");u(this,Rl,o(this,Re,Yu).bind(this))}get values(){return Array.from(r(this,ni)).map(t=>t.value())}get value(){return r(this,en).call(this)}set value(t){o(this,Re,Yu).call(this,t)}onSetup(){Te(zu,{add:o(this,Re,P$).bind(this),remove:o(this,Re,L$).bind(this)})}onAttach(t){Se(At)||Z(t,"role","radiogroup"),this.setAttributes({value:r(this,en)})}onDestroy(){r(this,ni).clear()}}ni=new WeakMap,en=new WeakMap,Dd=new WeakMap,Re=new WeakSet,P$=function(t){r(this,ni).has(t)||(r(this,ni).add(t),t.onCheck=r(this,Rl),t.check(t.value()===r(this,en).call(this)))},L$=function(t){t.onCheck=null,r(this,ni).delete(t)},Rl=new WeakMap,Yu=function(t,e){var l;const i=T(r(this,en));if(!t||t===i)return;const a=o(this,Re,Xu).call(this,i),h=o(this,Re,Xu).call(this,t);a==null||a.check(!1,e),h==null||h.check(!0,e),r(this,en).set(t),(l=this.onValueChange)==null||l.call(this,t,e)},Xu=function(t){for(const e of r(this,ni))if(t===T(e.value))return e;return null};var gs,lr,Ut,M$,O$,q$,I$,R$,Ju,V$;class rp extends M{constructor(){super();u(this,Ut);u(this,gs,D(!1));u(this,lr,{value:this.$props.value,check:o(this,Ut,R$).bind(this),onCheck:null});new as}get checked(){return r(this,gs).call(this)}onSetup(){this.setAttributes({value:this.$props.value,"data-checked":r(this,gs),"aria-checked":Wt(r(this,gs))})}onAttach(t){const e=Se(At);Z(t,"tabindex",e?"-1":"0"),Z(t,"role",e?"menuitemradio":"radio"),y(o(this,Ut,q$).bind(this))}onConnect(t){o(this,Ut,O$).call(this),yn(t,o(this,Ut,I$).bind(this)),B(o(this,Ut,M$).bind(this))}}gs=new WeakMap,lr=new WeakMap,Ut=new WeakSet,M$=function(){de(()=>{dt(zu).remove(r(this,lr))},this.connectScope)},O$=function(){dt(zu).add(r(this,lr))},q$=function(){var i,a;const{value:t}=this.$props,e=t();T(r(this,gs))&&((a=(i=r(this,lr)).onCheck)==null||a.call(i,e))},I$=function(t){var e,i;T(r(this,gs))||(o(this,Ut,Ju).call(this,!0,t),o(this,Ut,V$).call(this,t),(i=(e=r(this,lr)).onCheck)==null||i.call(e,T(this.$props.value),t))},R$=function(t,e){T(r(this,gs))!==t&&o(this,Ut,Ju).call(this,t,e)},Ju=function(t,e){r(this,gs).set(t),this.dispatch("change",{detail:t,trigger:e})},V$=function(t){this.dispatch("select",{trigger:t})},g(rp,"props",{value:""});const Vk=rp.prototype;H(Vk,"checked");var xa,Xe,cr,Ve,D$,_$,N$,H$,F$;class ap extends M{constructor(){super();u(this,Ve);u(this,xa);u(this,Xe);u(this,cr);d(this,cr,new Ir),r(this,cr).onValueChange=o(this,Ve,F$).bind(this)}get value(){return r(this,cr).value}get disabled(){const{audioTracks:t}=r(this,Xe).$state;return t().length<=1}onSetup(){d(this,Xe,N()),Se(At)&&d(this,xa,dt(At))}onConnect(t){y(o(this,Ve,D$).bind(this)),y(o(this,Ve,N$).bind(this)),y(o(this,Ve,_$).bind(this))}getOptions(){const{audioTracks:t}=r(this,Xe).$state;return t().map(e=>({track:e,label:e.label,value:e.label.toLowerCase()}))}}xa=new WeakMap,Xe=new WeakMap,cr=new WeakMap,Ve=new WeakSet,D$=function(){r(this,cr).value=o(this,Ve,H$).call(this)},_$=function(){var a;const{emptyLabel:t}=this.$props,{audioTrack:e}=r(this,Xe).$state,i=e();(a=r(this,xa))==null||a.hint.set((i==null?void 0:i.label)??t())},N$=function(){var t;(t=r(this,xa))==null||t.disable(this.disabled)},H$=function(){const{audioTrack:t}=r(this,Xe).$state,e=t();return e?e.label.toLowerCase():""},F$=function(t,e){if(this.disabled)return;const i=r(this,Xe).audioTracks.toArray().findIndex(a=>a.label.toLowerCase()===t);if(i>=0){const a=r(this,Xe).audioTracks[i];r(this,Xe).remote.changeAudioTrack(i,e),this.dispatch("change",{detail:a,trigger:e})}},g(ap,"props",{emptyLabel:"Default"});const op=ap.prototype;H(op,"value");H(op,"disabled");gt(op,"getOptions");var he,ka,ur,zt,B$,W$,U$,K$,G$,zh;class hp extends M{constructor(){super();u(this,zt);u(this,he);u(this,ka);u(this,ur);d(this,ur,new Ir),r(this,ur).onValueChange=o(this,zt,G$).bind(this)}get value(){return r(this,ur).value}get disabled(){const{hasCaptions:t}=r(this,he).$state;return!t()}onSetup(){d(this,he,N()),Se(At)&&d(this,ka,dt(At))}onConnect(t){var e;(e=super.onConnect)==null||e.call(this,t),y(o(this,zt,B$).bind(this)),y(o(this,zt,U$).bind(this)),y(o(this,zt,W$).bind(this))}getOptions(){const{offLabel:t}=this.$props,{textTracks:e}=r(this,he).$state;return[{value:"off",label:t},...e().filter(Qt).map(i=>({track:i,label:i.label,value:o(this,zt,zh).call(this,i)}))]}}he=new WeakMap,ka=new WeakMap,ur=new WeakMap,zt=new WeakSet,B$=function(){r(this,ur).value=o(this,zt,K$).call(this)},W$=function(){var a;const{offLabel:t}=this.$props,{textTrack:e}=r(this,he).$state,i=e();(a=r(this,ka))==null||a.hint.set(i&&Qt(i)&&i.mode==="showing"?i.label:t())},U$=function(){var t;(t=r(this,ka))==null||t.disable(this.disabled)},K$=function(){const{textTrack:t}=r(this,he).$state,e=t();return e&&Qt(e)&&e.mode==="showing"?o(this,zt,zh).call(this,e):"off"},G$=function(t,e){if(this.disabled)return;if(t==="off"){const a=r(this,he).textTracks.selected;if(a){const h=r(this,he).textTracks.indexOf(a);r(this,he).remote.changeTextTrackMode(h,"disabled",e),this.dispatch("change",{detail:null,trigger:e})}return}const i=r(this,he).textTracks.toArray().findIndex(a=>o(this,zt,zh).call(this,a)===t);if(i>=0){const a=r(this,he).textTracks[i];r(this,he).remote.changeTextTrackMode(i,"showing",e),this.dispatch("change",{detail:a,trigger:e})}},zh=function(t){return t.id+":"+t.kind+"-"+t.label.toLowerCase()},g(hp,"props",{offLabel:"Off"});const lp=hp.prototype;H(lp,"value");H(lp,"disabled");gt(lp,"getOptions");const Dk=[.25,.5,.75,1,1.25,1.5,1.75,2];var sn,Ea,dr,De,j$,Q$,z$,Y$,X$;class cp extends M{constructor(){super();u(this,De);u(this,sn);u(this,Ea);u(this,dr);d(this,dr,new Ir),r(this,dr).onValueChange=o(this,De,X$).bind(this)}get value(){return r(this,dr).value}get disabled(){const{rates:t}=this.$props,{canSetPlaybackRate:e}=r(this,sn).$state;return!e()||t().length===0}onSetup(){d(this,sn,N()),Se(At)&&d(this,Ea,dt(At))}onConnect(t){y(o(this,De,j$).bind(this)),y(o(this,De,Q$).bind(this)),y(o(this,De,z$).bind(this))}getOptions(){const{rates:t,normalLabel:e}=this.$props;return t().map(i=>({label:i===1?e:i+"",value:i.toString()}))}}sn=new WeakMap,Ea=new WeakMap,dr=new WeakMap,De=new WeakSet,j$=function(){r(this,dr).value=o(this,De,Y$).call(this)},Q$=function(){var a;const{normalLabel:t}=this.$props,{playbackRate:e}=r(this,sn).$state,i=e();(a=r(this,Ea))==null||a.hint.set(i===1?t():i+"")},z$=function(){var t;(t=r(this,Ea))==null||t.disable(this.disabled)},Y$=function(){const{playbackRate:t}=r(this,sn).$state;return t().toString()},X$=function(t,e){if(this.disabled)return;const i=+t;r(this,sn).remote.changePlaybackRate(i,e),this.dispatch("change",{detail:i,trigger:e})},g(cp,"props",{normalLabel:"Normal",rates:Dk});const up=cp.prototype;H(up,"value");H(up,"disabled");gt(up,"getOptions");var Je,Ca,pr,Vl,Yt,J$,Z$,tw,ew,sw,Yh;class dp extends M{constructor(){super();u(this,Yt);u(this,Je);u(this,Ca);u(this,pr);u(this,Vl,ss(()=>{const{sort:t}=this.$props,{qualities:e}=r(this,Je).$state;return oy(e(),t()==="descending")}));d(this,pr,new Ir),r(this,pr).onValueChange=o(this,Yt,ew).bind(this)}get value(){return r(this,pr).value}get disabled(){const{canSetQuality:t,qualities:e}=r(this,Je).$state;return!t()||e().length<=1}onSetup(){d(this,Je,N()),Se(At)&&d(this,Ca,dt(At))}onConnect(t){y(o(this,Yt,J$).bind(this)),y(o(this,Yt,tw).bind(this)),y(o(this,Yt,Z$).bind(this))}getOptions(){const{autoLabel:t,hideBitrate:e}=this.$props;return[{value:"auto",label:t},...r(this,Vl).call(this).map(i=>{const a=i.bitrate&&i.bitrate>=0?`${Ct(i.bitrate/1e6,2)} Mbps`:null;return{quality:i,label:i.height+"p",value:o(this,Yt,Yh).call(this,i),bitrate:()=>e()?null:a}})]}}Je=new WeakMap,Ca=new WeakMap,pr=new WeakMap,Vl=new WeakMap,Yt=new WeakSet,J$=function(){r(this,pr).value=o(this,Yt,sw).call(this)},Z$=function(){var h;const{autoLabel:t}=this.$props,{autoQuality:e,quality:i}=r(this,Je).$state,a=i()?i().height+"p":"";(h=r(this,Ca))==null||h.hint.set(e()?t()+(a?` (${a})`:""):a)},tw=function(){var t;(t=r(this,Ca))==null||t.disable(this.disabled)},ew=function(t,e){if(this.disabled)return;if(t==="auto"){r(this,Je).remote.changeQuality(-1,e),this.dispatch("change",{detail:"auto",trigger:e});return}const{qualities:i}=r(this,Je).$state,a=T(i).findIndex(h=>o(this,Yt,Yh).call(this,h)===t);if(a>=0){const h=T(i)[a];r(this,Je).remote.changeQuality(a,e),this.dispatch("change",{detail:h,trigger:e})}},sw=function(){const{quality:t,autoQuality:e}=r(this,Je).$state;if(e())return"auto";const i=t();return i?o(this,Yt,Yh).call(this,i):"auto"},Yh=function(t){return t.height+"_"+t.bitrate},g(dp,"props",{autoLabel:"Auto",hideBitrate:!1,sort:"descending"});const pp=dp.prototype;H(pp,"value");H(pp,"disabled");gt(pp,"getOptions");var Aa,nn,Jo,Zo,kt,iw,nw,rw,td,aw,ow,ed,hw;class Zu extends M{constructor(){super(...arguments);u(this,kt);u(this,Aa);u(this,nn,D(null));u(this,Jo,D(!0));u(this,Zo,D(!0))}onSetup(){d(this,Aa,N()),o(this,kt,td).call(this);const{type:t}=this.$props;this.setAttributes({"data-type":t,"data-remainder":o(this,kt,ed).bind(this)}),new Ny({callback:o(this,kt,iw).bind(this)}).attach(this)}onAttach(t){t.hasAttribute("role")||y(o(this,kt,aw).bind(this)),y(o(this,kt,td).bind(this))}onConnect(t){B(sm(t,r(this,Jo).set)),y(o(this,kt,nw).bind(this)),y(o(this,kt,rw).bind(this))}}Aa=new WeakMap,nn=new WeakMap,Jo=new WeakMap,Zo=new WeakMap,kt=new WeakSet,iw=function(t){r(this,Zo).set(t[0].isIntersecting)},nw=function(){const{hidden:t}=this.$props;this.$state.hidden.set(t()||!r(this,Jo).call(this)||!r(this,Zo).call(this))},rw=function(){if(!this.$props.toggle()){r(this,nn).set(null);return}this.el&&yn(this.el,o(this,kt,hw).bind(this))},td=function(){const{hidden:t,timeText:e}=this.$state,{duration:i}=r(this,Aa).$state;if(t())return;const{type:a,padHours:h,padMinutes:l,showHours:c}=this.$props,p=o(this,kt,ow).call(this,a()),f=i(),m=o(this,kt,ed).call(this);if(!Number.isFinite(p+f)){e.set("LIVE");return}const b=m?Math.max(0,f-p):p,$=sc(b,{padHrs:h(),padMins:l(),showHrs:c()});e.set((m?"-":"")+$)},aw=function(){if(!this.el)return;const{toggle:t}=this.$props;E(this.el,"role",t()?"timer":null),E(this.el,"tabindex",t()?0:null)},ow=function(t){const{bufferedEnd:e,duration:i,currentTime:a}=r(this,Aa).$state;switch(t){case"buffered":return e();case"duration":return i();default:return a()}},ed=function(){return this.$props.remainder()&&r(this,nn).call(this)!==!1},hw=function(t){if(t.preventDefault(),r(this,nn).call(this)===null){r(this,nn).set(!this.$props.remainder());return}r(this,nn).set(e=>!e)},g(Zu,"props",{type:"current",showHours:!1,padHours:null,padMinutes:null,remainder:!1,toggle:!1,hidden:!1}),g(Zu,"state",new Sn({timeText:"",hidden:!1}));var ys,Pa,at,lw,cw,uw,dw,pw,rn,La,fw,Xh,mw,An;class sd extends M{constructor(){super(...arguments);u(this,at);u(this,ys);u(this,Pa,!1);u(this,rn,-1);u(this,La,-1)}onSetup(){d(this,ys,N())}onAttach(t){t.style.display="contents"}onConnect(t){t.setAttribute("data-media-announcer",""),Z(t,"role","status"),Z(t,"aria-live","polite");const{busy:e}=this.$state;this.setAttributes({"aria-busy":()=>e()?"true":null}),d(this,Pa,!0),y(o(this,at,lw).bind(this)),y(o(this,at,pw).bind(this)),y(o(this,at,dw).bind(this)),y(o(this,at,cw).bind(this)),y(o(this,at,uw).bind(this)),y(o(this,at,fw).bind(this)),y(o(this,at,mw).bind(this)),fi(),d(this,Pa,!1)}}ys=new WeakMap,Pa=new WeakMap,at=new WeakSet,lw=function(){const{paused:t}=r(this,ys).$state;o(this,at,An).call(this,t()?"Pause":"Play")},cw=function(){const{fullscreen:t}=r(this,ys).$state;o(this,at,An).call(this,t()?"Enter Fullscreen":"Exit Fullscreen")},uw=function(){const{pictureInPicture:t}=r(this,ys).$state;o(this,at,An).call(this,t()?"Enter PiP":"Exit PiP")},dw=function(){const{textTrack:t}=r(this,ys).$state;o(this,at,An).call(this,t()?"Closed-Captions On":"Closed-Captions Off")},pw=function(){const{muted:t,volume:e,audioGain:i}=r(this,ys).$state;o(this,at,An).call(this,t()||e()===0?"Mute":`${Math.round(e()*(i()??1)*100)}% ${o(this,at,Xh).call(this,"Volume")}`)},rn=new WeakMap,La=new WeakMap,fw=function(){const{seeking:t,currentTime:e}=r(this,ys).$state,i=t();r(this,rn)>0?(window.clearTimeout(r(this,La)),d(this,La,window.setTimeout(()=>{if(!this.scope)return;const a=T(e),h=Math.abs(a-r(this,rn));if(h>=1){const l=a>=r(this,rn),c=gl(h);o(this,at,An).call(this,`${o(this,at,Xh).call(this,l?"Seek Forward":"Seek Backward")} ${c}`)}d(this,rn,-1),d(this,La,-1)},300))):i&&d(this,rn,T(e))},Xh=function(t){var i;const{translations:e}=this.$props;return((i=e==null?void 0:e())==null?void 0:i[t||""])??t},mw=function(){const{label:t,busy:e}=this.$state,i=o(this,at,Xh).call(this,t());if(r(this,Pa))return;e.set(!0);const a=window.setTimeout(()=>void e.set(!1),150);return this.el&&E(this.el,"aria-label",i),V(i)&&this.dispatch("change",{detail:i}),()=>window.clearTimeout(a)},An=function(t){const{label:e}=this.$state;e.set(t)},g(sd,"props",{translations:null}),g(sd,"state",new Sn({label:null,busy:!1}));var ri,vi,yw,bw,id;class gw extends M{constructor(){super(...arguments);u(this,vi);u(this,ri)}onSetup(){d(this,ri,N()),y(o(this,vi,bw).bind(this))}onAttach(t){const{pictureInPicture:e,fullscreen:i}=r(this,ri).$state;pe(t,"pointer-events","none"),Z(t,"role","group"),this.setAttributes({"data-visible":o(this,vi,id).bind(this),"data-fullscreen":i,"data-pip":e}),y(()=>{this.dispatch("change",{detail:o(this,vi,id).call(this)})}),y(o(this,vi,yw).bind(this)),y(()=>{const a=i();for(const h of["top","right","bottom","left"])pe(t,`padding-${h}`,a&&`env(safe-area-inset-${h})`)})}}ri=new WeakMap,vi=new WeakSet,yw=function(){if(!this.el)return;const{nativeControls:t}=r(this,ri).$state,e=t();E(this.el,"aria-hidden",e?"true":null),pe(this.el,"display",e?"none":null)},bw=function(){const{controls:t}=r(this,ri).player,{hideDelay:e,hideOnMouseLeave:i}=this.$props;t.defaultDelay=e()===2e3?r(this,ri).$props.controlsDelay():e(),t.hideOnMouseLeave=i()},id=function(){const{controlsVisible:t}=r(this,ri).$state;return t()},g(gw,"props",{hideDelay:2e3,hideOnMouseLeave:!1});class _k extends M{onAttach(s){s.style.pointerEvents||pe(s,"pointer-events","auto")}}const On=Tn();let Nk=0;var Ma,an,on,th,_e,ww,vw,Tw,Sw,xw;class $w extends M{constructor(){super();u(this,_e);u(this,Ma,`media-tooltip-${++Nk}`);u(this,an,D(null));u(this,on,D(null));u(this,th,D(!1));new as;const{showDelay:t}=this.$props;new ly({trigger:r(this,an),content:r(this,on),showDelay:t,listen(e,i,a){y(()=>{dl()&&qt(e,"focus",i),qt(e,"blur",a)}),new ht(e).add("touchstart",h=>h.preventDefault(),{passive:!1}).add("mouseenter",i).add("mouseleave",a)},onChange:o(this,_e,xw).bind(this)})}onAttach(t){t.style.setProperty("display","contents")}onSetup(){Te(On,{trigger:r(this,an),content:r(this,on),showing:r(this,th),attachTrigger:o(this,_e,ww).bind(this),detachTrigger:o(this,_e,vw).bind(this),attachContent:o(this,_e,Tw).bind(this),detachContent:o(this,_e,Sw).bind(this)})}}Ma=new WeakMap,an=new WeakMap,on=new WeakMap,th=new WeakMap,_e=new WeakSet,ww=function(t){var i;r(this,an).set(t);let e=t.getAttribute("data-media-tooltip");e&&((i=this.el)==null||i.setAttribute(`data-media-${e}-tooltip`,"")),E(t,"data-describedby",r(this,Ma))},vw=function(t){t.removeAttribute("data-describedby"),t.removeAttribute("aria-describedby"),r(this,an).set(null)},Tw=function(t){t.setAttribute("id",r(this,Ma)),t.style.display="none",Z(t,"role","tooltip"),r(this,on).set(t)},Sw=function(t){t.removeAttribute("id"),t.removeAttribute("role"),r(this,on).set(null)},xw=function(t){const e=r(this,an).call(this),i=r(this,on).call(this);e&&E(e,"aria-describedby",t?r(this,Ma):null);for(const a of[this.el,e,i])a&&E(a,"data-visible",t);r(this,th).set(t)},g($w,"props",{showDelay:700});var Ar,kw,nd;class Hk extends M{constructor(){super();u(this,Ar);new as}onConnect(t){B(yi(()=>{if(!this.connectScope)return;o(this,Ar,kw).call(this);const e=dt(On);B(()=>{const i=o(this,Ar,nd).call(this);i&&e.detachTrigger(i)})}))}}Ar=new WeakSet,kw=function(){const t=o(this,Ar,nd).call(this),e=dt(On);t&&e.attachTrigger(t)},nd=function(){const t=this.el.firstElementChild;return(t==null?void 0:t.localName)==="button"||(t==null?void 0:t.getAttribute("role"))==="button"?t:this.el};var Ti,rd,Cw,Aw;class Ew extends M{constructor(){super();u(this,Ti);new as;const{placement:t}=this.$props;this.setAttributes({"data-placement":t})}onAttach(t){o(this,Ti,rd).call(this,t),Object.assign(t.style,{position:"absolute",top:0,left:0,width:"max-content"})}onConnect(t){o(this,Ti,rd).call(this,t);const e=dt(On);B(()=>e.detachContent(t)),B(yi(()=>{this.connectScope&&y(o(this,Ti,Cw).bind(this))}))}}Ti=new WeakSet,rd=function(t){dt(On).attachContent(t)},Cw=function(){const{showing:t}=dt(On);if(!t())return;const{placement:e,offset:i,alignOffset:a}=this.$props;return am(this.el,o(this,Ti,Aw).call(this),e(),{offsetVarName:"media-tooltip",xOffset:a(),yOffset:i()})},Aw=function(){return dt(On).trigger()},g(Ew,"props",{placement:"top center",offset:0,alignOffset:0});var eh;class fp extends M{constructor(){super();u(this,eh,D(!1));new Xt({isPresssed:r(this,eh)})}get pressed(){return r(this,eh).call(this)}}eh=new WeakMap,g(fp,"props",{disabled:!1,defaultPressed:!1});const Fk=fp.prototype;H(Fk,"pressed");var ai,Vs,Lw,Mw,Ow,qw;class Pw extends M{constructor(){super();u(this,Vs);u(this,ai);new Xt({isPresssed:o(this,Vs,Mw).bind(this),onPress:o(this,Vs,Lw).bind(this)})}onSetup(){d(this,ai,N());const{canGoogleCast:t,isGoogleCastConnected:e}=r(this,ai).$state;this.setAttributes({"data-active":e,"data-supported":t,"data-state":o(this,Vs,Ow).bind(this),"aria-hidden":Wt(()=>!t())})}onAttach(t){t.setAttribute("data-media-tooltip","google-cast"),xn(t,o(this,Vs,qw).bind(this))}}ai=new WeakMap,Vs=new WeakSet,Lw=function(t){r(this,ai).remote.requestGoogleCast(t)},Mw=function(){const{remotePlaybackType:t,remotePlaybackState:e}=r(this,ai).$state;return t()==="google-cast"&&e()!=="disconnected"},Ow=function(){const{remotePlaybackType:t,remotePlaybackState:e}=r(this,ai).$state;return t()==="google-cast"&&e()},qw=function(){const{remotePlaybackState:t}=r(this,ai).$state;return`Google Cast ${t()}`},g(Pw,"props",Xt.props);var hn,sh,pt,Iw,Rw,ad,Vw,od,Dw,_w,hd,Nw,Hw;class bl extends M{constructor(){super(...arguments);u(this,pt);u(this,hn);u(this,sh)}get video(){return this.$state.video()}onSetup(){d(this,hn,N()),d(this,sh,za(kr.state)),o(this,pt,ad).call(this),this.setAttributes({"data-loading":o(this,pt,Vw).bind(this),"data-hidden":this.$state.hidden,"data-error":o(this,pt,od).bind(this),"aria-hidden":Wt(this.$state.hidden)})}onAttach(t){y(o(this,pt,Iw).bind(this)),y(o(this,pt,Rw).bind(this)),y(o(this,pt,ad).bind(this)),y(o(this,pt,Dw).bind(this)),y(o(this,pt,_w).bind(this)),y(o(this,pt,Hw).bind(this))}}hn=new WeakMap,sh=new WeakMap,pt=new WeakSet,Iw=function(){const t=this.$state.video();t&&(t.readyState>=2&&o(this,pt,hd).call(this),new ht(t).add("canplay",o(this,pt,hd).bind(this)).add("error",o(this,pt,Nw).bind(this)))},Rw=function(){const{src:t}=this.$state,{canLoad:e}=r(this,hn).$state;t.set(e()?this.$props.src():null)},ad=function(){const{crossOrigin:t}=this.$props,{crossOrigin:e}=this.$state,{crossOrigin:i}=r(this,hn).$state,a=t()!==null?t():i();e.set(a===!0?"anonymous":a)},Vw=function(){const{canPlay:t,hidden:e}=this.$state;return!t()&&!e()},od=function(){const{error:t}=this.$state;return!Ss(t)},Dw=function(){const{src:t,hidden:e}=this.$state,{canLoad:i,duration:a}=r(this,hn).$state;e.set(i()&&(!t()||o(this,pt,od).call(this)||!Number.isFinite(a())))},_w=function(){const{src:t,canPlay:e,error:i}=this.$state;t(),e.set(!1),i.set(null)},hd=function(t){const{canPlay:e,error:i}=this.$state;e.set(!0),i.set(null),this.dispatch("can-play",{trigger:t})},Nw=function(t){const{canPlay:e,error:i}=this.$state;e.set(!1),i.set(t),this.dispatch("error",{trigger:t})},Hw=function(){const{video:t,canPlay:e}=this.$state,{duration:i}=r(this,hn).$state,{pointerRate:a}=r(this,sh),h=t();e()&&h&&Number.isFinite(i())&&Number.isFinite(a())&&(h.currentTime=a()*i())},g(bl,"props",{src:null,crossOrigin:null}),g(bl,"state",new Sn({video:null,src:null,crossOrigin:null,canPlay:!1,error:null,hidden:!1}));const Bk=bl.prototype;H(Bk,"video");var ln,Pt,Fw,Bw,Ww,Uw,Kw,cd,Gw,jw;class ld extends M{constructor(){super(...arguments);u(this,Pt);u(this,ln)}onSetup(){d(this,ln,N()),Te(Ua,{default:"percent",percent:(t,e)=>Ct(this.$state.value(),e)+"%"}),new xe({getStep:this.$props.step,getKeyStep:this.$props.keyStep,roundValue:Math.round,isDisabled:o(this,Pt,Kw).bind(this),aria:{valueNow:o(this,Pt,Fw).bind(this),valueText:o(this,Pt,Bw).bind(this)},onDragValueChange:o(this,Pt,jw).bind(this),onValueChange:o(this,Pt,Gw).bind(this)}).attach(this),y(o(this,Pt,Ww).bind(this)),y(o(this,Pt,Uw).bind(this))}onAttach(t){t.setAttribute("data-media-audio-gain-slider",""),Z(t,"aria-label","Audio Boost");const{canSetAudioGain:e}=r(this,ln).$state;this.setAttributes({"data-supported":e,"aria-hidden":Wt(()=>!e())})}}ln=new WeakMap,Pt=new WeakSet,Fw=function(){const{value:t}=this.$state;return Math.round(t())},Bw=function(){const{value:t}=this.$state;return t()+"%"},Ww=function(){const{min:t,max:e}=this.$props;this.$state.min.set(t()),this.$state.max.set(e())},Uw=function(){const{audioGain:t}=r(this,ln).$state,e=((t()??1)-1)*100;this.$state.value.set(e),this.dispatch("value-change",{detail:e})},Kw=function(){const{disabled:t}=this.$props,{canSetAudioGain:e}=r(this,ln).$state;return t()||!e()},cd=function(t){if(!t.trigger)return;const e=Ct(1+t.detail/100,2);r(this,ln).remote.changeAudioGain(e,t)},Gw=function(t){o(this,Pt,cd).call(this,t)},jw=function(t){o(this,Pt,cd).call(this,t)},g(ld,"props",{...xe.props,step:25,keyStep:25,shiftKeyMultiplier:2,min:0,max:300}),g(ld,"state",Or);var cn,Et,Qw,zw,Yw,Xw,Jw,Zw,ih,tv,ev,sv;class ud extends M{constructor(){super(...arguments);u(this,Et);u(this,cn);u(this,ih,Lr(o(this,Et,tv).bind(this),25))}onSetup(){d(this,cn,N()),new xe({getStep:this.$props.step,getKeyStep:this.$props.keyStep,roundValue:o(this,Et,Jw),isDisabled:o(this,Et,Zw).bind(this),aria:{valueNow:o(this,Et,Qw).bind(this),valueText:o(this,Et,zw).bind(this)},onDragValueChange:o(this,Et,sv).bind(this),onValueChange:o(this,Et,ev).bind(this)}).attach(this),y(o(this,Et,Yw).bind(this)),y(o(this,Et,Xw).bind(this))}onAttach(t){t.setAttribute("data-media-speed-slider",""),Z(t,"aria-label","Speed");const{canSetPlaybackRate:e}=r(this,cn).$state;this.setAttributes({"data-supported":e,"aria-hidden":Wt(()=>!e())})}}cn=new WeakMap,Et=new WeakSet,Qw=function(){const{value:t}=this.$state;return t()},zw=function(){const{value:t}=this.$state;return t()+"x"},Yw=function(){const{min:t,max:e}=this.$props;this.$state.min.set(t()),this.$state.max.set(e())},Xw=function(){const{playbackRate:t}=r(this,cn).$state,e=t();this.$state.value.set(e),this.dispatch("value-change",{detail:e})},Jw=function(t){return Ct(t,2)},Zw=function(){const{disabled:t}=this.$props,{canSetPlaybackRate:e}=r(this,cn).$state;return t()||!e()},ih=new WeakMap,tv=function(t){if(!t.trigger)return;const e=t.detail;r(this,cn).remote.changePlaybackRate(e,t)},ev=function(t){r(this,ih).call(this,t)},sv=function(t){r(this,ih).call(this,t)},g(ud,"props",{...xe.props,step:.25,keyStep:.25,shiftKeyMultiplier:2,min:0,max:2}),g(ud,"state",Or);var Ze,Oa,Vt,iv,nv,rv,av,ov,nh,hv,lv,cv;class dd extends M{constructor(){super(...arguments);u(this,Vt);u(this,Ze);u(this,Oa,ss(()=>{const{qualities:t}=r(this,Ze).$state;return oy(t())}));u(this,nh,Lr(o(this,Vt,hv).bind(this),25))}onSetup(){d(this,Ze,N()),new xe({getStep:this.$props.step,getKeyStep:this.$props.keyStep,roundValue:Math.round,isDisabled:o(this,Vt,ov).bind(this),aria:{valueNow:o(this,Vt,iv).bind(this),valueText:o(this,Vt,nv).bind(this)},onDragValueChange:o(this,Vt,cv).bind(this),onValueChange:o(this,Vt,lv).bind(this)}).attach(this),y(o(this,Vt,rv).bind(this)),y(o(this,Vt,av).bind(this))}onAttach(t){t.setAttribute("data-media-quality-slider",""),Z(t,"aria-label","Video Quality");const{qualities:e,canSetQuality:i}=r(this,Ze).$state,a=ss(()=>i()&&e().length>0);this.setAttributes({"data-supported":a,"aria-hidden":Wt(()=>!a())})}}Ze=new WeakMap,Oa=new WeakMap,Vt=new WeakSet,iv=function(){const{value:t}=this.$state;return t()},nv=function(){const{quality:t}=r(this,Ze).$state;if(!t())return"";const{height:e,bitrate:i}=t(),a=i&&i>0?`${(i/1e6).toFixed(2)} Mbps`:null;return e?`${e}p${a?` (${a})`:""}`:"Auto"},rv=function(){const t=r(this,Oa).call(this);this.$state.max.set(Math.max(0,t.length-1))},av=function(){let{quality:t}=r(this,Ze).$state,e=r(this,Oa).call(this),i=Math.max(0,e.indexOf(t()));this.$state.value.set(i),this.dispatch("value-change",{detail:i})},ov=function(){const{disabled:t}=this.$props,{canSetQuality:e,qualities:i}=r(this,Ze).$state;return t()||i().length<=1||!e()},nh=new WeakMap,hv=function(t){if(!t.trigger)return;const{qualities:e}=r(this,Ze),i=T(r(this,Oa))[t.detail];r(this,Ze).remote.changeQuality(e.indexOf(i),t)},lv=function(t){r(this,nh).call(this,t)},cv=function(t){r(this,nh).call(this,t)},g(dd,"props",{...xe.props,step:1,keyStep:1,shiftKeyMultiplier:1}),g(dd,"state",Or);var le,fr,qa,bs,te,mr,ee,oi,gr,un,P,pd,fd,uv,dv,pv,fv,mv,Jh,md,gd,gv,Dl,_l,yv,Zh,tl,bv,$v,wv,vv,rh,Tv,Sv,xv;class mp extends M{constructor(){super(...arguments);u(this,P);u(this,le);u(this,fr);u(this,qa);u(this,bs,null);u(this,te,[]);u(this,mr,D(null));u(this,ee,D([]));u(this,oi,D(-1));u(this,gr,D(-1));u(this,un,0);u(this,Dl,Ya(t=>{var c;let e,i=r(this,ee).call(this),{seekableStart:a}=r(this,le).$state,h=a(),l=o(this,P,Zh).call(this,i);for(let p=r(this,un);p<r(this,te).length;p++)if(e=o(this,P,tl).call(this,i[p],t,h,l),(c=r(this,te)[p])==null||c.style.setProperty("--chapter-progress",e+"%"),e<100){d(this,un,p);break}}));u(this,_l,ss(o(this,P,yv).bind(this)));u(this,rh,Kd(()=>{const t=T(r(this,mr));!this.scope||!t||!t.cues.length||(r(this,ee).set(o(this,P,bv).call(this,t.cues)),r(this,oi).set(0),d(this,un,0))},150,!0))}get cues(){return r(this,ee).call(this)}get activeCue(){return r(this,ee).call(this)[r(this,oi).call(this)]||null}get activePointerCue(){return r(this,ee).call(this)[r(this,gr).call(this)]||null}onSetup(){d(this,le,N()),d(this,fr,za(yl.state))}onAttach(t){Zl(r(this,le).textTracks,"chapters",o(this,P,pd).bind(this)),y(o(this,P,$v).bind(this))}onConnect(){B(()=>o(this,P,fd).bind(this))}onDestroy(){o(this,P,pd).call(this,null)}setRefs(t){var e;if(d(this,te,t),(e=r(this,qa))==null||e.dispose(),r(this,te).length===1){const i=r(this,te)[0];i.style.width="100%",i.style.setProperty("--chapter-fill","var(--slider-fill)"),i.style.setProperty("--chapter-progress","var(--slider-progress)")}else r(this,te).length>0&&de(()=>o(this,P,uv).call(this),d(this,qa,rl()))}}le=new WeakMap,fr=new WeakMap,qa=new WeakMap,bs=new WeakMap,te=new WeakMap,mr=new WeakMap,ee=new WeakMap,oi=new WeakMap,gr=new WeakMap,un=new WeakMap,P=new WeakSet,pd=function(t){T(r(this,mr))!==t&&(o(this,P,fd).call(this),r(this,mr).set(t))},fd=function(){var t;d(this,te,[]),r(this,ee).set([]),r(this,oi).set(-1),r(this,gr).set(-1),d(this,un,0),(t=r(this,qa))==null||t.dispose()},uv=function(){r(this,te).length&&y(o(this,P,dv).bind(this))},dv=function(){const{hidden:t}=r(this,fr);t()||(y(o(this,P,pv).bind(this)),y(o(this,P,fv).bind(this)),y(o(this,P,mv).bind(this)),y(o(this,P,gv).bind(this)))},pv=function(){const t=r(this,ee).call(this);if(!t.length)return;let e,{seekableStart:i,seekableEnd:a}=r(this,le).$state,h=i(),l=a()||t[t.length-1].endTime,c=l-h,p=100;for(let f=0;f<t.length;f++)if(e=t[f],r(this,te)[f]){const m=f===t.length-1?p:Ct((e.endTime-Math.max(h,e.startTime))/c*100,3);r(this,te)[f].style.width=m+"%",p-=m}},fv=function(){let{liveEdge:t,seekableStart:e,seekableEnd:i}=r(this,le).$state,{fillPercent:a,value:h}=r(this,fr),l=r(this,ee).call(this),c=t(),p=T(r(this,oi)),f=l[p],m=c?r(this,ee).length-1:o(this,P,gd).call(this,f&&f.startTime/i()*100<=T(h)?p:0,a());c||!f?o(this,P,Jh).call(this,0,l.length,100):m>p?o(this,P,Jh).call(this,p,m,100):m<p&&o(this,P,Jh).call(this,m+1,p+1,0);const b=c?100:o(this,P,tl).call(this,l[m],a(),e(),o(this,P,Zh).call(this,l));o(this,P,md).call(this,r(this,te)[m],b),r(this,oi).set(m)},mv=function(){let{hidden:t,pointerPercent:e}=r(this,fr);if(t()){r(this,gr).set(-1);return}const i=o(this,P,gd).call(this,0,e());r(this,gr).set(i)},Jh=function(t,e,i){for(let a=t;a<e;a++)o(this,P,md).call(this,r(this,te)[a],i)},md=function(t,e){t&&(t.style.setProperty("--chapter-fill",e+"%"),E(t,"data-active",e>0&&e<100),E(t,"data-ended",e===100))},gd=function(t,e){let i=0,a=r(this,ee).call(this);if(e===0)return 0;if(e===100)return a.length-1;let{seekableStart:h}=r(this,le).$state,l=h(),c=o(this,P,Zh).call(this,a);for(let p=t;p<a.length;p++)if(i=o(this,P,tl).call(this,a[p],e,l,c),i>=0&&i<100)return p;return 0},gv=function(){r(this,Dl).call(this,r(this,_l).call(this))},Dl=new WeakMap,_l=new WeakMap,yv=function(){const{bufferedEnd:t,duration:e}=r(this,le).$state;return Ct(Math.min(t()/Math.max(e(),1),1),3)*100},Zh=function(t){var a;const{seekableEnd:e}=r(this,le).$state,i=e();return Number.isFinite(i)?i:((a=t[t.length-1])==null?void 0:a.endTime)||0},tl=function(t,e,i,a){if(!t||r(this,ee).call(this).length===0)return 0;const l=a-i,c=Math.max(0,t.startTime-i),p=Math.min(a,t.endTime)-i,f=c/l,m=f*100,b=Math.min(1,f+(p-c)/l)*100;return Math.max(0,Ct(e>=b?100:(e-m)/(b-m)*100,3))},bv=function(t){let e=[],{seekableStart:i,seekableEnd:a,duration:h}=r(this,le).$state,l=i(),c=a();t=t.filter(m=>m.startTime<=c&&m.endTime>=l);const p=t[0];p&&p.startTime>l&&e.push(new window.VTTCue(l,p.startTime,""));for(let m=0;m<t.length-1;m++){const b=t[m],$=t[m+1];if(e.push(b),$){const v=$.startTime-b.endTime;v>0&&e.push(new window.VTTCue(b.endTime,b.endTime+v,""))}}const f=t[t.length-1];if(f){e.push(f);const m=h();m>=0&&m-f.endTime>1&&e.push(new window.VTTCue(f.endTime,h(),""))}return e},$v=function(){const{source:t}=r(this,le).$state;t(),o(this,P,wv).call(this)},wv=function(){if(!this.scope)return;const{disabled:t}=this.$props;if(t()){r(this,ee).set([]),r(this,oi).set(0),d(this,un,0);return}const e=r(this,mr).call(this);if(e){const i=r(this,rh).bind(this);i(),new ht(e).add("add-cue",i).add("remove-cue",i),y(o(this,P,vv).bind(this))}return d(this,bs,o(this,P,xv).call(this)),r(this,bs)&&y(o(this,P,Tv).bind(this)),()=>{r(this,bs)&&(r(this,bs).textContent="",d(this,bs,null))}},vv=function(){r(this,le).$state.duration(),r(this,rh).call(this)},rh=new WeakMap,Tv=function(){const t=this.activePointerCue||this.activeCue;r(this,bs)&&(r(this,bs).textContent=(t==null?void 0:t.text)||"")},Sv=function(){let t=this.el;for(;t&&t.getAttribute("role")!=="slider";)t=t.parentElement;return t},xv=function(){const t=o(this,P,Sv).call(this);return t?t.querySelector('[data-part="chapter-title"]'):null},g(mp,"props",{disabled:!1});const nc=mp.prototype;H(nc,"cues");H(nc,"activeCue");H(nc,"activePointerCue");gt(nc,"setRefs");var hi,ja,kv,Ev;class gp extends M{constructor(){super();u(this,ja);u(this,hi);d(this,hi,new Ir),r(this,hi).onValueChange=o(this,ja,Ev).bind(this)}get values(){return r(this,hi).values}get value(){return r(this,hi).value}set value(t){r(this,hi).value=t}onSetup(){y(o(this,ja,kv).bind(this))}}hi=new WeakMap,ja=new WeakSet,kv=function(){r(this,hi).value=this.$props.value()},Ev=function(t,e){const i=this.createEvent("change",{detail:t,trigger:e});this.dispatch(i)},g(gp,"props",{value:""});const Cv=gp.prototype;H(Cv,"values");H(Cv,"value");var Wk=Object.defineProperty,Uk=Object.getOwnPropertyDescriptor,yp=(n,s,t,e)=>{for(var i=Uk(s,t),a=n.length-1,h;a>=0;a--)(h=n[a])&&(i=h(s,t,i)||i);return i&&Wk(s,t,i),i},$s,yr,li,Ia,ws,se,Av,Pv,Lv,yd,Mv,Ov;class wh extends M{constructor(){super();u(this,se);u(this,$s);u(this,yr);u(this,li);u(this,Ia,D(null));u(this,ws,D([]));d(this,li,new Ir),r(this,li).onValueChange=o(this,se,Ov).bind(this)}get value(){return r(this,li).value}get disabled(){var t;return!((t=r(this,ws).call(this))!=null&&t.length)}onSetup(){d(this,$s,N()),Se(At)&&d(this,yr,dt(At));const{thumbnails:t}=this.$props;this.setAttributes({"data-thumbnails":()=>!!t()})}onAttach(t){var e;(e=r(this,yr))==null||e.attachObserver({onOpen:o(this,se,Av).bind(this)})}getOptions(){const{seekableStart:t,seekableEnd:e}=r(this,$s).$state,i=t(),a=e();return r(this,ws).call(this).map((h,l)=>({cue:h,value:l.toString(),label:h.text,startTime:sc(Math.max(0,h.startTime-i)),duration:gl(Math.min(a,h.endTime)-Math.max(i,h.startTime))}))}onConnect(t){y(o(this,se,yd).bind(this)),y(o(this,se,Mv).bind(this)),y(o(this,se,Pv).bind(this)),Zl(r(this,$s).textTracks,"chapters",r(this,Ia).set)}}$s=new WeakMap,yr=new WeakMap,li=new WeakMap,Ia=new WeakMap,ws=new WeakMap,se=new WeakSet,Av=function(){T(()=>o(this,se,yd).call(this))},Pv=function(){const t=r(this,Ia).call(this);if(!t)return;const e=o(this,se,Lv).bind(this,t);return e(),new ht(t).add("add-cue",e).add("remove-cue",e),()=>{r(this,ws).set([])}},Lv=function(t){const{seekableStart:e,seekableEnd:i}=r(this,$s).$state,a=e(),h=i();r(this,ws).set([...t.cues].filter(l=>l.startTime<=h&&l.endTime>=a))},yd=function(){var f;if(!((f=r(this,yr))!=null&&f.expanded()))return;if(!r(this,Ia).call(this)){r(this,li).value="-1";return}const{realCurrentTime:e,seekableStart:i,seekableEnd:a}=r(this,$s).$state,h=i(),l=a(),c=e(),p=r(this,ws).call(this).findIndex(m=>Sc(m,c));r(this,li).value=p.toString(),p>=0&&yi(()=>{if(!this.connectScope)return;const m=r(this,ws).call(this)[p],b=this.el.querySelector("[aria-checked='true']"),$=Math.max(h,m.startTime),v=Math.min(l,m.endTime)-$,S=Math.max(0,c-$)/v*100;b&&pe(b,"--progress",Ct(S,3)+"%")})},Mv=function(){var t;(t=r(this,yr))==null||t.disable(this.disabled)},Ov=function(t,e){if(this.disabled||!e)return;const i=+t,a=r(this,ws).call(this),{clipStartTime:h}=r(this,$s).$state;qe(i)&&(a!=null&&a[i])&&(r(this,li).value=i.toString(),r(this,$s).remote.seek(a[i].startTime-h(),e),this.dispatch("change",{detail:a[i],trigger:e}))},g(wh,"props",{thumbnails:null});yp([H],wh.prototype,"value");yp([H],wh.prototype,"disabled");yp([gt],wh.prototype,"getOptions");const Kk=[1,1.25,1.5,1.75,2,2.5,3,4];var dn,Ra,br,Ne,qv,Iv,Rv,Vv,Dv;class bp extends M{constructor(){super();u(this,Ne);u(this,dn);u(this,Ra);u(this,br);d(this,br,new Ir),r(this,br).onValueChange=o(this,Ne,Dv).bind(this)}get value(){return r(this,br).value}get disabled(){const{gains:t}=this.$props,{canSetAudioGain:e}=r(this,dn).$state;return!e()||t().length===0}onSetup(){d(this,dn,N()),Se(At)&&d(this,Ra,dt(At))}onConnect(t){y(o(this,Ne,qv).bind(this)),y(o(this,Ne,Iv).bind(this)),y(o(this,Ne,Rv).bind(this))}getOptions(){const{gains:t,normalLabel:e}=this.$props;return t().map(i=>({label:i===1||i===null?e:String(i*100)+"%",value:i.toString()}))}}dn=new WeakMap,Ra=new WeakMap,br=new WeakMap,Ne=new WeakSet,qv=function(){r(this,br).value=o(this,Ne,Vv).call(this)},Iv=function(){var a;const{normalLabel:t}=this.$props,{audioGain:e}=r(this,dn).$state,i=e();(a=r(this,Ra))==null||a.hint.set(i===1||i==null?t():String(i*100)+"%")},Rv=function(){var t;(t=r(this,Ra))==null||t.disable(this.disabled)},Vv=function(){var e;const{audioGain:t}=r(this,dn).$state;return((e=t())==null?void 0:e.toString())??"1"},Dv=function(t,e){if(this.disabled)return;const i=+t;r(this,dn).remote.changeAudioGain(i,e),this.dispatch("change",{detail:i,trigger:e})},g(bp,"props",{normalLabel:"Disabled",gains:Kk});const $p=bp.prototype;H($p,"value");H($p,"disabled");gt($p,"getOptions");var $e,Va,ie,Nv,vs,ah,Hv,bd,Fv,Bv,Wv;class _v extends M{constructor(){super(...arguments);u(this,ie);u(this,$e);u(this,Va,null);u(this,vs,0);u(this,ah,-1)}onSetup(){d(this,$e,N());const{event:t,action:e}=this.$props;this.setAttributes({event:t,action:e})}onAttach(t){t.setAttribute("data-media-gesture",""),t.style.setProperty("pointer-events","none")}onConnect(t){var e;d(this,Va,(e=r(this,$e).player.el)==null?void 0:e.querySelector("[data-media-provider]")),y(o(this,ie,Nv).bind(this))}}$e=new WeakMap,Va=new WeakMap,ie=new WeakSet,Nv=function(){let t=this.$props.event(),e=this.$props.disabled();!r(this,Va)||!t||e||(/^dbl/.test(t)&&(t=t.split(/^dbl/)[1]),(t==="pointerup"||t==="pointerdown")&&r(this,$e).$state.pointer()==="coarse"&&(t=t==="pointerup"?"touchend":"touchstart"),qt(r(this,Va),t,o(this,ie,Hv).bind(this),{passive:!1}))},vs=new WeakMap,ah=new WeakMap,Hv=function(t){if(this.$props.disabled()||Cp(t)&&(t.button!==0||r(this,$e).activeMenu)||Rh(t)&&r(this,$e).activeMenu||Zd(t)||!o(this,ie,Fv).call(this,t))return;t.MEDIA_GESTURE=!0,t.preventDefault();const e=T(this.$props.event);if(!(e==null?void 0:e.startsWith("dbl")))r(this,vs)===0&&setTimeout(()=>{r(this,vs)===1&&o(this,ie,bd).call(this,t)},250);else if(r(this,vs)===1){queueMicrotask(()=>o(this,ie,bd).call(this,t)),clearTimeout(r(this,ah)),d(this,vs,0);return}r(this,vs)===0&&d(this,ah,window.setTimeout(()=>{d(this,vs,0)},275)),kp(this,vs)._++},bd=function(t){this.el.setAttribute("data-triggered",""),requestAnimationFrame(()=>{o(this,ie,Bv).call(this)&&o(this,ie,Wv).call(this,T(this.$props.action),t),requestAnimationFrame(()=>{this.el.removeAttribute("data-triggered")})})},Fv=function(t){if(!this.el)return!1;if(Cp(t)||CS(t)||Rh(t)){const e=Rh(t)?t.changedTouches[0]??t.touches[0]:void 0,i=(e==null?void 0:e.clientX)??t.clientX,a=(e==null?void 0:e.clientY)??t.clientY,h=this.el.getBoundingClientRect(),l=a>=h.top&&a<=h.bottom&&i>=h.left&&i<=h.right;return t.type.includes("leave")?!l:l}return!0},Bv=function(){const t=r(this,$e).player.el.querySelectorAll("[data-media-gesture][data-triggered]");return Array.from(t).sort((e,i)=>+getComputedStyle(i).zIndex-+getComputedStyle(e).zIndex)[0]===this.el},Wv=function(t,e){if(!t)return;const i=new ot("will-trigger",{detail:t,cancelable:!0,trigger:e});if(this.dispatchEvent(i),i.defaultPrevented)return;const[a,h]=t.replace(/:([a-z])/,"-$1").split(":");t.includes(":fullscreen")?r(this,$e).remote.toggleFullscreen("prefer-media",e):t.includes("seek:")?r(this,$e).remote.seek(T(r(this,$e).$state.currentTime)+(+h||0),e):r(this,$e).remote[DS(a)](e),this.dispatch("trigger",{detail:t,trigger:e})},g(_v,"props",{disabled:!1,event:void 0,action:void 0});var Da,ci,ui,oh,$d;class Gk{constructor(s){u(this,oh);g(this,"priority",10);u(this,Da,null);u(this,ci);u(this,ui);d(this,ci,s)}attach(){}canRender(){return!0}detach(){var s;(s=r(this,ui))==null||s.abort(),d(this,ui,void 0),r(this,ci).reset(),d(this,Da,null)}changeTrack(s){var t;!s||r(this,Da)===s||((t=r(this,ui))==null||t.abort(),d(this,ui,new ht(s)),s.readyState<2?(r(this,ci).reset(),r(this,ui).add("load",()=>o(this,oh,$d).call(this,s),{once:!0})):o(this,oh,$d).call(this,s),r(this,ui).add("add-cue",e=>{r(this,ci).addCue(e.detail)}).add("remove-cue",e=>{r(this,ci).removeCue(e.detail)}),d(this,Da,s))}}Da=new WeakMap,ci=new WeakMap,ui=new WeakMap,oh=new WeakSet,$d=function(s){r(this,ci).changeTrack({cues:[...s.cues],regions:[...s.regions]})};var ce,_,el,Uv,Kv,Gv,vd,jv,Qv,zv,Yv,Td,Xv,Jv,di,Sd,sl,xd,kd;const ls=class ls extends M{constructor(){super(...arguments);u(this,_);u(this,ce);u(this,di,-1)}onSetup(){d(this,ce,N()),this.setAttributes({"aria-hidden":Wt(o(this,_,el).bind(this))})}onAttach(t){t.style.setProperty("pointer-events","none")}onConnect(t){ls.lib()||fe(()=>import("./prod-5GFtKBEw.js").then(e=>e.d),[]).then(e=>ls.lib.set(e)),y(o(this,_,Uv).bind(this))}};ce=new WeakMap,_=new WeakSet,el=function(){const{textTrack:t,remotePlaybackState:e,iOSControls:i}=r(this,ce).$state,a=t();return i()||e()==="connected"||!a||!Qt(a)},Uv=function(){if(!ls.lib())return;const{viewType:t}=r(this,ce).$state;return t()==="audio"?o(this,_,Kv).call(this):o(this,_,Qv).call(this)},Kv=function(){return y(o(this,_,Gv).bind(this)),o(this,_,Td).call(this,null),()=>{this.el.textContent=""}},Gv=function(){if(o(this,_,el).call(this))return;o(this,_,vd).call(this);const{textTrack:t}=r(this,ce).$state;qt(t(),"cue-change",o(this,_,vd).bind(this)),y(o(this,_,jv).bind(this))},vd=function(){this.el.textContent="",r(this,di)>=0&&o(this,_,sl).call(this);const{realCurrentTime:t,textTrack:e}=r(this,ce).$state,{renderVTTCueString:i}=ls.lib(),a=T(t),h=T(e).activeCues;for(const l of h){const c=o(this,_,xd).call(this),p=o(this,_,kd).call(this);p.innerHTML=i(l,a),c.append(p),this.el.append(p)}},jv=function(){const{realCurrentTime:t}=r(this,ce).$state,{updateTimedVTTCueNodes:e}=ls.lib();e(this.el,t())},Qv=function(){const{CaptionsRenderer:t}=ls.lib(),e=new t(this.el),i=new Gk(e);return r(this,ce).textRenderers.add(i),y(o(this,_,zv).bind(this,e)),y(o(this,_,Yv).bind(this,e)),o(this,_,Td).call(this,e),()=>{this.el.textContent="",r(this,ce).textRenderers.remove(i),e.destroy()}},zv=function(t){t.dir=this.$props.textDir()},Yv=function(t){var a;if(o(this,_,el).call(this))return;const{realCurrentTime:e,textTrack:i}=r(this,ce).$state;t.currentTime=e(),r(this,di)>=0&&((a=i())!=null&&a.activeCues[0])&&o(this,_,sl).call(this)},Td=function(t){const e=r(this,ce).player;if(!e)return;const i=o(this,_,Xv).bind(this,t);qt(e,"vds-font-change",i)},Xv=function(t){var i;if(r(this,di)>=0){o(this,_,Sd).call(this);return}const{textTrack:e}=r(this,ce).$state;(i=e())!=null&&i.activeCues[0]?t==null||t.update(!0):o(this,_,Jv).call(this)},Jv=function(){var i,a;const t=o(this,_,xd).call(this);E(t,"data-example","");const e=o(this,_,kd).call(this);E(e,"data-example",""),e.textContent=this.$props.exampleText(),t==null||t.append(e),(i=this.el)==null||i.append(t),(a=this.el)==null||a.setAttribute("data-example",""),o(this,_,Sd).call(this)},di=new WeakMap,Sd=function(){window.clearTimeout(r(this,di)),d(this,di,window.setTimeout(o(this,_,sl).bind(this),2500))},sl=function(){var t,e;(t=this.el)==null||t.removeAttribute("data-example"),(e=this.el)!=null&&e.querySelector("[data-example]")&&(this.el.textContent=""),d(this,di,-1)},xd=function(){const t=document.createElement("div");return E(t,"data-part","cue-display"),t},kd=function(){const t=document.createElement("div");return E(t,"data-part","cue"),t},g(ls,"props",{textDir:"ltr",exampleText:"Captions look like this."}),g(ls,"lib",D(null));let wd=ls;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var bc;const $l=window,Ka=$l.trustedTypes,Jp=Ka?Ka.createPolicy("lit-html",{createHTML:n=>n}):void 0,Ed="$lit$",qi=`lit$${(Math.random()+"").slice(9)}$`,Zv="?"+qi,jk=`<${Zv}>`,Er=document,yo=()=>Er.createComment(""),bo=n=>n===null||typeof n!="object"&&typeof n!="function",tT=Array.isArray,Qk=n=>tT(n)||typeof(n==null?void 0:n[Symbol.iterator])=="function",$c=`[ 	
\f\r]`,eo=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Zp=/-->/g,tf=/>/g,kn=RegExp(`>|${$c}(?:([^\\s"'>=/]+)(${$c}*=${$c}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),ef=/'/g,sf=/"/g,eT=/^(?:script|style|textarea|title)$/i,zk=n=>(s,...t)=>({_$litType$:n,strings:s,values:t}),Yk=zk(1),$o=Symbol.for("lit-noChange"),Ot=Symbol.for("lit-nothing"),nf=new WeakMap,qn=Er.createTreeWalker(Er,129,null,!1);function sT(n,s){if(!Array.isArray(n)||!n.hasOwnProperty("raw"))throw Error("invalid template strings array");return Jp!==void 0?Jp.createHTML(s):s}const Xk=(n,s)=>{const t=n.length-1,e=[];let i,a=s===2?"<svg>":"",h=eo;for(let l=0;l<t;l++){const c=n[l];let p,f,m=-1,b=0;for(;b<c.length&&(h.lastIndex=b,f=h.exec(c),f!==null);)b=h.lastIndex,h===eo?f[1]==="!--"?h=Zp:f[1]!==void 0?h=tf:f[2]!==void 0?(eT.test(f[2])&&(i=RegExp("</"+f[2],"g")),h=kn):f[3]!==void 0&&(h=kn):h===kn?f[0]===">"?(h=i??eo,m=-1):f[1]===void 0?m=-2:(m=h.lastIndex-f[2].length,p=f[1],h=f[3]===void 0?kn:f[3]==='"'?sf:ef):h===sf||h===ef?h=kn:h===Zp||h===tf?h=eo:(h=kn,i=void 0);const $=h===kn&&n[l+1].startsWith("/>")?" ":"";a+=h===eo?c+jk:m>=0?(e.push(p),c.slice(0,m)+Ed+c.slice(m)+qi+$):c+qi+(m===-2?(e.push(void 0),l):$)}return[sT(n,a+(n[t]||"<?>")+(s===2?"</svg>":"")),e]};class wo{constructor({strings:s,_$litType$:t},e){let i;this.parts=[];let a=0,h=0;const l=s.length-1,c=this.parts,[p,f]=Xk(s,t);if(this.el=wo.createElement(p,e),qn.currentNode=this.el.content,t===2){const m=this.el.content,b=m.firstChild;b.remove(),m.append(...b.childNodes)}for(;(i=qn.nextNode())!==null&&c.length<l;){if(i.nodeType===1){if(i.hasAttributes()){const m=[];for(const b of i.getAttributeNames())if(b.endsWith(Ed)||b.startsWith(qi)){const $=f[h++];if(m.push(b),$!==void 0){const v=i.getAttribute($.toLowerCase()+Ed).split(qi),S=/([.?@])?(.*)/.exec($);c.push({type:1,index:a,name:S[2],strings:v,ctor:S[1]==="."?Zk:S[1]==="?"?eE:S[1]==="@"?sE:rc})}else c.push({type:6,index:a})}for(const b of m)i.removeAttribute(b)}if(eT.test(i.tagName)){const m=i.textContent.split(qi),b=m.length-1;if(b>0){i.textContent=Ka?Ka.emptyScript:"";for(let $=0;$<b;$++)i.append(m[$],yo()),qn.nextNode(),c.push({type:2,index:++a});i.append(m[b],yo())}}}else if(i.nodeType===8)if(i.data===Zv)c.push({type:2,index:a});else{let m=-1;for(;(m=i.data.indexOf(qi,m+1))!==-1;)c.push({type:7,index:a}),m+=qi.length-1}a++}}static createElement(s,t){const e=Er.createElement("template");return e.innerHTML=s,e}}function Ga(n,s,t=n,e){var i,a,h,l;if(s===$o)return s;let c=e!==void 0?(i=t._$Co)===null||i===void 0?void 0:i[e]:t._$Cl;const p=bo(s)?void 0:s._$litDirective$;return(c==null?void 0:c.constructor)!==p&&((a=c==null?void 0:c._$AO)===null||a===void 0||a.call(c,!1),p===void 0?c=void 0:(c=new p(n),c._$AT(n,t,e)),e!==void 0?((h=(l=t)._$Co)!==null&&h!==void 0?h:l._$Co=[])[e]=c:t._$Cl=c),c!==void 0&&(s=Ga(n,c._$AS(n,s.values),c,e)),s}class Jk{constructor(s,t){this._$AV=[],this._$AN=void 0,this._$AD=s,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(s){var t;const{el:{content:e},parts:i}=this._$AD,a=((t=s==null?void 0:s.creationScope)!==null&&t!==void 0?t:Er).importNode(e,!0);qn.currentNode=a;let h=qn.nextNode(),l=0,c=0,p=i[0];for(;p!==void 0;){if(l===p.index){let f;p.type===2?f=new vh(h,h.nextSibling,this,s):p.type===1?f=new p.ctor(h,p.name,p.strings,this,s):p.type===6&&(f=new iE(h,this,s)),this._$AV.push(f),p=i[++c]}l!==(p==null?void 0:p.index)&&(h=qn.nextNode(),l++)}return qn.currentNode=Er,a}v(s){let t=0;for(const e of this._$AV)e!==void 0&&(e.strings!==void 0?(e._$AI(s,e,t),t+=e.strings.length-2):e._$AI(s[t])),t++}}class vh{constructor(s,t,e,i){var a;this.type=2,this._$AH=Ot,this._$AN=void 0,this._$AA=s,this._$AB=t,this._$AM=e,this.options=i,this._$Cp=(a=i==null?void 0:i.isConnected)===null||a===void 0||a}get _$AU(){var s,t;return(t=(s=this._$AM)===null||s===void 0?void 0:s._$AU)!==null&&t!==void 0?t:this._$Cp}get parentNode(){let s=this._$AA.parentNode;const t=this._$AM;return t!==void 0&&(s==null?void 0:s.nodeType)===11&&(s=t.parentNode),s}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(s,t=this){s=Ga(this,s,t),bo(s)?s===Ot||s==null||s===""?(this._$AH!==Ot&&this._$AR(),this._$AH=Ot):s!==this._$AH&&s!==$o&&this._(s):s._$litType$!==void 0?this.g(s):s.nodeType!==void 0?this.$(s):Qk(s)?this.T(s):this._(s)}k(s){return this._$AA.parentNode.insertBefore(s,this._$AB)}$(s){this._$AH!==s&&(this._$AR(),this._$AH=this.k(s))}_(s){this._$AH!==Ot&&bo(this._$AH)?this._$AA.nextSibling.data=s:this.$(Er.createTextNode(s)),this._$AH=s}g(s){var t;const{values:e,_$litType$:i}=s,a=typeof i=="number"?this._$AC(s):(i.el===void 0&&(i.el=wo.createElement(sT(i.h,i.h[0]),this.options)),i);if(((t=this._$AH)===null||t===void 0?void 0:t._$AD)===a)this._$AH.v(e);else{const h=new Jk(a,this),l=h.u(this.options);h.v(e),this.$(l),this._$AH=h}}_$AC(s){let t=nf.get(s.strings);return t===void 0&&nf.set(s.strings,t=new wo(s)),t}T(s){tT(this._$AH)||(this._$AH=[],this._$AR());const t=this._$AH;let e,i=0;for(const a of s)i===t.length?t.push(e=new vh(this.k(yo()),this.k(yo()),this,this.options)):e=t[i],e._$AI(a),i++;i<t.length&&(this._$AR(e&&e._$AB.nextSibling,i),t.length=i)}_$AR(s=this._$AA.nextSibling,t){var e;for((e=this._$AP)===null||e===void 0||e.call(this,!1,!0,t);s&&s!==this._$AB;){const i=s.nextSibling;s.remove(),s=i}}setConnected(s){var t;this._$AM===void 0&&(this._$Cp=s,(t=this._$AP)===null||t===void 0||t.call(this,s))}}class rc{constructor(s,t,e,i,a){this.type=1,this._$AH=Ot,this._$AN=void 0,this.element=s,this.name=t,this._$AM=i,this.options=a,e.length>2||e[0]!==""||e[1]!==""?(this._$AH=Array(e.length-1).fill(new String),this.strings=e):this._$AH=Ot}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(s,t=this,e,i){const a=this.strings;let h=!1;if(a===void 0)s=Ga(this,s,t,0),h=!bo(s)||s!==this._$AH&&s!==$o,h&&(this._$AH=s);else{const l=s;let c,p;for(s=a[0],c=0;c<a.length-1;c++)p=Ga(this,l[e+c],t,c),p===$o&&(p=this._$AH[c]),h||(h=!bo(p)||p!==this._$AH[c]),p===Ot?s=Ot:s!==Ot&&(s+=(p??"")+a[c+1]),this._$AH[c]=p}h&&!i&&this.j(s)}j(s){s===Ot?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,s??"")}}class Zk extends rc{constructor(){super(...arguments),this.type=3}j(s){this.element[this.name]=s===Ot?void 0:s}}const tE=Ka?Ka.emptyScript:"";class eE extends rc{constructor(){super(...arguments),this.type=4}j(s){s&&s!==Ot?this.element.setAttribute(this.name,tE):this.element.removeAttribute(this.name)}}class sE extends rc{constructor(s,t,e,i,a){super(s,t,e,i,a),this.type=5}_$AI(s,t=this){var e;if((s=(e=Ga(this,s,t,0))!==null&&e!==void 0?e:Ot)===$o)return;const i=this._$AH,a=s===Ot&&i!==Ot||s.capture!==i.capture||s.once!==i.once||s.passive!==i.passive,h=s!==Ot&&(i===Ot||a);a&&this.element.removeEventListener(this.name,this,i),h&&this.element.addEventListener(this.name,this,s),this._$AH=s}handleEvent(s){var t,e;typeof this._$AH=="function"?this._$AH.call((e=(t=this.options)===null||t===void 0?void 0:t.host)!==null&&e!==void 0?e:this.element,s):this._$AH.handleEvent(s)}}class iE{constructor(s,t,e){this.element=s,this.type=6,this._$AN=void 0,this._$AM=t,this.options=e}get _$AU(){return this._$AM._$AU}_$AI(s){Ga(this,s)}}const rf=$l.litHtmlPolyfillSupport;rf==null||rf(wo,vh),((bc=$l.litHtmlVersions)!==null&&bc!==void 0?bc:$l.litHtmlVersions=[]).push("2.8.0");const af=(n,s,t)=>{var e,i;const a=(e=t==null?void 0:t.renderBefore)!==null&&e!==void 0?e:s;let h=a._$litPart$;if(h===void 0){const l=(i=t==null?void 0:t.renderBefore)!==null&&i!==void 0?i:null;a._$litPart$=h=new vh(s.insertBefore(yo(),l),l,void 0,t??{})}return h._$AI(n),h};class nE extends HTMLElement{constructor(){super(...arguments);g(this,"rootPart",null)}connectedCallback(){this.rootPart=af(this.render(),this,{renderBefore:this.firstChild}),this.rootPart.setConnected(!0)}disconnectedCallback(){var t;(t=this.rootPart)==null||t.setConnected(!1),this.rootPart=null,af(null,this)}}const rE=nm('<img loading="eager" decoding="async" aria-hidden="true">');var Nl,pn,Hl,iT;class wl extends O(HTMLElement,Ru){constructor(){super(...arguments);u(this,Hl);u(this,Nl);u(this,pn,o(this,Hl,iT).call(this))}onSetup(){d(this,Nl,N()),this.$state.img.set(r(this,pn))}onConnect(){const{src:t,crossOrigin:e}=this.$state;r(this,pn).parentNode!==this&&this.prepend(r(this,pn)),y(()=>{E(r(this,pn),"src",t()),E(r(this,pn),"crossorigin",e())})}}Nl=new WeakMap,pn=new WeakMap,Hl=new WeakSet,iT=function(){return rm(rE)},g(wl,"tagName","media-thumbnail"),g(wl,"attrs",{crossOrigin:"crossorigin"});class nT extends O(HTMLElement,Zu){onConnect(){y(()=>{this.textContent=this.$state.timeText()})}}g(nT,"tagName","media-time");class rT extends O(HTMLElement,my){}g(rT,"tagName","media-airplay-button");class aT extends O(HTMLElement,Ty){}g(aT,"tagName","media-caption-button");class oT extends O(HTMLElement,xy){}g(oT,"tagName","media-fullscreen-button");class hT extends O(HTMLElement,Dy){}g(hT,"tagName","media-live-button");class lT extends O(HTMLElement,Cy){}g(lT,"tagName","media-mute-button");class cT extends O(HTMLElement,Ly){}g(cT,"tagName","media-pip-button");class uT extends O(HTMLElement,wy){}g(uT,"tagName","media-play-button");class dT extends O(HTMLElement,qy){}g(dT,"tagName","media-seek-button");function Ja(n,s){yi(()=>{if(!n.connectScope)return;const t=n.querySelector("template");t&&y(()=>{const e=n.getOptions();tp(t,e.length,(i,a)=>{const{label:h,value:l}=e[a],c=i.querySelector('[data-part="label"]');i.setAttribute("value",l),c&&(V(h)?c.textContent=h:y(()=>{c.textContent=h()})),s==null||s(i,e[a],a)})})})}class pT extends O(HTMLElement,ap){onConnect(){Ja(this)}}g(pT,"tagName","media-audio-radio-group");class fT extends O(HTMLElement,hp){onConnect(){Ja(this)}}g(fT,"tagName","media-captions-radio-group");class mT extends O(HTMLElement,qr){}g(mT,"tagName","media-menu");class gT extends O(HTMLElement,ic){}g(gT,"tagName","media-menu-button");class yT extends O(HTMLElement,Rk){}g(yT,"tagName","media-menu-item");class bT extends O(HTMLElement,k$){}g(bT,"tagName","media-menu-items");class $T extends O(HTMLElement,cp){onConnect(){Ja(this)}}g($T,"tagName","media-speed-radio-group");class wT extends O(HTMLElement,dp){onConnect(){Ja(this,(s,t)=>{const e=t.bitrate,i=s.querySelector('[data-part="bitrate"]');e&&i&&y(()=>{i.textContent=e()||""})})}}g(wT,"tagName","media-quality-radio-group");class vT extends O(HTMLElement,rp){}g(vT,"tagName","media-radio");var hh,lh,Fl,ST;class TT extends wl{constructor(){super(...arguments);u(this,Fl);u(this,hh);u(this,lh)}onSetup(){super.onSetup(),d(this,hh,N()),d(this,lh,za(kr.state))}onConnect(){super.onConnect(),y(o(this,Fl,ST).bind(this))}}hh=new WeakMap,lh=new WeakMap,Fl=new WeakSet,ST=function(){const{duration:t,clipStartTime:e}=r(this,hh).$state;this.time=e()+r(this,lh).pointerRate()*t()},g(TT,"tagName","media-slider-thumbnail");class Cd extends O(HTMLElement,np){onConnect(){y(()=>{this.textContent=this.getValueText()})}}g(Cd,"tagName","media-slider-value"),g(Cd,"attrs",{padMinutes:{converter:If}});class xT extends O(HTMLElement,yl){}g(xT,"tagName","media-time-slider");class kT extends O(HTMLElement,xb){}g(kT,"tagName","media-slider-preview");class ET extends O(HTMLElement,Nu){}g(ET,"tagName","media-volume-slider");class CT extends O(HTMLElement,wd){}g(CT,"tagName","media-captions");class AT extends O(HTMLElement,_v){}g(AT,"tagName","media-gesture");class wp extends O(HTMLElement,sd){}g(wp,"tagName","media-announcer");class PT extends O(HTMLElement,gw){}g(PT,"tagName","media-controls");class LT extends O(HTMLElement,_k){}g(LT,"tagName","media-controls-group");class aE extends M{}var ch,Bl,OT;class MT extends O(HTMLElement,aE){constructor(){super(...arguments);u(this,Bl);u(this,ch)}onSetup(){d(this,ch,N())}onConnect(){y(o(this,Bl,OT).bind(this))}}ch=new WeakMap,Bl=new WeakSet,OT=function(){const{title:t}=r(this,ch).$state;this.textContent=t()},g(MT,"tagName","media-title");class qT extends M{}g(qT,"props",{defaultText:""});var uh,_a,Wl,RT;class IT extends O(HTMLElement,qT){constructor(){super(...arguments);u(this,Wl);u(this,uh);u(this,_a)}onSetup(){d(this,uh,N()),d(this,_a,D(""))}onConnect(){const t=r(this,uh).textTracks;k0(t,"chapters",r(this,_a).set),y(o(this,Wl,RT).bind(this))}}uh=new WeakMap,_a=new WeakMap,Wl=new WeakSet,RT=function(){const{defaultText:t}=this.$props;this.textContent=r(this,_a).call(this)||t()},g(IT,"tagName","media-chapter-title");var Ul,DT;class VT extends M{constructor(){super(...arguments);u(this,Ul)}onConnect(t){yi(()=>{if(!this.connectScope)return;const e=t.querySelector("svg"),i=e.firstElementChild,a=i.nextElementSibling;y(o(this,Ul,DT).bind(this,e,i,a))})}}Ul=new WeakSet,DT=function(t,e,i){const{size:a,trackWidth:h,fillPercent:l}=this.$props;E(t,"width",a()),E(t,"height",a()),E(e,"stroke-width",h()),E(i,"stroke-width",h()),E(i,"stroke-dashoffset",100-l())},g(VT,"props",{size:96,trackWidth:8,fillPercent:50});class _T extends O(nE,VT){render(){return Yk`
      <svg fill="none" viewBox="0 0 120 120" aria-hidden="true" data-part="root">
        <circle cx="60" cy="60" r="54" stroke="currentColor" data-part="track"></circle>
        <circle
          cx="60"
          cy="60"
          r="54"
          stroke="currentColor"
          pathLength="100"
          stroke-dasharray="100"
          data-part="track-fill"
        ></circle>
      </svg>
    `}}g(_T,"tagName","media-spinner");class NT extends M{}g(NT,"props",{when:!1});var dh,Kl,FT;class HT extends O(HTMLElement,NT){constructor(){super(...arguments);u(this,Kl);u(this,dh)}onSetup(){d(this,dh,N())}onConnect(){y(o(this,Kl,FT).bind(this))}}dh=new WeakMap,Kl=new WeakSet,FT=function(){const t=this.firstElementChild,e=(t==null?void 0:t.localName)==="template",i=this.$props.when();if(!(TS(i)?i:ss(()=>i(r(this,dh).player.state))())){e?(this.textContent="",this.appendChild(t)):xr(t)&&(t.style.display="none");return}e?this.append(t.content.cloneNode(!0)):xr(t)&&(t.style.display="")},g(HT,"tagName","media-layout");class BT extends O(HTMLElement,Pw){}g(BT,"tagName","media-google-cast-button");class WT extends O(HTMLElement,fp){}g(WT,"tagName","media-toggle-button");class UT extends O(HTMLElement,$w){}g(UT,"tagName","media-tooltip");class KT extends O(HTMLElement,Hk){onConnect(){this.style.display="contents"}}g(KT,"tagName","media-tooltip-trigger");class GT extends O(HTMLElement,Ew){}g(GT,"tagName","media-tooltip-content");class Ad extends O(HTMLElement,v$){}g(Ad,"tagName","media-menu-portal"),g(Ad,"attrs",{disabled:{converter(s){return V(s)?s:s!==null}}});class jT extends O(HTMLElement,wh){onConnect(){Ja(this,(s,t)=>{const{cue:e,startTime:i,duration:a}=t,h=s.querySelector(".vds-thumbnail,media-thumbnail"),l=s.querySelector('[data-part="start-time"]'),c=s.querySelector('[data-part="duration"]');l&&(l.textContent=i),c&&(c.textContent=a),h&&(h.setAttribute("time",e.startTime+""),y(()=>{const p=this.$props.thumbnails();"src"in h?h.src=p:V(p)&&h.setAttribute("src",p)}))})}}g(jT,"tagName","media-chapters-radio-group");class QT extends O(HTMLElement,bp){onConnect(){Ja(this)}}g(QT,"tagName","media-audio-gain-radio-group");class zT extends O(HTMLElement,gp){}g(zT,"tagName","media-radio-group");class YT extends O(HTMLElement,kr){}g(YT,"tagName","media-slider");const oE=nm('<video muted playsinline preload="none" style="max-width: unset;"></video>');var ph,pi,Gl,JT;class XT extends O(HTMLElement,bl){constructor(){super(...arguments);u(this,Gl);u(this,ph);u(this,pi,o(this,Gl,JT).call(this))}onSetup(){d(this,ph,N()),this.$state.video.set(r(this,pi))}onConnect(){const{canLoad:t}=r(this,ph).$state,{src:e,crossOrigin:i}=this.$state;r(this,pi).parentNode!==this&&this.prepend(r(this,pi)),y(()=>{E(r(this,pi),"crossorigin",i()),E(r(this,pi),"preload",t()?"auto":"none"),E(r(this,pi),"src",e())})}}ph=new WeakMap,pi=new WeakMap,Gl=new WeakSet,JT=function(){return rm(oE)},g(XT,"tagName","media-slider-video");class ZT extends O(HTMLElement,ld){}g(ZT,"tagName","media-audio-gain-slider");class tS extends O(HTMLElement,ud){}g(tS,"tagName","media-speed-slider");class eS extends O(HTMLElement,dd){}g(eS,"tagName","media-quality-slider");var Na,jl,iS;class sS extends O(HTMLElement,mp){constructor(){super(...arguments);u(this,jl);u(this,Na,null)}onConnect(){yi(()=>{if(!this.connectScope)return;const t=this.querySelector("template");t&&(d(this,Na,t),y(o(this,jl,iS).bind(this)))})}}Na=new WeakMap,jl=new WeakSet,iS=function(){if(!r(this,Na))return;const t=tp(r(this,Na),this.cues.length||1);this.setRefs(t)},g(sS,"tagName","media-slider-chapters");class hE extends M{}var $r,Ql,rS;class nS extends O(HTMLElement,hE){constructor(){super(...arguments);u(this,Ql);u(this,$r,null)}onConnect(t){yi(()=>{this.connectScope&&(d(this,$r,t.querySelector("template")),r(this,$r)&&y(o(this,Ql,rS).bind(this)))})}}$r=new WeakMap,Ql=new WeakSet,rS=function(){if(!r(this,$r))return;const{min:t,max:e,step:i}=za(Or),a=(e()-t())/i();tp(r(this,$r),Math.floor(a)+1)},g(nS,"tagName","media-slider-steps");var Me,et,Ld,aS,Md,oS,hS,fh,Od,qd,Id,lS,Rd,cS;class Pd extends M{constructor(){super(...arguments);u(this,et);u(this,Me);u(this,fh,"")}onSetup(){d(this,Me,N()),o(this,et,Od).call(this),o(this,et,qd).call(this),o(this,et,Id).call(this),o(this,et,Md).call(this)}onAttach(t){t.style.setProperty("pointer-events","none"),y(o(this,et,hS).bind(this)),y(o(this,et,Od).bind(this)),y(o(this,et,qd).bind(this)),y(o(this,et,Id).bind(this)),y(o(this,et,Md).bind(this));const{started:e}=r(this,Me).$state;this.setAttributes({"data-visible":()=>!e()&&!this.$state.hidden(),"data-loading":o(this,et,oS).bind(this),"data-error":o(this,et,Ld).bind(this),"data-hidden":this.$state.hidden})}onConnect(t){y(o(this,et,aS).bind(this)),y(o(this,et,lS).bind(this))}}Me=new WeakMap,et=new WeakSet,Ld=function(){const{error:t}=this.$state;return!Ss(t())},aS=function(){const{canLoadPoster:t,poster:e}=r(this,Me).$state;!t()&&e()&&yh(e(),"preconnect")},Md=function(){const{src:t}=this.$props,{poster:e,nativeControls:i}=r(this,Me).$state;this.el&&E(this.el,"display",i()?"none":null),this.$state.hidden.set(o(this,et,Ld).call(this)||!(t()||e())||i())},oS=function(){const{loading:t,hidden:e}=this.$state;return!e()&&t()},hS=function(){const t=this.$state.img();t&&(new ht(t).add("load",o(this,et,Rd).bind(this)).add("error",o(this,et,cS).bind(this)),t.complete&&o(this,et,Rd).call(this))},fh=new WeakMap,Od=function(){const{poster:t}=r(this,Me).$props,{canLoadPoster:e,providedPoster:i,inferredPoster:a}=r(this,Me).$state,h=this.$props.src()||"",l=h||t()||a();r(this,fh)===i()&&i.set(h),this.$state.src.set(e()&&l.length?l:null),d(this,fh,h)},qd=function(){const{src:t}=this.$props,{alt:e}=this.$state,{poster:i}=r(this,Me).$state;e.set(t()||i()?this.$props.alt():null)},Id=function(){const{crossOrigin:t}=this.$props,{crossOrigin:e}=this.$state,{crossOrigin:i,poster:a}=r(this,Me).$state,h=t()!==null?t():i();e.set(/ytimg\.com|vimeo/.test(a()||"")?null:h===!0?"anonymous":h)},lS=function(){const{loading:t,error:e}=this.$state,{canLoadPoster:i,poster:a}=r(this,Me).$state;t.set(i()&&!!a()),e.set(null)},Rd=function(){const{loading:t,error:e}=this.$state;t.set(!1),e.set(null)},cS=function(t){const{loading:e,error:i}=this.$state;e.set(!1),i.set(t)},g(Pd,"props",{src:null,alt:null,crossOrigin:null}),g(Pd,"state",new Sn({img:null,src:null,alt:null,crossOrigin:null,loading:!0,error:null,hidden:!1}));var Ts;class Vd extends O(HTMLElement,Pd){constructor(){super(...arguments);u(this,Ts,document.createElement("img"))}onSetup(){this.$state.img.set(r(this,Ts))}onConnect(){const{src:t,alt:e,crossOrigin:i}=this.$state;y(()=>{const{loading:a,hidden:h}=this.$state;r(this,Ts).style.display=a()||h()?"none":""}),y(()=>{E(r(this,Ts),"alt",e()),E(r(this,Ts),"crossorigin",i()),E(r(this,Ts),"src",t())}),r(this,Ts).parentNode!==this&&this.prepend(r(this,Ts))}}Ts=new WeakMap,g(Vd,"tagName","media-poster"),g(Vd,"attrs",{crossOrigin:"crossorigin"});L(HT);L(PT);L(LT);L(Vd);L(wp);L(UT);L(KT);L(GT);L(uT);L(lT);L(aT);L(oT);L(cT);L(dT);L(rT);L(BT);L(WT);L(YT);L(ZT);L(ET);L(xT);L(tS);L(eS);L(sS);L(nS);L(kT);L(Cd);L(TT);L(XT);L(mT);L(gT);L(Ad);L(bT);L(yT);L(pT);L(fT);L($T);L(QT);L(wT);L(jT);L(zT);L(vT);L(AT);L(wl);L(CT);L(hT);L(nT);L(MT);L(IT);L(_T);L(wp);function lE(){document.querySelectorAll(".brxe-xmediaplayer, .brxe-xmediaplayeraudio").forEach(s=>{const t=s.getAttribute("data-x-media-player");(t?JSON.parse(t):{}).playlist?s.addEventListener("x_media_player:switch",i=>{let a=i.detail.chapters;const h=new Fa({label:"English",language:"en-US",kind:"chapters",default:!0,type:"json"});for(const l of a)h.addCue(new window.VTTCue(l.startTime,l.endTime,l.text));s.textTracks.clear(),s.textTracks.add(h)}):s.addEventListener("x_media_player:ready",()=>{if(s.hasAttribute("data-x-chapters")){let i=new Fa({label:"English",language:"en-US",kind:"chapters",default:!0,type:"json"});const a=s.getAttribute("data-x-chapters"),h=a?JSON.parse(a):{};for(const l of h)i.addCue(new window.VTTCue(l.startTime,l.endTime,l.text));s.textTracks.add(i)}})})}document.addEventListener("x_media_player:load-chapters",()=>{lE()});export{yE as A,fE as B,_f as C,ot as D,ht as E,gh as F,uE as G,Px as H,pE as I,D as J,Vh as K,J as L,Tc as M,jt as N,vS as O,TS as P,We as Q,bE as R,T0 as S,Fa as T,dE as U,fo as V,fe as _,nm as a,V as b,rm as c,T as d,y as e,qf as f,U as g,r0 as h,Gd as i,es as j,uc as k,qt as l,$E as m,mi as n,p0 as o,yh as p,h0 as q,o0 as r,de as s,qe as t,gE as u,mE as v,l0 as w,B as x,rl as y,E as z};
